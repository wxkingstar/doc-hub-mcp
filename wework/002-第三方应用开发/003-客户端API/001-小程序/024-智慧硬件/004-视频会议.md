---
title: "视频会议"
doc_id: 15508
category_id: 92479
source_url: https://developer.work.weixin.qq.com/document/path/15508
---
[TOC]

### 查询当前是否在视频会议
wx.qy.queryCurrHWOpenTalk
> 此接口在企业微信2.7.0及以后版本支持

**参数**
**Object object**

| 属性 | 类型 | 默认值 | 是否必填 | 说明 | 支持版本 |
| -------- | ------ | ---- | -------------|----- | ---- |
| success | function | | 否 | 接口调用成功的回调函数 | |
| fail | function | | 否 | 接口调用失败的回调函数 | |
| complete | function | | 否 | 接口调用结束的回调函数（调用成功、失败都会执行） | | |

**object.success 回调函数**
**参数
Object res**

| 属性 | 类型 | 说明 | 支持版本 |
| ----------------- | ------ | -------------- | ---- |
| inTalkType | String | 当查询成功时，返回当前通话的类型，类型定义详见下面的inTalkType类型说明表 | |
| ticket | string | 如果当前通话类型为视频会议，会将当前会议码票据（enterHWOpenTalk中携带的ticket）回传 | |

**res.inTalkType 的合法值**

| 值 | 说明 |
| ---- | ------------------------ |
| None | 当前不在任何通话中 |
| HWOpenTalk | 视频会议中 |
| VoIP | voip通话中 |
| SystemCall | 系统通话中 |

**示例代码**
```
wx.qy.queryCurrHWOpenTalk({
 success: (res) => {
 if (res.inTalkType != "None") {
 // busy
 if (res.inTalkType == "HWOpenTalk") {
 //res.ticket
 }
 }
 },
 fail: (res) => {
 console.log(JSON.stringify(res))
 }
})
```

### 加入视频会议
wx.qy.enterHWOpenTalk
> 此接口在企业微信2.7.0及以后版本支持
> 只能加入同企业硬件创建的视频会议

**参数**
**Object object**

| 属性 | 类型 | 默认值 | 是否必填 | 说明 | 支持版本 |
| -------- | ------ | ---- | -------------|----- | ---- |
| code | String | | 是 | 会议码，从对应的视频会议硬件上获取 | |
| ticket | String | | 否 | 会议码票据，调用方可以根据会议码生成对应的会议码票据。此票据会在调用queryCurrHWOpenTalk时返回，便于换回对应的会议码（调用方需要记录票据->会议码的映射关系） | |
| success | function | | 否 | 接口调用成功的回调函数 | |
| fail | function | | 否 | 接口调用失败的回调函数 | |
| complete | function | | 否 | 接口调用结束的回调函数（调用成功、失败都会执行） | | |

**示例代码**
```
wx.qy.enterHWOpenTalk({
 code: "",
 ticket: "",
 success: (res) => {
 //发起加入会议请求成功
 },
 fail: (res) => {
 console.log(JSON.stringify(res))
 }
})
```
