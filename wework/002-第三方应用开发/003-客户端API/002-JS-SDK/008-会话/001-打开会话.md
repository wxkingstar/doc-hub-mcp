---
title: "打开会话"
doc_id: 14929
category_id: 93231
source_url: https://developer.work.weixin.qq.com/document/path/14929
---
[[toc]]

> 由于[企业微信账号ID已全面升级](#35863)，第三方应用与代开发应用必须使用应用身份进行注册，否则传入的`userIds`与`externalUserIds`将无法正确的识别。

<!-- import openEnterpriseChat from @wecom/jssdk -->

## 旧版jweixin调用
### 示例代码
```javascript
wx.openEnterpriseChat({
 // 注意：userIds和externalUserIds至少选填一个。内部群最多2000人；外部群最多500人；如果有微信联系人，最多40人
 userIds: 'zhangsan;lisi;wangwu', //参与会话的企业成员列表，格式为userid1;userid2;...，用分号隔开。
 externalUserIds: 'wmEAlECwAAHrbWYDOK5u3Bf13xlYDAAA;wmEAlECwAAHibWYDOK5u3Af13xlYDAAA', // 参与会话的外部联系人列表，格式为userId1;userId2;…，用分号隔开。
 groupName: '讨论组', // 会话名称。单聊时该参数传入空字符串""即可。
  chatId: "CHATID", // 若要打开已有会话，需指定此参数。如果是新建会话，chatId必须为空串
 success: function(res) {
     var chatId = res.chatId; //返回当前群聊ID，仅当使用agentConfig注入该接口权限时才返回chatId
 // 回调
 },
 fail: function(res) {
 if(res.errMsg.indexOf('function not exist') > -1){
 alert('版本过低请升级')
 }
 }
});

```
