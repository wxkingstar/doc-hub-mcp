---
title: "审批控件中的外部选项"
doc_id: 42297
category_id: 97069
source_url: https://developer.work.weixin.qq.com/document/path/42297
---
[[toc]]
## 概述

如果企业在已有系统中有数据需要用到审批单据的单选框或多选框控件（以下简称选择控件）中作为选项，可以使用该功能实现。
## 使用方式

- 首先需要在企业微信管理后台，将选择控件的选项来源设置为“关联外部选项”，同时需要设置一个“外部选项页面地址”。
- 在完成后完成后，用户在审批应用中，当编辑选择控件时，会自动打开设置的网页让用户选择选项。
- 在该网页中，通过调用 JS SDK 提供的接口来保存和获取用户选择的选项。

## 相关能力
### 1. 基础信息获取

当用户从审批中打开配置的网页时，审批应用会额外添加两个参数到 URL 上，开发者需要获取这两个参数并做对应处理：

- selectorType: 表示该选择控件是单选还是多选，单选 - `single`，多选 - `multi`。请注意根据此参数限制用户的选择行为：单选时，只能选择1个，选择多个将报错；多选时，最多选择 300 个，超过将报错。
- key：调用下述接口时需要原值传入。

### 2. 保存选择的选项

当用户在网页中进行选择时，调用该接口保存用户的选择。

[ww.saveApprovalSelectedItems](#57163)

### 3. 获取已选择的选项

当用户打开网页后，应该先调用一次该接口获取用户已经选择的数据作为初始数据。获取到初始数据后，应该恢复已经选择的选项。

[ww.getApprovalSelectedItems](#57164)

## 特别提示
- 网页应该做好深色模式适配，请参考： [深色模式适配指南 - 接口文档 - 企业微信开发者中心](https://developer.work.weixin.qq.com/document/path/94555) ；
- 接口仅用于审批设置外部选项场景，请勿用作其他场景；
- 接口在企业微信 4.0.18 及以上版本中支持。
