---
title: "监听BLE设备特征值变化"
doc_id: 46022
category_id: 100651
source_url: https://developer.work.weixin.qq.com/document/path/46022
---
[[toc]]

<!-- import onBLECharacteristicValueChange from @wecom/jssdk -->

## 旧版jweixin调用
### 示例代码
```javascript
// ArrayBuffer转16进度字符串示例
function ab2hex(buffer) {
 var hexArr = Array.prototype.map.call(
 new Uint8Array(buffer),
 function(bit) {
 return ('00' + bit.toString(16)).slice(-2)
 }
 )
 return hexArr.join('');
}
wx.onBLECharacteristicValueChange(function(res) {
 console.log(`characteristic ${res.characteristicId} has changed, now is ${res.value}`)
 console.log(ab2hex(res.value))
})
```
