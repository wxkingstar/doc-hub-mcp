---
title: "概述"
doc_id: 41120
category_id: 96091
source_url: https://developer.work.weixin.qq.com/document/path/41120
---
[TOC]
# 概述
智慧硬件接口支持第三方应用获取企业下已绑定的设备所产生的数据或调用企业下已绑定设备的能力，如：获取企业下绑定的考勤/门禁设备的数据用于薪酬结算，调用企业下绑定的打印/扫描设备直接发起文件打印等。

# 调用权限申请

第三方应用获取硬件数据（如考勤原始数据，门禁通行原始数据等），均需要管理员进行授权。

为了获取应用数据授权，开发者需要关注以下步骤：
1. 第三方应用需要在企业微信服务商管理后台-应用权限处申请智慧硬件相关权限。
2. 企业微信会对第三方应用申请的权限进行审核，通过后服务商可进行应用发布。
3. 在企业管理员添加第三方应用后，在应用管理-权限详情页面中，会展示应用所申请的权限列表，经管理员授权后可通过接口获取权限结果集。
4. 对于已安装的应用，服务商可以修改当前应用权限，申请新的权限。流程上依然需要提交审核和发布，且发布后需要再次引导管理员进行确认。

> 注：
> 1. 应用也可以主动调用 [获取设备数据授权](#40193)唤起授权页。
> 2. 管理员还可以配置哪些设备产生的数据可以被读取。

# 接口开发
综上所述，服务商需要对接企业微信数据开放的一些接口和回调，以完成硬件数据授权的确认。

## 获取调用授权流程
以考勤门禁硬件为例，流程如下
- ![enter image description here](https://wework.qpic.cn/wwpic/969441_O-cZOxOhTBij1o7_1660033632/0)

### 授权变更回调
该回调触发时机为管理员同意授权，无论是首次安装还是后续变更，企业微信都会通过该事件告知服务商硬件数据授权有变化。详情可参考[设备数据授权变更回调](#41192)。

### 获取授权结果
服务商接收回调后可以调用获取授权结果。返回结果包含可被读取数据的硬件设备列表，此后应用可以使用相应的设备SN调用接口获取其产生的数据。详情可参考
[获取硬件数据授权结果](#41165)

### 获取硬件产生的数据
在得到管理员授权后，应用可以依据授权的结果集，调用以下接口获取具体的数据。

[获取考勤打卡原始数据](#40488)
[应用获取温度检测记录](#40490)
[应用获取门禁通行记录](#40491)
[应用读取门禁通行规则](#40492)
[应用写入门禁通行规则](#40493)
[应用修改门禁通行规则](#42059)
[应用删除门禁通行规则](#42068)

## 接口调试工具
企业微信提供简易的接口模拟工具，方便厂商进行调试。
开发者进入 [调试工具](https://developer.work.weixin.qq.com/resource/devtool) 后，系统会颁发一个测试SN，开发者可以自行进行绑定，并使用该工具模拟产生数据。

> 注：
> 1. 调试工具目前仅支持考勤门禁业务接口。
> 2. 每个开发者名下单个企业最多可以申请1个测试SN，最多不超过10个企业。
