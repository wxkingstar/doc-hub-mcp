---
title: "读取门禁通行规则"
doc_id: 40492
category_id: 96030
source_url: https://developer.work.weixin.qq.com/document/path/96030
---
最后更新：2024/03/13

第三方应用获取企业已设置的门禁规则。

>注意：
1.第三方应用须具有“设备接口信息权限-读取门禁规则”授权；
2.企业须同时安装硬件设备和第三方应用；
3.仅返回**第三方应用可见范围**内的成员对应设备的门禁规则数据；

**请求方式：**POST（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/devicedata/get_accesscontrol_rule?access_token=ACCESS_TOKEN
**请求包体：**

```
{
  "device_sn":"SN"
}
```

**参数说明：**
 
| 参数名 | 是否必须 | 类型 | 描述 |
| ------ | ---- | ------ | ---------------- |
| access_token | 是 | string | 应用调用接口权限 |
| device_sn | 是 | string | 打卡设备SN |

**返回结果：** 

```
{
 "errcode":0,
 "errmsg":"ok",
 "pass_rule":{
 "items":[
 {
 "rule_id":"xxx",
 "name":"rule_name",
 "rule_list":[
 "9:00-10:00 * * 1-5 *",
 "16:00-19:05 * * 6 *",
 "20:00-21:30 * * 0 *"
 ],
 "effect_time":1542874137,
 "effect_open_userid_list":[
 {
 "open_userid":"user1",
 "user_type":0
 },
 {
 "open_userid":"user2",
 "user_type":2
 }
 ]
 },
 {
 "rule_id":"xxq",
 "rule_list":[
 "9:300-10:00 * * 6 *"
 ],
 "effect_time":1542874137,
 "effect_open_userid_list":[
 {
 "open_userid":"user1",
 "user_type":0
 },
 {
 "open_userid":"user2",
 "user_type":2
 }
 ]
 }
 ]
 },
 "remote_pass_rule":{
 "items":[
 {
 "rule_id":"xxx",
 "name":"rule_name",
 "rule_list":[
 "9:00-10:00 * * 1-5 *",
 "11:00-12:00 * * 6,0 *"
 ],
 "effect_time":1542874137,
 "effect_open_userid_list":[
 {
 "open_userid":"user1",
 "user_type":0
 },
 {
 "open_userid":"user2",
 "user_type":2
 }
 ]
 },
 {
 "rule_id":"xxq",
 "rule_list":[
 "9:300-10:00 * * 6 *"
 ],
 "effect_time":1542874137,
 "effect_open_userid_list":[
 {
 "open_userid":"user1",
 "user_type":0
 },
 {
 "open_userid":"user2",
 "user_type":2
 }
 ]
 }
 ]
 }
}
```

**参数说明：** 

| 参数名 | 描述 |
| ------------ | ----------- |
| errcode | 错误码 |
| errmsg | 错误码描述 |
| pass_rule | 门禁规则列表 |
| pass_rule.items.rule_id | 门禁规则编号       |
| pass_rule.items.name | 门禁规则名称       |
| pass_rule.items.rule_list | 门禁规则，一个rule_id下可存在多条规则，其解析语法请参考附录[门禁放行规则语法说明](#15400) |
| pass_rule.items.effect_time | 门禁生效时间 |
| pass_rule.items.effect_open_userid_list | 门禁规则适用成员的openuserid 列表|
| open_userid | 生效成员的openuserid | 
| user_type | 成员类型：0：企业员工 2：学生 不填则默认值为0 | 
| remote_pass_rule | 远程开门规则列表，object内各字段含义与 pass_rule_list相同 |
