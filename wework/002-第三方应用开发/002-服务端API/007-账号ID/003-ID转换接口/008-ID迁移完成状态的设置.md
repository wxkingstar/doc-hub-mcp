---
title: "ID迁移完成状态的设置"
doc_id: 49945
category_id: 99375
source_url: https://developer.work.weixin.qq.com/document/path/49945
---
服务商完成**企业下所有第三方应用**的新旧id（userid/corpid/external_userid)迁移后，即可主动将该企业设置为“迁移完成”。设置后，第三方应用获取到的是升级后的id。注意，该接口需要使用provider_access_token来调用。

**请求方式：**POST（**HTTPS**）
**请求地址**：https://qyapi.weixin.qq.com/cgi-bin/service/finish_openid_migration?provider_access_token=ACCESS_TOKEN

**请求参数：**
```
{ 
 "corpid":"xxxxx",
 "openid_type":[
 1,3
 ]
}
```

**参数说明：**

| 参数 | 必须 | 说明 |
| :----------- | :--- | :----------------- |
| provider_access_token | 是 | 应用提供商的provider_access_token，获取方法参见[服务商的凭证](#11791/服务商的token) |
| corpid     | 是 | 企业corpid |
| openid_type | 是 | id类型：1-userid与corpid; 3-external_userid |

>注意：
> 1.当服务商第三方应用授权给本企业时，无需调用本接口;
> 2.当服务商对某企业设置external_userid迁移完成后，接口不再吐出该企业相关的unionid;
> 3.userid与corpid只能同时设置为迁移完成，external_userid可以单独设置。

**权限说明：**
> 该企业授权了该服务商的第三方应用

**返回结果：**

```
｛
   "errcode":0,
   "errmsg":"ok"
｝
```

**参数说明：**

| 参数 | 说明 |
| :----------- | :----------------- |
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
