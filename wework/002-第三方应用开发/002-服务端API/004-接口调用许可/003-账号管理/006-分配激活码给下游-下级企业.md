---
title: "分配激活码给下游/下级企业"
doc_id: 40708
category_id: 96059
source_url: https://developer.work.weixin.qq.com/document/path/40708
---
服务商可调用该接口将为上游/上级企业购买的激活码分配给下游/下级企业使用。
> (1) 目前支持的场景包括**企微上下游**和**企业互联**(含局校互联)
> (2) 上游/上级企业有共享该服务商的第三方应用或代开发应用给下游/下级企业
> (3) 分配给下游/下级企业的激活码，当前未激活，且属于上游/上级企业的，且未分配给其他下游/下级企业
> (4) 每次调用接口分配的激活码账号数，不能超过下游/下级企业在上下游/企业互联通讯录中人数上限的两倍

**请求方式：** POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/license/batch_share_active_code?provider_access_token=ACCESS_TOKEN

**请求包体：**

```
{
  "from_corpid": "FROMCORPID",
  "to_corpid": "ToCORPID",
  "share_list":[
  {
    "active_code":"ACTIVE_CODE1"
  },
  {
     "active_code":"ACTIVE_CODE2"
  }],  
  "corp_link_type": 0
}
```

**参数说明：** 

| 参数 | 是否必须 | 说明 |
| ------- | ---- | ---- |
| provider_access_token | 是 | 应用服务商的接口调用凭证，获取方法参见[服务商的凭证](#15143 ) |
|from_corpid|是|上游/上级企业corpid|
|to_corpid|是|下游/下级企业corpid|
|share_list|是|分配的接口许可列表。每次分配激活码不可超过1000个，且每次分配给下游/下级企业的激活码数不可超过上下游/企业互联通讯录中该下游企业人数的2倍|
|share_list.active_code|是|分配的激活码|
|corp_link_type|否|分配的场景，不填默认为0<br>0：上下游<br>1：企业互联|

**返回结果：** 
```
{
  "errcode": 0,
  "errmsg": "ok",
  "share_result":[
  {
    "active_code": "ACTIVE_CODE",
    "errcode": 700100,
    "errmsg": "error"
  }]
}
```

**参数说明：** 

| 参数 | 说明 |
| ------- | ---- |
| errcode |错误码 |
|errmsg|错误码说明|
|share_result|分配结果，仅分配失败的会返回|
|share_result.active_code|分配的激活码|
|share_result.errcode|错误码说明|
|share_result.errmsg|错误描述|
