---
title: "获取登录用户身份"
doc_id: 45859
category_id: 98179
source_url: https://developer.work.weixin.qq.com/document/path/45859
---
**请求方式：**GET（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/service/auth/getuserinfo3rd?suite_access_token=SUITE_ACCESS_TOKEN&code=CODE

**参数说明：**

| 参数 |必须|说明 |
|---- |-----|------ |
| suite_access_token |是|服务商登录授权SuiteId对应的suite_access_token，参见<a href="#10975/获取第三方应用凭证">“获取第三方应用凭证”</a> 。不允许代开发自建应用调用。代开发自建应用获取用户身份参考<a href="#15047">“获取访问用户身份”</a>|
| code | 是| 通过成员授权获取到的code，最大为512字节。每次成员授权带上的code将不一样，code只能使用一次，5分钟未被使用自动过期。 |

**权限说明：**
跳转的域名须完全匹配suite_access_token 对应第三方应用的可信域名，否则会返回50001错误。

**返回结果：**
a) 当用户属于某个企业，返回示例如下：
```
{
  "errcode": 0,
  "errmsg": "ok",
  "corpid": "CORPID",
  "userid": "USERID",
  "open_userid": "wwxxxx"
}
```
 | 参数 | 说明 |
 |---- | ----- |
 |errcode | 返回码 |
 |errmsg | 对返回码的文本描述内容 |
 | corpid | 用户所属企业的corpid |
 | userid | 用户在企业内的UserID，如果该企业与第三方应用没有授权关系时，返回密文UserId，有授权关系时，按照[升级后的ID策略](#35863)返回明文或密文 |
 | open_userid |全局唯一。对于同一个服务商，不同应用获取到企业内同一个成员的open_userid是相同的，最多64个字节。仅第三方应用可获取 |

b) 若用户不属于任何企业，返回示例如下：
```
{
 "errcode": 0,
 "errmsg": "ok",
 "openid":"OPENID"
}

```

 | 参数 | 说明 |
 |---- | ----- |
 |errcode | 返回码 |
 |errmsg | 对返回码的文本描述内容 |
 | openid | 非企业成员的标识，对当前服务商唯一 |

**出错返回示例：**

```
{
 "errcode": 40029,
 "errmsg": "invalid code"
}

```

>注：若服务商已经开启新的登录授权应用，则原通过企业管理端第三方应用业务设置跳转服务商网页场景拿到的auth_code使用旧的接口“[获取登录身份](#14957)”也可切换为该接口来消费。
