---
title: "管理企业知识集"
doc_id: 53353
category_id: 99836
source_url: https://developer.work.weixin.qq.com/document/path/53353
---
[TOC]

应用在专区的程序可调用本系列接口管理专区知识集。添加知识集后，应用和智能机器人可在专区中结合此知识集调用大模型。

| 应用类型 | 权限要求 |
| -------- | ---- | 
|自建应用|需具备「!!#ff0000 数据与智能专区-知识集!!」权限 |
|代开发应用|需具备「!!#ff0000 数据与智能专区-知识集!!」权限|
|第三方应用|需具备「!!#ff0000 数据与智能专区-知识集!!」权限|

## 获取企业授权给应用的知识集列表

**请求方法**
通过SDK调用，具体方式参考[专区程序使用指引](#54006)。

**请求接口名**:
knowledge_base_list

**返回结果**:

```
{
  "errcode": 0,
  "errmsg": "ok",
  "kb_info_list": [{
    "kb_id": "KBID",
    "kb_name": "NAME"
  }]
}
```

**参数说明**:

|参数|说明|
|:-----------|:-----------------|
| errcode | 返回码 |
| errmsg | 错误码描述 |
|kb_info_list| 知识集信息列表，详见**KBInfo说明** |

**KBInfo说明**:

|参数|说明|
|:-----------|:-----------------|
| kb_id | 知识集ID|
| kb_name |知识集名称 |

## 创建知识集

**请求方法**
通过SDK调用，具体方式参考[专区程序使用指引](#54006)。

**请求接口名：**
knowledge_base_create

> 每个企业的知识集总数量不能超过1000
> 暂不支持添加在线文档/表格/微盘文件
> 应用通过API创建的知识集，自动出现在企业授权给应用的知识集列表中。企业也可以取消授权。

**请求包体：**

```
{
  "kb_name": "知识集名",
  "doc_list": [{
      "doc_name": "客服问答.pdf",
      "type": 2,
      "file_media_id": "MEDIA_ID"
    },
    {
      "doc_name": "百度一下，你就知道",
      "type": 101,
      "web_url": "http://www.baidu.com"
    }
  ]
}
```

**参数说明：** 

|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| access_token | 是 | string | 调用接口凭证 |
|kb_name|是|string|知识集名</br>不少于1个字符</br>不多于20个字符|
|doc_list|是|obj[]|內容列表</br>可填充个数：1 ~ 1000|
|doc_list.doc_name|是|string|內容名，如果是文件，需要有准确的文件名后缀</br>不多于200字节|
|doc_list.type|是|uint32|內容类型</br>取值范围：</br>2 - pdf</br>4 - xlsx(用于上传问答对表格，需从管理端下载模版配置后上传)</br>5 - doc</br>6 - docx</br>101 - 网页链接|
|doc_list.file_media_id|否|string|专区临时文件ID。当type非网页链接时必传<br>通过[上传临时文件到专区](#55293)接口获取</br>不多于1024字节|
|doc_list.web_url|否|string|网页链接。当type为网页链接时必传，以http或https开头的链接</br>不多于1024字节|

**返回结果：**
```
{
  "errcode": 0,
  "errmsg": "ok",
  "kb_id": "KBID",
  "doc_list": [{
      "doc_name": "客服问答.pdf",
      "type": 2,
      "file_media_id": "MEDIA_ID",
      "docid": 1
    },
    {
      "doc_name": "百度一下，你就知道",
      "type": 101,
      "web_url": "http://www.baidu.com",
      "docid": 2
    }
  ]
}
```
**参数说明：**

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|返回码|
|errmsg|string|错误码描述|
|kb_id|string|知识集ID|
|doc_list|obj[]|內容列表|
|doc_list.doc_name|string|內容名|
|doc_list.type|uint32|內容类型|
|doc_list.file_media_id|string|专区临时文件ID|
|doc_list.web_url|string|网页链接|
|doc_list.docid|uint64|临时文件添加到知识集后的內容ID|

## 获取知识集详情

**请求方法**
通过SDK调用，具体方式参考[专区程序使用指引](#54006)。

**请求接口名：**
knowledge_base_detail
> 只能获取本应用通过API创建且没有被企业取消授权的知识集

**请求包体：**

```
{
  "kb_id": "KBID"
}
```

**参数说明：** 

|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| access_token | 是 | string | 调用接口凭证 |
|kb_id|是|string|知识集ID|

**返回结果：**
```
{
  "errcode": 0,
  "errmsg": "ok",
  "kb_id": "KBID",
  "kb_name": "KB_NAME",
  "doc_list": [{
      "docid": 1,
      "doc_name": "客服问答.pdf",
      "type": 2,
      "status": 1
    },
    {
      "docid": 2,
      "doc_name": "百度一下，你就知道",
      "type": 101,
      "web_url": "http://www.baidu.com",
      "status": 0
    }
  ]
}
```
**参数说明：**

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|返回码|
|errmsg|string|错误码描述|
|kb_id|string|知识集ID|
|kb_name|string|知识集名|
|doc_list|obj[]|內容列表|
|doc_list.docid|uint64|临时文件添加到知识集后的內容ID|
|doc_list.doc_name|string|內容名|
|doc_list.type|uint32|內容类型</br>取值范围：</br>2 - pdf</br>4 - xlsx(用于上传问答对表格，需从管理端下载模版配置后上传)</br>5 - doc</br>6 - docx</br>8 - 在线文档</br>9 - 在线表格</br>10 - 微盘文本</br>11 - 微盘pdf</br>12 - 微盘excel</br>13 - 微盘doc</br>14 - 微盘docx</br>15 - 微盘csv</br>16 - 微盘文件夹</br>101 - 网页链接|
|doc_list.web_url|string|网页链接|
|doc_list.status|int32|內容状态。</br>0-添加成功；</br>1-添加失败（网页无法访问/需鉴权/Excel没遵从模版格式等）；</br>2-添加中；|

## 添加知识集內容

**请求方法**
通过SDK调用，具体方式参考[专区程序使用指引](#54006)。

**请求接口名：**
knowledge_base_add_doc

> 暂不支持添加在线文档/表格/微盘文件
> 只能操作本应用通过API创建且没有被企业取消授权的知识集

**请求包体：**

```
{
  "kb_id": "KBID",
  "doc_list": [{
      "doc_name": "客服问答.pdf",
      "type": 2,
      "file_media_id": "MEDIA_ID"
    },
    {
      "doc_name": "百度一下，你就知道",
      "type": 101,
      "web_url": "http://www.baidu.com"
    }
  ]
}
```

**参数说明：** 

|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| access_token | 是 | string | 调用接口凭证 |
|kb_id|是|string|知识集ID|
|doc_list|是|obj[]|內容列表</br>可填充个数：1 ~ 1000。每个知识集的內容总数量不能超过1000|
|doc_list.doc_name|是|string|內容名，如果是文件，需要有准确的文件名后缀</br>不多于200字节|
|doc_list.type|是|uint32|內容类型</br>取值范围：</br>2 - pdf</br>4 - xlsx(用于上传问答对表格，需从管理端下载模版配置后上传)</br>5 - doc</br>6 - docx</br>101 - 网页链接|
|doc_list.file_media_id|否|string|专区临时文件ID。当type非网页链接时必传<br>通过[上传临时文件到专区](#55293)接口获取</br>不多于1024字节|
|doc_list.web_url|否|string|网页链接。当type为网页链接时必传，以http或https开头的链接</br>不多于1024字节|

**返回结果：**
```
{
  "errcode": 0,
  "errmsg": "ok",
  "doc_list": [{
      "doc_name": "客服问答.pdf",
      "type": 2,
      "file_media_id": "MEDIA_ID",
      "docid": 1
    },
    {
      "doc_name": "百度一下，你就知道",
      "type": 101,
      "web_url": "http://www.baidu.com",
      "docid": 2
    }
  ]
}
```
**参数说明：**

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|返回码|
|errmsg|string|错误码描述|
|doc_list|obj[]|內容列表|
|doc_list.doc_name|string|內容名|
|doc_list.type|uint32|內容类型|
|doc_list.file_media_id|string|专区临时文件ID|
|doc_list.web_url|string|网页链接|
|doc_list.docid|uint64|临时文件添加到知识集后的內容ID|

## 删除知识集內容

**请求方法**
通过SDK调用，具体方式参考[专区程序使用指引](#54006)。

**请求接口名：**
knowledge_base_remove_doc
> 只能操作本应用通过API创建且没有被企业取消授权的知识集

**请求包体：**

```
{
  "kb_id": "KBID",
  "docid_list": [0,1]
}
```

**参数说明：** 

|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| access_token | 是 | string | 调用接口凭证 |
|kb_id|是|string|知识集ID|
|docid_list|是|uint64[]|要删除的docid列表</br>可填充个数：1 ~ 1000|

**返回结果：**
```
{
  "errcode": 0,
  "errmsg": "ok"
}
```
**参数说明：**

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|返回码|
|errmsg|string|错误码描述|

## 修改知识集名称

**请求方法**
通过SDK调用，具体方式参考[专区程序使用指引](#54006)。

**请求接口名：**
knowledge_base_modify_name
> 只能操作本应用通过API创建且没有被企业取消授权的知识集

**请求包体：**

```
{
  "kb_id": "KBID",
  "kb_name": "NEW_NAME"
}
```

**参数说明：** 

|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| access_token | 是 | string | 调用接口凭证 |
|kb_id|是|string|知识集ID|
|kb_name|是|string|新名字</br>不少于1个字符</br>不多于20个字符|

**返回结果：**
```
{
  "errcode": 0,
  "errmsg": "ok"
}
```
**参数说明：**

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|返回码|
|errmsg|string|错误码描述|

## 删除知识集

**请求方法**
通过SDK调用，具体方式参考[专区程序使用指引](#54006)。

**请求接口名：**
knowledge_base_delete
> 只能操作本应用通过API创建且没有被企业取消授权的知识集

**请求包体：**

```
{
  "kb_id": "KBID"
}
```

**参数说明：** 

|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| access_token | 是 | string | 调用接口凭证 |
|kb_id|是|string|知识集ID|

**返回结果：**
```
{
  "errcode": 0,
  "errmsg": "ok"
}
```
**参数说明：**

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|返回码|
|errmsg|string|错误码描述|
