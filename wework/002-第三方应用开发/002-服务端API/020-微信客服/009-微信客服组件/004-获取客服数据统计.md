---
title: "获取客服数据统计"
doc_id: 49909
category_id: 99367
source_url: https://developer.work.weixin.qq.com/document/path/99367
---
最后更新：2024/01/29

服务商在申请接入微信客服组件时，如果申请了<strong>“获取客服数据统计”</strong>权限，则在企业授权接入后，服务商可<strong>获取来自自己场景下的客服数据统计</strong>。（注意需在场景中配置获取到的带参客服账号链接）
服务商可在服务商助手“组件数据”处查看该企业近30天在该场景下的关键客服数据。也可自行通过以下API，获取更多统计数据。

**请求方式**: POST(**HTTPS**)

**请求地址**: https://qyapi.weixin.qq.com/cgi-bin/kf/get_statistic?access_token=ACCESS_TOKEN

**请求示例**

```json
{
 "start_time": 1645545600,
  "end_time": 1645632000
}
```

**参数说明**:

|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| access_token | 是 | string | 调用接口凭证 |
|start_time|是|uint32|起始日期的时间戳，填这一天的0时0分0秒（否则系统自动处理为当天的0分0秒）。取值范围：昨天至前180天|
|end_time|是|uint32|结束日期的时间戳，填这一天的0时0分0秒（否则系统自动处理为当天的0分0秒）。取值范围：昨天至前180天|

> 查询时间区间[start_time, end_time]为闭区间，最大查询跨度为31天，用户最多可获取最近180天内的数据。当天的数据需要等到第二天才能获取，建议在第二天早上六点以后再调用此接口获取前一天的数据

> 当传入的时间不为0点时，会向下取整，如传入1554296400(Wed Apr 3 21:00:00 CST 2019)会被自动转换为1554220800（Wed Apr 3 00:00:00 CST 2019）;

**权限说明**:
- 微信客服组件应用可调用，需具有“管理接入的微信客服->管理来自该场景的客服咨询->获取客服数据统计”权限

**返回结果**:

```json
{
 "errcode": 0,
 "errmsg": "ok",
  "statistic_list" : [
 {
 "stat_time" : 1645545600,
 "statistic" : {
 "session_cnt" : 2,
 "customer_cnt" : 1,
 "customer_msg_cnt" : 6,
 "upgrade_service_customer_cnt" : 0,
 "ai_session_reply_cnt" : 1,
 ...
 },
 },
       {
 "stat_time" : 1645632000,
 "statistic" : {
 ...
 }
 }
 ]
}
```

**参数说明**:

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|返回码|
|errmsg|string|错误码描述|
|statistic_list|obj|统计数据列表|
|statistic_list.stat_time|uint32|数据统计日期，为当日0点的时间戳|
|statistic_list.statistic|obj|一天的统计数据。若当天未产生任何统计数据或统计数据还未计算完成则不会返回此项|
|statistic_list.statistic.session_cnt|uint64|咨询会话数。客户发过消息并分配给接待人员或智能助手的客服会话数，转接不会产生新的会话|
|statistic_list.statistic.customer_cnt|uint64|咨询客户数。在会话中发送过消息的客户数量，若客户多次咨询只计算一个客户|
|statistic_list.statistic.customer_msg_cnt|uint64|咨询消息总数。客户在会话中发送的消息的数量|
|statistic_list.statistic.ai_session_reply_cnt|uint64|机器人会话数。客户发过消息并分配给机器人的咨询会话数。通过API发消息或者开启智能回复功能会将客户分配给机器人|
|statistic_list.statistic.servicer_session_cnt|uint64|接入人工会话数。客户发过消息并分配给接待人员的咨询会话数|
|statistic_list.statistic.reply_rate|float|人工回复率。一个自然日内，客户给接待人员发消息的会话中，接待人员回复了的会话的占比。若数据项不返回，代表没有给接待人员发送消息的客户，此项无法计算。|
|statistic_list.statistic.first_reply_average_sec|float|平均首次响应时长，单位：秒。一个自然日内，客户给接待人员发送的第一条消息至接待人员回复之间的时长，为首次响应时长。所有的首次回复总时长/已回复的咨询会话数，即为平均首次响应时长 。若数据项不返回，代表没有给接待人员发送消息的客户，此项无法计算|
|statistic_list.statistic.satisfaction_investgate_cnt|uint64|满意度评价发送数。当api托管了会话分配，满意度原生功能失效，满意度评价发送数为0 |
|statistic_list.statistic.satisfaction_participation_rate|float|满意度参评率 。当api托管了会话分配，满意度原生功能失效。若数据项不返回，代表没有发送满意度评价，此项无法计算 |
|statistic_list.statistic.satisfied_rate|float|“满意”评价占比 。在客户参评的满意度评价中，评价是“满意”的占比。当api托管了会话分配，满意度原生功能失效。若数据项不返回，代表没有客户参评的满意度评价，此项无法计算 |
|statistic_list.statistic.middling_rate|float|“一般”评价占比 。在客户参评的满意度评价中，评价是“一般”的占比。当api托管了会话分配，满意度原生功能失效。若数据项不返回，代表没有客户参评的满意度评价，此项无法计算 |
|statistic_list.statistic.dissatisfied_rate|float|“不满意”评价占比。在客户参评的满意度评价中，评价是“不满意”的占比。当api托管了会话分配，满意度原生功能失效。若数据项不返回，代表没有客户参评的满意度评价，此项无法计算 |
