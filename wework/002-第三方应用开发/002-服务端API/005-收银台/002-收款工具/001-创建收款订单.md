---
title: "创建收款订单"
doc_id: 45043
category_id: 98045
source_url: https://developer.work.weixin.qq.com/document/path/98045
---
最后更新：2023/10/31

[TOC]

## 接口说明

服务商可以使用该接口创建各种业务的收款订单

__请求方式__:POST(__HTTPS__)

__请求地址:__ https://qyapi.weixin.qq.com/cgi-bin/paytool/open_order?provider_access_token=PROVIDER_ACCESS_TOKEN

__入参说明__ :

不同的业务购买，有不同的入参字段，后面分业务进行说明。

__权限说明__: 

服务商需有在收银台完成商户号注册（支付方式为“免支付”的订单可以不受此限制）

__返回结果__:

```json
{
 "errcode": 0,
 "errmsg": "ok",
 "order_id": "N00000F24364063FC57FACFC5C6A0",
 "order_url": "https://open.work.weixin.qq.com/payforapp/PREORDERT0Rkc2g3dWlQNzFLNTRXMDJBV25BNi95OVZZbjBPOE11N2FCWkc0STJRdz0=",
 "origin_price": 1000,
 "paid_price": 900
}
```

__返回参数说明__:

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|返回码|
|errmsg|string|错误码描述|
|order_id|string|收款订单号|
|order_url|string|收款订单链接</br>客户支付订单为订单支付链接，服务商代支付和免支付订单为订单确认链接|
|origin_price|uint32|原价，单位分, 仅部分可以确定价格的请求下会返回|
|paid_price|uint32|折后价，单位分, 仅部分可以确定价格的请求下会返回</br>代开发应用的原价和折后价一致|

## 入参说明-普通第三方应用

__请求示例__

```json
{
 "business_type": 1,
 "custom_corpid": "wx979abee1572365f9",
 "pay_type": 1,
 "bank_receipt_media_id": "MEDIA_ID_XXX",
 "creator": "CREATOR",
 "product_list": {
 "third_app": {
 "order_type": 0,
 "buy_info_list": [{
 "suiteid": "wx63bea8582b858ee7",
 "appid": 1,
 "edition_id": "sp7fd5170a8e807a44",
 "duration_days": 1,
 "take_effect_date": "20221220",
 "user_count": 10,
 "discount_info": {
 "discount_type": 2,
 "discount_amount": 0,
 "discount_ratio": 75,
 "discount_remarks": "老客户优惠"
 }
 },
 {
 "suiteid": "wx46b0217691d307f7",
 "appid": 1,
 "edition_id": "spb5625fc505870d09",
 "duration_days": 1,
 "user_count": 10
 }
 ],
 "notify_custom_corp": 1
 }
 },
 "nonce_str": "129031823",
 "ts": 1548302135,
 "sig": "mPOwVW/vQ74xN+b+Yu1KMa9RrmhKJaJjAtXHTof+EpU="
}
```
__入参说明__ :
|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| provider_access_token | 是 | string | [服务商调用接口凭证](#15143) |
|business_type|是|uint32|业务类型</br>取值范围：</br>&#160;&#160;&#160;&#160;1 - 普通第三方应用</br>&#160;&#160;&#160;&#160;2 - 代开发应用</br>&#160;&#160;&#160;&#160;3 - 行业解决方案|
|custom_corpid|否|string|客户企业corpid。可以不指定</br>不多于64字节|
|pay_type|是|uint32|支付方式</br>取值范围：0-客户支付；1-服务商代支付；2-免支付|
|bank_receipt_media_id|否|string|支付方式选择服务商代支付时，需上传企业已支付服务商订单费用的凭证，凭证需是银行收款回单或发票。</br>该ID即通过[服务商上传临时素材](#18022)上传文件后得到的media_id</br>支持图片(jpg\png\jpeg\bmp)、pdf。注意调用上传素材接口时，需要指定参数attachment_type=3，专用于收银台|
|creator|否|string|订单创建人的userid，设置的创建人需要有收银台收款的权限</br>设置后，如果有「企业取消应用订单」、「应用订单确认失败提醒」的消息会推送给创建人，如果没有设置，则消息默认推送给服务商所有超管|
|product_list|是|obj|具体购买商品|
|product_list.third_app|是|obj|第三方应用购买详情</br>当业务类型是"普通第三方应用"时必填</br>支持通讯录实体应用|
|product_list.third_app.order_type|是|uint32|购买类型</br>取值范围：</br>&#160;&#160;&#160;&#160;0 - 新购</br>&#160;&#160;&#160;&#160;1 - 扩容</br>&#160;&#160;&#160;&#160;2 - 续期</br>特殊的，当第三方应用有剩余有效时长且不超过1年，支持新购购买类型|
|product_list.third_app.buy_info_list|是|obj[]|购买应用列表</br>可填充个数：<font color=black> 1 ~ 20</font>|
|product_list.third_app.buy_info_list.suiteid|是|string|套件ID</br>不多于64字节|
|product_list.third_app.buy_info_list.appid|否|uint32|应用ID（仅旧套件应用需要填）|
|product_list.third_app.buy_info_list.edition_id|是|string|版本号ID</br>不多于64字节|
|product_list.third_app.buy_info_list.user_count|否|uint32|应用的购买人数，单位人</br>当购买类型是新购或扩容，且购买的版本非固定总价类型时，需要填</br>注意对于扩容类型，表示增加的人数</br>取值范围：<font color=black>1 ~ 1000000</font>|
|product_list.third_app.buy_info_list.duration_days|否|uint32|应用的购买时长，单位天</br>当购买类型是新购或续期时必填</br>取值范围：<font color=black>1 ~ 1825</font>|
|product_list.third_app.buy_info_list.take_effect_date|否|string|生效日期，格式如：20221212</br>只能是当天之后的日期，最迟不能超过一年。不填表示立即生效</br>不多于8字节</br>特殊的，如果是第三方应用有剩余时长的新购，不支持设置生效日期，默认生效日期为第三方应用的生效版本结束日期|
|product_list.third_app.buy_info_list.discount_info|否|obj|优惠信息|
|product_list.third_app.buy_info_list.discount_info.discount_type|是|uint32|优惠类型</br>取值范围：</br>&#160;&#160;&#160;&#160;1 - 固定优惠</br>&#160;&#160;&#160;&#160;2 - 价格折扣</br>需注意，如果不是新购，必须指定了客户企业custom_corpid，才能选择固定优惠|
|product_list.third_app.buy_info_list.discount_info.discount_amount|否|uint32|优惠金额，单位分</br>当优惠类型为“固定优惠”时必填</br>取值范围：<font color=black>1 ~ 10000000</font></br>非推荐第三方应用固定优惠金额不能超过原价的90%；推荐第三方应用固定优惠金额不能超过原价的50%。若推荐第三方应用优惠金额需超过原价的50%，需前往服务商管理端进行页面操作|
|product_list.third_app.buy_info_list.discount_info.discount_ratio|否|uint32|优惠折扣，单位%, 如填75，表示75%优惠价，即7.5折</br>当优惠类型为“价格折扣”时必填</br>取值范围：<font color=black>10 ~ 99</font></br>非推荐第三方应用优惠折扣最低1折；推荐第三方应用优惠折扣最低5折。若推荐第三方应用需设置低于5折折扣，需前往服务商管理端进行页面操作。|
|product_list.third_app.buy_info_list.discount_info.discount_remarks|是|string|优惠原因</br>不多于256字节|
|product_list.third_app.notify_custom_corp|否|uint32|是否推送确认提醒。0-否；1-是，不填默认是。</br>有指定企业且指定企业与服务商存在应用授权关系才可通知成功。开启后，服务商代支付和免支付订单创建后将向企业管理员推送确认提醒，超时(72小时)未确认会自动确认；客户支付订单创建后将向企业管理员推送支付提醒。</br>特别的，指定企业的免支付订单创建后默认向企业管理员推送订单通知，不可取消|
| nonce_str | 是 |string|随机字符串，长度要求在32字节以内，用于保证签名不可预测及防重放攻击。<br/>需保证15分钟内不能重复，推荐[随机字符串生成算法](#47107/随机字符串生成算法)|
| ts | 是 |uint64| unix时间戳（中国时区）,精确到秒。<br/>注意业务系统的机器时间与腾讯的时间相差不能超过15分钟|
| sig | 是 | string|数字签名。见[签名算法](#47107/订单签名算法)。签名所需密钥获取路径：</br>工作台->企业微信服务商助手->工具->收银台->收银台API调用密钥|

## 入参说明-代开发应用
```json
{
 "business_type": 2,
 "custom_corpid": "wx979abee1572365f9",
 "pay_type": 1,
 "bank_receipt_media_id": "MEDIA_ID_XXX",
 "creator": "CREATOR",
 "product_list": {
 "customized_app": {
 "order_type": 0,
 "buy_info_list": [{
 "suiteid": "dk6e2ed1be411f395a",
 "duration_days": 30,
 "take_effect_date": "20221220",
 "user_count": 10,
 "total_price" : 250000,
 },
 {
 "suiteid": "dk9b5e63db2d5d98a0",
 "duration_days": 10,
 "take_effect_date": "20221220",
 "user_count": 20,
 "total_price" : 2500,
 }
 ],
 "notify_custom_corp": 1
 }
 },
 "nonce_str": "129031823",
 "ts": 1548302135,
 "sig": "mPOwVW/vQ74xN+b+Yu1KMa9RrmhKJaJjAtXHTof+EpU="
}
```
__入参说明__ :
|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| provider_access_token | 是 | string | [服务商调用接口凭证](#15143) |
|business_type|是|uint32|业务类型</br>取值范围：</br>&#160;&#160;&#160;&#160;1 - 普通第三方应用</br>&#160;&#160;&#160;&#160;2 - 代开发应用</br>&#160;&#160;&#160;&#160;3 - 行业解决方案|
|custom_corpid|是|string|客户企业corpid。</br>不多于64字节|
|pay_type|是|uint32|支付方式</br>取值范围：0-客户支付；1-服务商代支付；2-免支付|
|bank_receipt_media_id|否|string|支付方式选择服务商代支付时，需上传企业已支付服务商订单费用的凭证，凭证需是银行收款回单或发票。</br>该ID即通过[服务商上传临时素材](#18022)上传文件后得到的media_id</br>支持图片(jpg\png\jpeg\bmp)、pdf。注意调用上传素材接口时，需要指定参数attachment_type=3，专用于收银台|
|creator|否|string|订单创建人的userid，设置的创建人需要有收银台收款的权限</br>设置后，如果有「企业取消应用订单」、「应用订单确认失败提醒」的消息会推送给创建人，如果没有设置，则消息默认推送给服务商所有超管|
|product_list|是|obj|具体购买商品|
|product_list.customized_app|否|obj|代开发应用购买详情</br>当业务类型是"代开发应用"时必填|
|product_list.customized_app.order_type|是|uint32|购买类型</br>取值范围：</br>&#160;&#160;&#160;&#160;0 - 新购</br>&#160;&#160;&#160;&#160;1 - 扩容</br>&#160;&#160;&#160;&#160;2 - 续期</br>特殊的，当代开发应用有剩余有效时长且不超过1年，支持新购购买类型|
|product_list.customized_app.buy_info_list|是|obj[]|购买应用列表</br>可填充个数：<font color=black> 1 ~ 20</font>|
|product_list.customized_app.buy_info_list.suiteid|是|string|套件ID</br>不多于64字节|
|product_list.customized_app.buy_info_list.user_count|否|uint32|应用的购买人数，单位人</br>当购买类型是新购或扩容时需要填</br>注意对于扩容类型，表示增加的人数</br>取值范围：<font color=black>1 ~ 1000000</font>|
|product_list.customized_app.buy_info_list.duration_days|否|uint32|应用的购买时长，单位天</br>当购买类型是新购或续期时必填</br>取值范围：<font color=black>1 ~ 1825</font>|
|product_list.customized_app.buy_info_list.take_effect_date|否|string|生效日期，格式如：20221212</br>新购选填，不填默认生效日期为当天</br>扩容不填，默认生效日期为当天</br>续期不填，默认生效日期为原生效版本结束日期</br>从生效日期当天开始计算购买时长</br>最迟不能超过一年</br>不多于8字节</br>特殊的，如果是代开发应用有剩余时长的新购，不支持设置生效日期，默认生效日期为代开发应用的生效版本结束日期|
|product_list.customized_app.buy_info_list.total_price|是|uint32|应用总价，单位分。需大于0且不能超过500万|
|product_list.customized_app.notify_custom_corp|否|uint32|是否推送确认提醒。0-否；1-是，不填默认是。</br>有指定企业且指定企业与服务商存在应用授权关系才可通知成功。开启后，服务商代支付和免支付订单创建后将向企业管理员推送确认提醒，超时(72小时)未确认会自动确认；客户支付订单创建后将向企业管理员推送支付提醒。</br>特别的，指定企业的免支付订单创建后默认向企业管理员推送订单通知，不可取消|
| nonce_str | 是 |string|随机字符串，长度要求在32字节以内，用于保证签名不可预测及防重放攻击。<br/>需保证15分钟内不能重复，推荐[随机字符串生成算法](#47107/随机字符串生成算法)|
| ts | 是 |uint64| unix时间戳（中国时区）,精确到秒。<br/>注意业务系统的机器时间与腾讯的时间相差不能超过15分钟|
| sig | 是 | string|数字签名。见[签名算法](#47107/订单签名算法)。签名所需密钥获取路径：</br>工作台->企业微信服务商助手->工具->收银台->收银台API调用密钥|

## 入参说明-行业解决方案
```json
{
 "business_type": 3,
 "custom_corpid": "wx979abee1572365f9",
 "pay_type": 1,
 "bank_receipt_media_id": "MEDIA_ID_XXX",
 "creator": "CREATOR",
 "product_list": {
 "promotion_case": {
 "order_type": 0,
 "case_id": "slne7508097f40c4f8e",
 "promotion_edition_name": "固定单价",
 "duration_days": 30,
 "take_effect_date": "20221230",
 "buy_info_list": [{
 "suiteid": "wx8838a73b0f57a7b5",
 "appid": 2,
 "user_count": 10
 },
 {
 "suiteid": "wx15ab15f7b1ced876",
 "user_count": 20
 }
 ],
 "notify_custom_corp": 1
 }
 },
 "nonce_str": "129031823",
 "ts": 1548302135,
 "sig": "mPOwVW/vQ74xN+b+Yu1KMa9RrmhKJaJjAtXHTof+EpU="
}
```
__入参说明__ :
|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| provider_access_token | 是 | string | [服务商调用接口凭证](#15143) |
|business_type|是|uint32|业务类型</br>取值范围：</br>&#160;&#160;&#160;&#160;1 - 普通第三方应用</br>&#160;&#160;&#160;&#160;2 - 代开发应用</br>&#160;&#160;&#160;&#160;3 - 行业解决方案|
|custom_corpid|否|string|客户企业corpid。可以不指定。</br>不多于64字节|
|pay_type|是|uint32|支付方式</br>取值范围：0-客户支付；1-服务商代支付；2-免支付</br>订单包含应用全部为非推荐第三方应用才可免支付|
|bank_receipt_media_id|否|string|支付方式选择服务商代支付时，需上传企业已支付服务商订单费用的凭证，凭证需是银行收款回单或发票。</br>该ID即通过[服务商上传临时素材](#18022)上传文件后得到的media_id</br>支持图片(jpg\png\jpeg\bmp)、pdf。注意调用上传素材接口时，需要指定参数attachment_type=3，专用于收银台|
|creator|否|string|订单创建人的userid，设置的创建人需要有收银台收款的权限</br>设置后，如果有「企业取消应用订单」、「应用订单确认失败提醒」的消息会推送给创建人，如果没有设置，则消息默认推送给服务商所有超管|
|product_list|是|obj|具体购买商品|
|product_list.promotion_case|否|obj|行业解决方案购买详情</br>当业务类型是"行业解决方案"时必填|
|product_list.promotion_case.order_type|是|uint32|购买类型</br>取值范围：</br>&#160;&#160;&#160;&#160;0 - 新购</br>&#160;&#160;&#160;&#160;1 - 扩容</br>&#160;&#160;&#160;&#160;2 - 续期|
|product_list.promotion_case.case_id|是|string|行业方案ID</br>不多于64字节|
|product_list.promotion_case.promotion_edition_name|是|string|行业方案版本名</br>不多于128字节|
|product_list.promotion_case.duration_days|否|uint32|应用的购买时长，单位天</br>当购买类型是新购或续期时必填</br>取值范围：<font color=black>1 ~ 1825</font>|
|product_list.promotion_case.take_effect_date|否|string|生效日期，格式如：20221212</br>只能是当天之后的日期，最迟不能超过一年。不填表示立即生效</br>不多于8字节|
|product_list.promotion_case.buy_info_list|否|obj[]|购买应用列表</br>可填充个数：<font color=black> 1 ~ 20</font>|
|product_list.promotion_case.buy_info_list.suiteid|是|string|套件ID</br>不多于64字节|
|product_list.promotion_case.buy_info_list.appid|否|uint32|应用ID（仅旧套件应用需要填）|
|product_list.promotion_case.buy_info_list.user_count|否|uint32|应用的购买人数，单位人</br>当购买类型是新购或扩容，且购买的版本非固定总价类型时，需要填</br>注意对于扩容类型，表示增加的人数</br>取值范围：<font color=black>1 ~ 1000000</font>|
|product_list.promotion_case.notify_custom_corp|否|uint32|是否推送确认提醒。0-否；1-是，不填默认是。</br>有指定企业且指定企业与服务商存在应用授权关系才可通知成功。开启后，服务商代支付和免支付订单创建后将向企业管理员推送确认提醒，超时(72小时)未确认会自动确认；客户支付订单创建后将向企业管理员推送支付提醒。</br>特别的，指定企业的免支付订单创建后默认向企业管理员推送订单通知，不可取消|
| nonce_str | 是 |string|随机字符串，长度要求在32字节以内，用于保证签名不可预测及防重放攻击。<br/>需保证15分钟内不能重复，推荐[随机字符串生成算法](#47107/随机字符串生成算法)|
| ts | 是 |uint64| unix时间戳（中国时区）,精确到秒。<br/>注意业务系统的机器时间与腾讯的时间相差不能超过15分钟|
| sig | 是 | string|数字签名。见[签名算法](#47107/订单签名算法)。签名所需密钥获取路径：</br>工作台->企业微信服务商助手->工具->收银台->收银台API调用密钥|
