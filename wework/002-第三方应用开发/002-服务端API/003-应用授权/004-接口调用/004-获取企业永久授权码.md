---
title: "获取企业永久授权码"
doc_id: 57310
category_id: 100776
source_url: https://developer.work.weixin.qq.com/document/path/57310
---
该API用于使用临时授权码换取授权方的永久授权码以及企业信息，临时授权码一次有效。

**请求方式：**POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/service/v2/get_permanent_code?suite_access_token=SUITE_ACCESS_TOKEN

**请求包体：**

```
{
  "auth_code": "auth_code_value"
}
```

**参数说明：** 
 
 | 参数 | 是否必须 | 说明 |
 |----|---- | ----- |
 | auth_code | 是 | [临时授权码](#10974)，会在授权成功时附加在redirect_uri中跳转回第三方服务商网站，或通过[授权成功通知](#14951)回调推送给服务商。长度为64至512个字节。临时授权码一次有效 |

**返回结果：** 
```
{
  "errcode":0,
  "errmsg":"ok",
  "permanent_code": "xxxx", 
  "auth_corp_info": 
  {
    "corpid": "xxxx",
    "corp_name": "name"
  },
  "auth_user_info":
  {
    "userid":"aa",
    "open_userid":"xxxxxx",
    "name":"xxx",
    "avatar":"http://xxx"
  },
  "register_code_info":
  {
    "register_code":"1111",
    "template_id":"tpl111",
    "state":"state001"
  },
  "state":"state001"
}
 ```
**参数说明：** 

 | 参数 | 说明 |
 |----|---- |
 |permanent_code|企业微信永久授权码,最长为512字节 |
 |auth_corp_info|授权方企业信息 |
 |auth_corp_info.corpid|授权方企业微信id |
 |auth_corp_info.corp_name|授权方企业名称，即企业简称 |
 |auth_user_info|授权管理员的信息，可能不返回 |
 |auth_user_info.userid|授权管理员的userid，可能为空 |
 |auth_user_info.open_userid|授权管理员的open_userid，可能为空|
 |auth_user_info.name|授权管理员的name，可能为空 |
 |auth_user_info.avatar|授权管理员的头像url，可能为空|
 |register_code_info|推广二维码安装相关信息，扫推广二维码安装时返回。成员授权时暂不支持。（注：无论企业是否新注册，只要通过扫推广二维码安装，都会返回该字段） |
 |register_code_info.register_code|注册码|
 |register_code_info.template_id|推广包ID|
 |register_code_info.state|仅当[获取注册码](#14934)指定该字段时才返回|
 |state|安装应用时，扫码或者授权链接中带的state值。详见state说明 |
 

**state说明：**
目前会返回state包含以下场景：
扫带参二维码授权代开发模版

>注：旧[获取企业永久授权码](#14942)接口耗时长，若安装应用流程，开发者拿到临时授权码后同步调用获取永久授权码接口，推荐使用该文档中v2接口，该接口耗时更短。
