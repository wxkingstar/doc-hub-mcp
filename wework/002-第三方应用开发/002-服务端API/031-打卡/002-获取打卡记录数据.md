---
title: "获取打卡记录数据"
doc_id: 14630
category_id: 94205
source_url: https://developer.work.weixin.qq.com/document/path/14630
---
应用可通过本接口，获取可见范围内员工指定时间段内的打卡记录数据。

**请求方式：**POST（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/checkin/getcheckindata?access_token=ACCESS_TOKEN

**请求示例：**

```
{
 "opencheckindatatype": 3,
 "starttime": 1492617600,
 "endtime": 1492790400,
 "useridlist": ["james","paul"]
}

```

**参数说明：**

| 参数 | 必须 | 说明 |
| ------------ | ------------ |
| access_token | 是 | 调用接口凭证，获取方式参考：[文档-获取access_token](https://work.weixin.qq.com/api/doc#90000/90135/91039 "文档") |
| opencheckindatatype | 是 | 打卡类型。1：上下班打卡；2：外出打卡；3：全部打卡|
| starttime | 是 |获取打卡记录的开始时间。Unix时间戳 |
| endtime | 是 | 获取打卡记录的结束时间。Unix时间戳|
| useridlist | 是 | 需要获取打卡记录的用户列表|

 > 1. 获取记录时间跨度不超过30天
 > 2. 用户列表不超过100个。若用户超过100个，请分批获取
 > 3. 有打卡记录即可获取打卡数据，与当前"打卡应用"是否开启无关
 > 4. 标准打卡时间只对于固定排班和自定义排班两种类型有效
 > 5. 接口调用频率限制为600次/分钟

**权限说明**:
调用的应用需要满足如下的权限：

| 应用类型 | 权限要求 |
| -------- | ---- | 
|自建应用|配置到「!!#ff0000 打卡 - 可调用接口的应用!!」中 |
|代开发应用|具有「!!#ff0000 打卡!!」权限| 
|第三方应用|具有「!!#ff0000 打卡!!」权限|
 *注：* 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 [查看详情](https://developer.work.weixin.qq.com/document/51165)

**返回结果 ：**

```
{
 "errcode":0,
 "errmsg":"ok",
 "checkindata": [{
    "userid" : "james",
    "groupname" : "打卡一组", 
    "checkin_type" : "上班打卡", 
    "exception_type" : "地点异常", 
    "checkin_time" : 1492617610, 
    "location_title" : "依澜府", 
    "location_detail" : "四川省成都市武侯区益州大道中段784号附近", 
    "wifiname" : "办公一区", 
    "notes" : "路上堵车，迟到了5分钟",
    "wifimac" : "3c:46:d8:0c:7a:70",
    "mediaids":["WWCISP_G8PYgRaOVHjXWUWFqchpBqqqUpGj0OyR9z6WTwhnMZGCPHxyviVstiv_2fTG8YOJq8L8zJT2T2OvTebANV-2MQ"],
    "sch_checkin_time" : 1492617610,
    "groupid" : 1,
    "schedule_id" : 0,
    "timeline_id" : 2
  },{
    "userid" : "paul",
    "groupname" : "打卡二组", 
    "checkin_type" : "外出打卡", 
    "exception_type" : "时间异常", 
    "checkin_time" : 1492617620, 
    "location_title" : "重庆出口加工区", 
    "location_detail" : "重庆市渝北区金渝大道101号金渝大道", 
    "wifiname" : "办公室二区", 
    "notes" : "",
    "wifimac" : "3c:46:d8:0c:7a:71",
    "mediaids":["WWCISP_G8PYgRaOVHjXWUWFqchpBqqqUpGj0OyR9z6WTwhnMZGCPHxyviVstiv_2fTG8YOJq8L8zJT2T2OvTebANV-2MQ"],
    "lat": 30547645,
 "lng": 104063236,
    "deviceid":"E5FA89F6-3926-4972-BE4F-4A7ACF4701E2",
    "sch_checkin_time" : 1492617610,
    "groupid" : 2,
    "schedule_id" : 3,
    "timeline_id" : 1
  }]
}
```
**参数说明：**

| 参数 | 说明 
| ------------ | ------------ |
| userid | 用户id |
| groupname | 打卡规则名称|
| checkin_type | 打卡类型。字符串，目前有：上班打卡，下班打卡，外出打卡，仅记录打卡时间和位置 |
| exception_type | 异常类型，字符串，包括：时间异常，地点异常，未打卡，wifi异常，非常用设备。如果有多个异常，以分号间隔|
| checkin_time | 打卡时间。Unix时间戳|
| location_title | 打卡地点title|
| location_detail | 打卡地点详情|
| wifiname | 打卡wifi名称|
| notes | 打卡备注|
| wifimac | 打卡的MAC地址/bssid|
| mediaids | 打卡的附件media_id，可使用media/get获取附件|
| lat | 位置打卡地点纬度，是实际纬度的1000000倍，与腾讯地图一致采用GCJ-02坐标系统标准|
| lng | 位置打卡地点经度，是实际经度的1000000倍，与腾讯地图一致采用GCJ-02坐标系统标准|
| deviceid | 打卡设备id|
| sch_checkin_time | 标准打卡时间，指此次打卡时间对应的标准上班时间或标准下班时间|
| groupid | 规则id，表示打卡记录所属规则的id|
| schedule_id | 班次id，表示打卡记录所属规则中，所属班次的id|
| timeline_id | 时段id，表示打卡记录所属规则中，某一班次中的某一时段的id，如上下班时间为9:00-12:00、13:00-18:00的班次中，9:00-12:00为其中一组时段|
