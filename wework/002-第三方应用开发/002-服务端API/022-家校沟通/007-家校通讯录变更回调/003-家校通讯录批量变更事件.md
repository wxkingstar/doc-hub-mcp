---
title: "家校通讯录批量变更事件"
doc_id: 42860
category_id: 97281
source_url: https://developer.work.weixin.qq.com/document/path/42860
---
当学校在家校通讯录中，[“成员变更”](#19029)或者[“部门变更”](#18902)时，若同一个学校短时间内触发多个变更事件，为了提高回调效率，则会将这些变更合并为一个批量的事件回调此到第三方应用/套件的指令回调URL。

xml请求示例：

```
<xml> 
 <SuiteId>wwSuiteId</SuiteId> 
 <AuthCorpId>wxAuthCorpId</AuthCorpId> 
 <InfoType>change_school_contact_batch</InfoType> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType>create_student</ChangeType> 
 <Id>zhangsan</Id> 
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType>update_student</ChangeType> 
 <Id>zhangsan</Id> 
  <NewId><
- ![CDATA[zhangsan2]]></NewId>
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType><
- ![CDATA[delete_student]]></ChangeType> 
 <Id><
- ![CDATA[zhangsan]]></Id> 
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType><
- ![CDATA[create_parent]]></ChangeType> 
 <Id><
- ![CDATA[zhangsan]]></Id> 
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType><
- ![CDATA[update_parent]]></ChangeType> 
 <Id><
- ![CDATA[zhangsan]]></Id> 
  <NewId><
- ![CDATA[zhangsan2]]></NewId>
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType><
- ![CDATA[delete_parent]]></ChangeType> 
 <Id><
- ![CDATA[zhangsan]]></Id> 
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType><
- ![CDATA[subscribe]]></ChangeType> 
 <Id><
- ![CDATA[zhangsan]]></Id> 
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType><
- ![CDATA[unsubscribe]]></ChangeType> 
 <Id><
- ![CDATA[zhangsan]]></Id> 
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType><
- ![CDATA[create_department]]></ChangeType> 
 <Id><
- ![CDATA[1]]></Id> 
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType><
- ![CDATA[update_department]]></ChangeType> 
 <Id><
- ![CDATA[1]]></Id> 
 </ChangeList> 
 <ChangeList> 
 <TimeStamp>1403610513</TimeStamp> 
 <ChangeType><
- ![CDATA[delete_department]]></ChangeType> 
 <Id><
- ![CDATA[1]]></Id> 
 </ChangeList> 
</xml>
```

参数说明：

 | 参数 | 说明 |
 |----|---- |
 |SuiteId|第三方应用ID |
 |AuthCorpId|授权企业的CorpID |
 |InfoType|固定为change_school_contact_batch |
 |TimeStamp|最终回调的时间戳 |
 |ChangeList|变更列表。目前最大支持合并1000条，后续可能会根据情况调整，以实际收到的数据为准。|
 
 ChangeList说明：
 | 参数 | 说明 |
 |----|---- |
 |ChangeType|此处固定为create_student|
 |Id|学生的家校通讯录userid或者家长的id或者家校通讯录部门id |
 |NewId|当ChangeType为update_student或者update_parent时，变更后的学生的家校通讯录userid或者家长的id |
 |TimeStamp|产生变更的时间戳 |
