---
title: "批量更新家长"
doc_id: 19149
category_id: 92082
source_url: https://developer.work.weixin.qq.com/document/path/19149
---
**请求方式：**POST（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/school/user/batch_update_parent?access_token=ACCESS_TOKEN

**请求包体：**

```json
{
 "parents":[
 { 
 "parent_userid": "zhangsan_baba",
      "new_parent_userid":"zhangsan_baba_new",
 "mobile": "10000000000",
 "children":[
 { 
 "student_userid": "zhangsan",
 "relation": "爸爸"
 } 
 ] 
 }, 
 { 
 "parent_userid": "lisi_mama",
 "mobile": "10000000001",
 "children":[
 {
 "student_userid": "lisi",
 "relation": "妈妈"
 } 
 ] 
 } 
 ] 
}
```

**参数说明：**

| 参数 | 必须 | 说明 |
| :------------------------------ | :--- | :----------------------------------------------------------- |
| access_token | 是 | 调用接口凭证。获取方法查看“[获取access_token](#10013/第三步：获取access_token)” |
| parents | 否 | 家长列表，每次最多100个 |
| parents.parent_userid | 是 | 家长UserID。学校内必须唯一。不区分大小写，长度为1~64个字节。只能由数字、字母和“_-@.”四种字符组成，且第一个字符必须是数字或字母。 |
|parents.new_parent_userid|否|更新的家长UserID。不能与已经存在的家长userid相同。每个家长仅能更新一次。|
| parents.mobile | 否 | 家长手机号 |
| parents.children | 否 | 家长的孩子列表，最多10个 |
| parents.children.student_userid | 是 | 学生的UserID |
| parents.children.relation | 是 | 家长与学生的关系，最长32字节 |
> 当参数字段超过长度限制，那么整个请求会被拦掉。

**权限说明：**

调用的应用需要满足如下的权限
| 应用类型 | 权限要求 |
| -------- | ---- | 
|自建应用|配置到「 [家校沟通-读取和编辑家校通讯录的应用](#16678/通过api读取和编辑家校通讯录)」中|
|代开发应用|需拥有!!#ff0000 「家校沟通」可使用家校通讯录-家校通讯录编辑 !!权限|
|第三方应用|需拥有!!#ff0000 「家校沟通」使用和编辑 !!权限|
*注：* 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 [查看详情](https://developer.work.weixin.qq.com/document/51165)

> 注意，每个班级下学生总数不能超过3万个。建议保证创建department对应的部门和创建成员是串行化处理。

**返回结果：**

```
{
  "errcode": 1,
  "errmsg": "invalid parent_userid: lisi_parent_userid",
  "result_list": [
    {
      "parent_userid": "lisi_parent_userid",
      "errcode": 1,
      "errmsg": "invalid parent_userid: lisi_parent_userid"
    }
  ]
}
```

**参数说明：**

| 参数 | 说明 |
| ------------------------- | ---------------------- |
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
| result_list | 失败的学生列表 |
| result_list.parent_userid | 失败的家长userid |
| result_list.errcode | 返回码 |
| result_list.errmsg | 对返回码的文本描述内容 |
