---
title: "概述"
doc_id: 18231
category_id: 91889
source_url: https://developer.work.weixin.qq.com/document/path/91889
---
最后更新：2023/06/12

企业微信面向第三方服务商，不再提供“部门名”、“姓名”与“别名”的内容。代替以“部门ID”与“userID”。
服务商需要在第三方的页面调用企业微信所提供的方法，使用 “部门ID”与“userID”的信息换回“部门名”、“姓名”与“别名”的内容。
而，服务商侧需要提供“数据导出”的功能给到用户，其导出的文件中会含有“部门名”、“姓名”与“别名”的内容。

## 通讯录ID转译流程
企业用户在企业微信、微信或者通过在外部浏览器上通过单点登录服务商网站，发起导出操作，获取导出结果文件流程如图示。
- ![通讯录转译导出流程图](https://p.qpic.cn/pic_wework/1281211083/e3e56ef3317a73a31c3d8d31e8d4d4288e6873389515147d/0 "通讯录转译导出流程图")

###通讯录ID转译模版语法
在文件中需要替换的位置构造转译模版，模版如下：
```
$departmentName=DEPARTMENT_ID$
$userName=USERID$
$userAlias=USERID$
$userAliasOrName=USERID$
$departmentName=CORPID/DEPARTMENT_ID$
$userName=CORPID/USERID$
$userAlias=CORPID/USERID$
$userAliasOrName=CORPID/USERID$
```
其中 DEPARTMENT_ID 是数字类型的部门id，USERID 是[成员账号](#14953/userid)，CORPID是[企业ID](#14953/corpid)。

譬如，
将```$departmentName=1$```替换成部门id为```1```对应的部门名；
将```$userName=lisi007$```替换成userid为```lisi007```对应的用户姓名；
将```$userAlias=lisi007$```替换成userid为```lisi007```对应的用户别名；
将```$userAliasOrName=lisi007$```替换成userid为```lisi007```对应的用户别名或姓名，别名优先级高于姓名；

同时支持跨企业的成员“姓名”与“别名”转译，
将```$departmentName=ww12ab/1$```替换成corpid为ww12ab的企业中，部门id为```1```对应的部门名；
将```$userName=ww12ab/lisi008$```替换成corpid为ww12ab的企业中，userid为```lisi008```对应的用户姓名；
将```$userAlias=ww12ab/lisi008$```替换成corpid为ww12ab的企业中，userid为```lisi008```对应的用户别名；
将```$userAliasOrName=ww12ab/lisi008$```替换成corpid为ww12ab的企业中，userid为```lisi008```对应的用户别名或姓名，别名优先级高于姓名；
>若输入的模板不符合语法、不在权限范围内或无效的userid或者部门ID，则不替换该项内容，保留原样
>转译userAlias时，如果用户没有别名，则不替换该项内容，保留原样
>转译userAliasOrName时，如果用户有别名，则替换为别名；否则，将替换为姓名
>跨企业转译同样要求服务商和指定的企业之间有**第三方应用授权关系**
