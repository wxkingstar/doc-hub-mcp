---
title: "成员通知事件"
doc_id: 14948
category_id: 92654
source_url: https://developer.work.weixin.qq.com/document/path/92654
---
最后更新：2023/11/01

[TOC]
 
## 新增成员事件
**请求方式：**POST（**HTTPS**）
**请求地址：** https://127.0.0.1/suite/receive?msg_signature=3a7b08bb8e6dbce3c9671d6fdb69d15066227608&timestamp=1403610513&nonce=380320359

**请求包体：**
xml请求示例：
```
<xml>
  <SuiteId><
- ![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
  <AuthCorpId><
- ![CDATA[wxf8b4f85f3axxxxxx]]></AuthCorpId>
  <InfoType><
- ![CDATA[change_contact]]></InfoType>
  <TimeStamp>1403610513</TimeStamp>
  <ChangeType><
- ![CDATA[create_user]]></ChangeType>
  <UserID><
- ![CDATA[zhangsan]]></UserID>
  <OpenUserID><
- ![CDATA[woxxx]]></OpenUserID>
  <Name><
- ![CDATA[张三]]></Name>
  <Department><
- ![CDATA[1,2,3]]></Department>
  <MainDepartment>1</MainDepartment>
  <IsLeaderInDept><
- ![CDATA[1,0,0]]></IsLeaderInDept>
  <DirectLeader><
- ![CDATA[lisi,wangwu]]></DirectLeader>
  <Mobile><
- ![CDATA[11111111111]]></Mobile>
  <Position><
- ![CDATA[产品经理]]></Position>
  <Gender>1</Gender>
  <Email><
- ![CDATA[zhangsan@xxx.com]]></Email>
  <BizMail><
- ![CDATA[zhangsan@qyycs2.wecom.work]]></BizMail>
  <Avatar><
- ![CDATA[http://wx.qlogo.cn/mmopen/ajNVdqHZLLA3WJ6DSZUfiakYe37PKnQhBIeOQBO4czqrnZDS79FH5Wm5m4X69TBicnHFlhiafvDwklOpZeXYQQ2icg/0]]></Avatar>
  <Alias><
- ![CDATA[zhangsan]]></Alias>
  <Telephone><
- ![CDATA[020-111111]]></Telephone>
  <ExtAttr>
    <Item>
    <Name><
- ![CDATA[爱好]]></Name>
    <Type>0</Type>
    <Text>
      <Value><
- ![CDATA[旅游]]></Value>
    </Text>
    </Item>
    <Item>
    <Name><
- ![CDATA[卡号]]></Name>
    <Type>1</Type>
    <Web>
      <Title><
- ![CDATA[企业微信]]></Title>
      <Url><
- ![CDATA[https://work.weixin.qq.com]]></Url>
    </Web>
    </Item>
  </ExtAttr>
</xml>
```

**参数说明：**

 | 参数 | 说明 |
 |----|---- |
 |SuiteId|第三方应用ID |
 |AuthCorpId|授权企业的CorpID |
 |InfoType|固定为change_contact |
 |TimeStamp|时间戳 |
 |ChangeType|固定为create_user |
 |UserID|成员UserID |
 | OpenUserID |全局唯一。对于同一个服务商，不同应用获取到企业内同一个成员的OpenUserID是相同的，最多64个字节。 |
 |Name|成员名称，此字段从2019年12月30日起，对新创建第三方应用不再返回真实name，使用userid代替name，2020年6月30日起，对所有历史第三方应用不再返回真实name，使用userid代替name，后续第三方仅通讯录应用可获取;代开发自建应用需要管理员授权才返回；未返回name的情况页面需要通过[通讯录展示组件](#17172)来展示名字 |
 |Department|更新后成员所在部门列表，仅返回该应用有查看权限的部门id；[成员授权模式](#30245)下，仅返回根部门，即1 |
 |MainDepartment|主部门，[成员授权模式](#30245)下，仅返回根部门，即1 |
 |IsLeaderInDept|表示所在部门是否为上级，0-否，1-是，顺序与Department字段的部门逐一对应。第三方通讯录应用或者授权了“组织架构信息-应用可获取企业的部门组织架构信息-部门负责人”权限的第三方应用和代开发应用可获取；对于非第三方创建的成员，第三方通讯录应用不可获取；上游企业不可获取下游企业成员该字段|
 |DirectLeader|直属上级UserID，最多1个。第三方通讯录应用或者授权了“组织架构信息-应用可获取可见范围内成员组织架构信息-直属上级”权限的第三方应用和代开发应用可获取；对于非第三方创建的成员，第三方通讯录应用不可获取；上游企业不可获取下游企业成员该字段|
 |Mobile|手机号码，仅通讯录管理应用可获取;代开发自建应用需要管理员授权才返回|
 |Position|职位信息。长度为0~64个字节，仅通讯录应用可获取;代开发自建应用需要管理员授权才返回 |
 |Gender|性别。0表示未定义，1表示男性，2表示女性。仅通讯录应用可获取 |
 |Email|邮箱，仅通讯录管理应用可获取;代开发自建应用需要管理员授权才返回 |
 |BizMail|企业邮箱，仅通讯录管理应用可获取;代开发自建应用不返回 |
 |Status|激活状态: 1=已激活，2=已禁用，4=未激活，5=退出企业。已激活代表已激活企业微信或已关注微信插件（原企业号）。未激活代表既未激活企业微信又未关注微信插件（原企业号）。|
 |Avatar|头像url。注：如果要获取小图将url最后的”/0”改成”/100”即可，仅通讯录管理应用可获取|
 |Alias|成员别名|
 |Telephone|座机，仅通讯录管理应用可获取;代开发自建应用需要管理员授权才返回|
 |ExtAttr|扩展属性，仅通讯录管理应用可获取;代开发自建应用需要管理员授权才返回 |
 |Type|扩展属性类型: 0-文本 1-网页 |
 |Text|文本属性类型，扩展属性类型为0时填写|
 |Value|文本属性内容|
 |Web|网页类型属性，扩展属性类型为1时填写|
 |Title|网页的展示标题|
 |Url|网页的url|
**说明：** 
- 对用户具有通讯录基本信息只读权限的应用只返回基本字段。由通讯录应用发起的新增成员触发的事件不回调给通讯录应用。
- 对于通讯录编辑授权，成员属性只回调UserId/OpenUserId/Department三个字段 

## 更新成员事件

**请求方式：**POST（**HTTPS**）
**请求地址：** https://127.0.0.1/suite/receive?msg_signature=3a7b08bb8e6dbce3c9671d6fdb69d15066227608&timestamp=1403610513&nonce=380320359

**请求包体：**
xml请求示例：
```
<xml>
  <SuiteId><
- ![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
  <AuthCorpId><
- ![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
  <InfoType><
- ![CDATA[change_contact]]></InfoType>
  <TimeStamp>1403610513</TimeStamp>
  <ChangeType><
- ![CDATA[update_user]]></ChangeType>
  <UserID><
- ![CDATA[zhangsan]]></UserID>
  <OpenUserID><
- ![CDATA[woxxx]]></OpenUserID>
  <NewUserID><
- ![CDATA[zhangsan001]]></NewUserID>
  <Name><
- ![CDATA[张三]]></Name>
  <Department><
- ![CDATA[1,2,3]]></Department>
  <MainDepartment>1</MainDepartment>
  <IsLeaderInDept><
- ![CDATA[1,0,0]]></IsLeaderInDept>
  <DirectLeader><
- ![CDATA[lisi,wangwu]]></DirectLeader>
  <Mobile><
- ![CDATA[15913215421]]></Mobile>
  <Position><
- ![CDATA[产品经理]]></Position>
  <Gender>1</Gender>
  <Email><
- ![CDATA[zhangsan@gzdev.com]]></Email>
  <BizMail><
- ![CDATA[zhangsan@qyycs2.wecom.work]]></BizMail>
  <Status>1</Status>
  <Avatar><
- ![CDATA[http://wx.qlogo.cn/mmopen/ajNVdqHZLLA3WJ6DSZUfiakYe37PKnQhBIeOQBO4czqrnZDS79FH5Wm5m4X69TBicnHFlhiafvDwklOpZeXYQQ2icg/0]]></Avatar>
  <Alias><
- ![CDATA[zhangsan]]></Alias>
  <Telephone><
- ![CDATA[020-3456788]]></Telephone>
  <ExtAttr>
    <Item>
    <Name><
- ![CDATA[爱好]]></Name>
    <Type>0</Type>
    <Text>
      <Value><
- ![CDATA[旅游]]></Value>
    </Text>
    </Item>
    <Item>
    <Name><
- ![CDATA[卡号]]></Name>
    <Type>1</Type>
    <Web>
      <Title><
- ![CDATA[企业微信]]></Title>
      <Url><
- ![CDATA[https://work.weixin.qq.com]]></Url>
    </Web>
    </Item>
  </ExtAttr>
</xml>
```

**参数说明：**

 | 参数 | 说明 |
 |----|---- |
 |SuiteId|第三方应用ID |
 |AuthCorpId|授权企业的CorpID |
 |InfoType|固定为change_contact |
 |TimeStamp|时间戳 |
 |ChangeType|固定为update_user |
 |UserID|变更信息的成员UserID |
 | OpenUserID |全局唯一。对于同一个服务商，不同应用获取到企业内同一个成员的OpenUserID是相同的，最多64个字节。 |
 |NewUserID|新的UserID，变更时推送（userid由系统生成时可更改一次） |
 |Name|成员名称，此字段从2019年12月30日起，对新创建第三方应用不再返回真实name，使用userid代替name，2020年6月30日起，对所有历史第三方应用不再返回真实name，使用userid代替name，后续第三方仅通讯录应用可获取；代开发自建应用需要管理员授权才返回；未返回name的情况页面需要通过[通讯录展示组件](#17172)来展示名字。回收后普通第三方应用name变更不再回调 |
 |Department|更新后成员所在部门列表，仅返回该应用有查看权限的部门id |
 |MainDepartment|主部门|
 |IsLeaderInDept|表示所在部门是否为上级，0-否，1-是，顺序与Department字段的部门逐一对应。第三方通讯录应用或者授权了“组织架构信息-应用可获取企业的部门组织架构信息-部门负责人”权限的第三方应用和代开发应用可获取；对于非第三方创建的成员，第三方通讯录应用不可获取；上游企业不可获取下游企业成员该字段|
 |DirectLeader|直属上级UserID，最多1个。第三方通讯录应用或者授权了“组织架构信息-应用可获取可见范围内成员组织架构信息-直属上级”权限的第三方应用和代开发应用可获取；对于非第三方创建的成员，第三方通讯录应用不可获取；上游企业不可获取下游企业成员该字段|
 |Mobile|手机号码，变更时推送，仅通讯录应用可获取；代开发自建应用需要管理员授权才返回；|
 |Position|职位信息。长度为0~64个字节，仅通讯录应用可获取；代开发自建应用需要管理员授权才返回； |
 |Gender|性别，变更时推送。0表示未定义，1表示男性，2表示女性。仅通讯录应用可获取 |
 |Email|邮箱，变更时推送 ，仅通讯录应用可获取；代开发自建应用需要管理员授权才返回；|
 |BizMail|企业邮箱，变更时推送 ，仅通讯录应用可获取；代开发自建应用不返回；|
 |Avatar|头像url。注：如果要获取小图将url最后的”/0”改成”/100”即可。变更时推送，仅通讯录管理应用可获取|
 |Status|激活状态: 1=已激活，2=已禁用，4=未激活，5=退出企业。已激活代表已激活企业微信或已关注微信插件（原企业号）。未激活代表既未激活企业微信又未关注微信插件（原企业号）。（重新启用未激活用户、或者退出企业、或者取消关注时触发）|
 |Alias|成员别名|
 |Telephone|座机，仅通讯录应用可获取；代开发自建应用需要管理员授权才返回；|
 |ExtAttr|扩展属性，变更时推送，仅通讯录应用可获取；代开发自建应用需要管理员授权才返回；|
 |Type|扩展属性类型: 0-文本 1-网页 |
 |Text|文本属性类型，扩展属性类型为0时填写|
 |Value|文本属性内容|
 |Web|网页类型属性，扩展属性类型为1时填写|
 |Title|网页的展示标题|
 |Url|网页的url|
**说明：** 
- 对用户具有通讯录基本信息只读权限的应用只返回基本字段，只变更敏感字段信息不回调事件给基本信息只读的应用。由通讯录应用发起的更新成员触发的事件不回调给通讯录应用。（更新成员部门的操作导致退出应用权限范围的也会收到成员部门变更事件的回调）
- 对于通讯录编辑授权，成员变更事件只会在成员修改所属部门时触发，并且成员属性只回调UserId/OpenUserId/Department三个字段
 

## 删除成员事件

**请求方式：**POST（**HTTPS**）
**请求地址：** https://127.0.0.1/suite/receive?msg_signature=3a7b08bb8e6dbce3c9671d6fdb69d15066227608&timestamp=1403610513&nonce=380320359

**请求包体：**
xml请求示例：
```
<xml>
  <SuiteId><
- ![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
  <AuthCorpId><
- ![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
  <InfoType><
- ![CDATA[change_contact]]></InfoType>
  <TimeStamp>1403610513</TimeStamp>
  <ChangeType><
- ![CDATA[delete_user]]></ChangeType>
  <UserID><
- ![CDATA[zhangsan]]></UserID>
  <OpenUserID><
- ![CDATA[woxxx]]></OpenUserID>
</xml>
```

**参数说明：**

 | 参数 | 说明 |
 |----|---- |
 |SuiteId|第三方应用ID |
 |AuthCorpId|授权企业的CorpID |
 |InfoType|固定为change_contact |
 |TimeStamp|时间戳 |
 |ChangeType|固定为delete_user |
 |UserID|变更信息的成员UserID |
 | OpenUserID |全局唯一。对于同一个服务商，不同应用获取到企业内同一个成员的OpenUserID是相同的，最多64个字节。 |
**说明：** 由通讯录应用发起的删除成员触发的事件不回调给通讯录应用。
