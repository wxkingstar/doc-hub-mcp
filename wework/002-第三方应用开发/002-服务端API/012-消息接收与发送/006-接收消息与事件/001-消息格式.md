---
title: "消息格式"
doc_id: 12973
category_id: 90375
source_url: https://developer.work.weixin.qq.com/document/path/12973
---
[TOC]

开启接收消息模式后，企业成员在企业微信应用里发送消息时，企业微信会将消息同步到企业应用的后台。
如何接收消息已经在[使用接收消息](#12977/使用接收消息)说明，本小节是对普通消息结构体的说明。
消息类型支持：文本、图片、语音、视频、位置以及链接信息。
<font color=red>注：以下出现的xml包仅是接收的消息包中的[Encrypt参数](#12977/使用接收消息)解密后的内容说明</font>
### 文本消息
**消息示例：**

```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[fromUser]]></FromUserName> 
 <CreateTime>1348831860</CreateTime>
 <MsgType><
- ![CDATA[text]]></MsgType>
 <Content><
- ![CDATA[this is a test]]></Content>
 <MsgId>1234567890123456</MsgId>
 <AgentID>1</AgentID>
</xml>
```
**参数说明：**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 成员UserID|
 | CreateTime | 消息创建时间（整型）|
 | MsgType | 消息类型，此时固定为：text |
 | Content | 文本消息内容 |
 | MsgId | 消息id，64位整型 |
 | AgentID | 企业应用的id，整型。可在应用的设置页面查看 |
 

### 图片消息
**消息示例：**

```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[fromUser]]></FromUserName>
 <CreateTime>1348831860</CreateTime>
 <MsgType><
- ![CDATA[image]]></MsgType>
 <PicUrl><
- ![CDATA[this is a url]]></PicUrl>
 <MediaId><
- ![CDATA[media_id]]></MediaId>
 <MsgId>1234567890123456</MsgId>
 <AgentID>1</AgentID>
</xml>

```
**参数说明：**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 成员UserID|
 | CreateTime | 消息创建时间（整型）|
 | MsgType | 消息类型，此时固定为：image |
 | PicUrl | 图片链接 |
 | MediaId | 图片媒体文件id，可以调用获取媒体文件接口拉取，仅三天内有效 |
 | MsgId | 消息id，64位整型 |
 | AgentID | 企业应用的id，整型。可在应用的设置页面查看 |
 

### 语音消息
**消息示例：**

```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[fromUser]]></FromUserName>
 <CreateTime>1357290913</CreateTime>
 <MsgType><
- ![CDATA[voice]]></MsgType>
 <MediaId><
- ![CDATA[media_id]]></MediaId>
 <Format><
- ![CDATA[Format]]></Format>
 <MsgId>1234567890123456</MsgId>
 <AgentID>1</AgentID>
</xml>

```
**参数说明：**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 成员UserID|
 | CreateTime | 消息创建时间（整型）|
 | MsgType | 消息类型，此时固定为：voice |
 | MediaId | 语音媒体文件id，可以调用获取媒体文件接口拉取数据，仅三天内有效 |
 | Format | 语音格式，如amr，speex等 |
 | MsgId | 消息id，64位整型 |
 | AgentID | 企业应用的id，整型。可在应用的设置页面查看 |
 
 
### 视频消息
**消息示例：**

```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[fromUser]]></FromUserName>
 <CreateTime>1357290913</CreateTime>
 <MsgType><
- ![CDATA[video]]></MsgType>
 <MediaId><
- ![CDATA[media_id]]></MediaId>
 <ThumbMediaId><
- ![CDATA[thumb_media_id]]></ThumbMediaId>
 <MsgId>1234567890123456</MsgId>
 <AgentID>1</AgentID>
</xml>

```
**参数说明：**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 成员UserID|
 | CreateTime | 消息创建时间（整型）|
 | MsgType | 消息类型，此时固定为：video |
 | MediaId | 视频媒体文件id，可以调用获取媒体文件接口拉取数据，仅三天内有效 |
 | ThumbMediaId | 视频消息缩略图的媒体id，可以调用获取媒体文件接口拉取数据，仅三天内有效 |
 | MsgId | 消息id，64位整型 |
 | AgentID | 企业应用的id，整型。可在应用的设置页面查看 |
 
 
### 位置消息
**消息示例：**

```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[fromUser]]></FromUserName>
 <CreateTime>1351776360</CreateTime>
 <MsgType><
- ![CDATA[location]]></MsgType>
 <Location_X>23.134</Location_X>
 <Location_Y>113.358</Location_Y>
 <Scale>20</Scale>
 <Label><
- ![CDATA[位置信息]]></Label>
 <MsgId>1234567890123456</MsgId>
 <AgentID>1</AgentID>
 <AppType><
- ![CDATA[wxwork]]></AppType>
</xml>

```
**参数说明：**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 成员UserID|
 | CreateTime | 消息创建时间（整型）|
 | MsgType | 消息类型，此时固定为： location |
 | Location_X | 地理位置纬度 |
 | Location_Y | 地理位置经度 |
 | Scale | 地图缩放大小 |
 | Label | 地理位置信息 |
 | MsgId | 消息id，64位整型 |
 | AgentID | 企业应用的id，整型。可在应用的设置页面查看 |
 | AppType |app类型，在企业微信固定返回wxwork，在微信不返回该字段 |

### 链接消息
**消息示例：**

```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[fromUser]]></FromUserName> 
 <CreateTime>1348831860</CreateTime>
 <MsgType><
- ![CDATA[link]]></MsgType>
 <Title><
- ![CDATA[this is a title！]]></Title>
 <Description><
- ![CDATA[this is a description！]]></Description>
 <Url><
- ![CDATA[URL]]></Url>
 <PicUrl><
- ![CDATA[this is a url]]></PicUrl>
 <MsgId>1234567890123456</MsgId>
 <AgentID>1</AgentID>
</xml>

```
**参数说明：**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 成员UserID|
 | CreateTime | 消息创建时间（整型）|
 | MsgType | 消息类型，此时固定为：link |
 | Title | 标题 |
 | Description | 描述 |
 | Url | 链接跳转的url |
 | PicUrl | 封面缩略图的url |
 | MsgId | 消息id，64位整型 |
 | AgentID | 企业应用的id，整型。可在应用的设置页面查看 |

[callback_set]: /api/doc#10514 "接收消息设置"
[callback_set]: /api/doc#10514 "点击查看接收消息设置"
