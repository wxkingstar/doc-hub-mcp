---
title: "获取身份验证二维码"
doc_id: 15948
category_id: 94012
source_url: https://developer.work.weixin.qq.com/document/path/15948
---
生成打印机二维码，用于扫码打印。

**请求包体：**
```
{
   "cmd":"printer/gen_qrcode",
   "headers":
  {
    "req_id":"xxxxx"
  },
  "body":
  {
    "state": "Matchine_01",
    "format_version":1
  }
}
```

**参数说明：**
 
| 参数名 | 是否必须 | 类型 | 描述 |
| ---------------- | ---- | ---------- | ---------------------------------------- |
| req_id | 是 | String | 请求的id，自行保证不会重复即可 |
| state| 是| String | 需要用户扫码后透传给打印机的参数 |
| format_version| 是| Uint32 | 表示回包的格式，目前版本为1|

**返回结果：**

| 4Bytes | 4Bytes | req_id_len Bytes | 4Bytes | Data_len Bytes |
| -------------- | ---------- | ---------------- | -------- | -------------- |
| format_version | req_id_len | req_id | data_len | binary |

> 以上所有字段均为直接拼接，没有任何分隔符，解析时先解析出字段长度，再继续解析字段内容。
字段含义如下：

| format_version | 数据格式的版本号，目前为1 |
| -------------- | ----------------------- |
| req_id_len | req_id的长度 |
| req_id | 请求的id，此处企业微信透传上行的req_id |
| data_len | 文件的二进制长度 |
| binary | 文件的二进制 |
