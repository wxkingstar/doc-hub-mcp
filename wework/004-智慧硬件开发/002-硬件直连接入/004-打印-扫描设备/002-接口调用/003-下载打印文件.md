---
title: "下载打印文件"
doc_id: 15947
category_id: 94011
source_url: https://developer.work.weixin.qq.com/document/path/15947
---
下载打印文件。offset和limit均不填写的话表示下载整个文件。目前暂定文件最大为20M。所有文件均为PDF格式。

**请求包体：**
```
{
   "cmd":"printer/download_file",
   "headers":
  {
    "req_id":"xxxxx"
  },
  "body":
  {
    "jobid": "JOBID",
    "offset": 1024,
    "limit": 1024,
    "format_version":1
  }
}
```

**参数说明：**
 
| 参数名 | 是否必须 | 类型 | 描述 |
| ---------------- | ---- | ---------- | ---------------------------------------- |
| req_id | 是 | String | 请求的id，自行保证不会重复即可 |
| jobid| 是| String | 下载任务的id|
| offset| 否| Uint32 | 下载偏移量|
| limit| 否| Uint32 | 本次请求大小|
| format_version| 是| Uint32 | 表示回包的格式，目前版本为1|

**返回结果：**

| 4Bytes | 4Bytes | req_id_len Bytes | 4Bytes | Data_len Bytes |
| -------------- | ---------- | ---------------- | -------- | -------------- |
| format_version | req_id_len | req_id | data_len | binary |

> 以上所有字段均为直接拼接，没有任何分隔符，解析时先解析出字段长度，再继续解析字段内容。
字段含义如下：

| format_version | 数据格式的版本号，目前为1 |
| -------------- | ----------------------- |
| req_id_len | req_id的长度 |
| req_id | 请求的id，此处企业微信透传上行的req_id |
| data_len | 文件的二进制长度 |
| binary | 文件的二进制 |
