---
title: "带扩展参数的文件上传协议"
doc_id: 20072
category_id: 94014
source_url: https://developer.work.weixin.qq.com/document/path/20072
---
**请求包体：**

二进制数据，格式为：

| 4Bytes | 4Bytes | cmd_len Bytes | 4Bytes | req_id_len Bytes | 4 Bytes |Data_len Bytes | 4 Bytes |Args_len Bytes |
| -------------- | ---------- | ---------------- | -------- | -------------- |
| format_version | cmd_len | cmd | req_id_len | req_id |data_len | binary |args_len | args |

> 以上所有字段均为直接拼接，没有任何分隔符，解析时先解析出字段长度，再继续解析字段内容。

字段含义如下：

| 字段名 | 含义 |
| -------------- | ----------------------- |
| format_version | 数据格式的版本号，此处固定为2 |
| cmd_len | 指令号长度，视具体接口而定 |
| cmd | 指令号，视具体接口而定 |
| req_id_len | req_id的长度 |
| req_id | 请求的id，自行保证不重复即可 |
| data_len | 文件的二进制长度 |
| binary | 文件的二进制 |
| args_len | 扩展参数长度 |
| args | 扩展参数内容 |
