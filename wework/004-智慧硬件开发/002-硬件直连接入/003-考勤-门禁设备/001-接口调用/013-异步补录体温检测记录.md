---
title: "异步补录体温检测记录"
doc_id: 21956
category_id: 93994
source_url: https://developer.work.weixin.qq.com/document/path/21956
---
人员体温信息可以在设备离线时缓存，当网络恢复后可以通过本接口批量异步上报。一次最多上报100个用户。

**请求包体：**

```
{
 "cmd":"async_batch_report_user_temperature",
 "headers":
 {
 "req_id":"xxxxx"
 },
 "body":
 {
    "item":[
      {
     "userid": "zhangsan",
        "user_type":2,
        "temperature":"36.7",
        "timestamp":1588745387,
        "status":0
      },
      {
     "userid": "lisi",
        "user_type":2,
        "temperature":"36.7",
        "timestamp":1588745387,
        "status":0
      }
    ]
 }
}

```

**参数说明：**
 
| 参数名 | 是否必须 | 类型 | 描述 |
| ------ | ---- | ------ | ---------------- |
| req_id | 是 | string | 请求的id，自行保证不会重复即可 |
| userid | 是 |string| 员工id |
| usertype |是| uint32 |用户类型， 0：员工（即老师） 2：学生 |
| temperature | 是| string | 温度，单位摄氏度
|status|是|uint32|状态，0：正常， 1：发热， 2：温度过低 |
|item |是|array|上报数据|
|timestamp|是|uint32|测温时间|

**返回结果：** 

```
{
  "headers": 
  {
   "req_id" : "xxxx"
  },
  "body":
  {
    "result_list":
    [
      {
        "userid":"zhangsan",
        "user_type":2,
        "timestamp":1588745387,
        "errcode":0,
        "errmsg":"ok"
      },
      {
        "userid": "lisi",
        "user_type":2,
        "timestamp":1588745387,
        "errcode":0,
        "errmsg":"ok"
      }
    ]
  },
  "errcode": 0,
  "errmsg": "ok"
}
```

**参数说明：** 

| 参数名 | 描述 |
| ------------ | ----------- |
| req_id | 透传请求的req_id |
| errcode | 错误码 |
| errmsg | 错误码描述 |
| result_list | 上报结果|
| userid | 员工id |
| usertype |用户类型， 0：员工（即老师） 2：学生 |
|timestamp|测温时间|

>注：
该接口为异步接口，接口报错可能包括：userid不存在，上报成员不属于使用范围，复学码以及探温应用未开启等。每个上报项结果可以在result_list中的errcode和errmsg查看。
