---
title: "门禁通行规则语法说明"
doc_id: 15400
category_id: 94004
source_url: https://developer.work.weixin.qq.com/document/path/15400
---
时间参考crontab格式，但是时分不做循环安排（否则像9:20\~11:20，这么简单的时间区间要设置3条规则），仅对日、月、周、年支持循环.

一条规则组成：

| time | 分隔符 | date |
|------|--------|------|
|见以下说明 |空格|见以下说明|

**time格式说明**：

采用24进制表达。

| 符号 | 符号说明 | 含义 |
| ---- | ---- | --------------- |
| : | 冒号 | 分割，前为小时，后为分，没有秒 |
| \- | 减号 | 表示区间（闭区间，即包含开始和结束的一分钟） |
| , | 逗号 | 表示并列关系 |

示例如下：

| 表达式 | 含义 |
| -------------------------------- | ---------------------------------------- |
| 9:00-10:00 | 9点到10点 |
| 9:20-23:00 | 9点20到23点 |
| 0:00-2:00,9:30-18:00,23:00-23:59 | 特殊地，如果时间跨越凌晨，应该分为多个时间段， 早班9点半到18点，晚班23点到凌晨2点|

**date格式说明（参考crontab）：**

总共四列，每列按空格分割，分别表示日（按月）、月、日（按周）、年

| 符号 | 符号说明 | 含义 |
| ---- | ---- | ---------- |
| \* | 星号 | 取值范围内的所有数字 |
| / | 斜杠 | 每过多少数字 |
| \- | 减号 | 区间 |
| , | 逗号 | 并列关系 |

示例如下：

| 表达式 | 含义 |
| -------------- | -------------------- |
| \* \* 1-5 \* | 每个工作日(Mon – Fri) |
| 1 \* \* \* | 每月1日 |
| \*/2 \* \* \* | 隔天 |
| 1,15 9 \* \* | 9月1号以及9月15号 |
| 15 10 \* 2018 | 2018年10月15日 |
| 2-20 9 \* 2018 | 2018年9月2日至2018年9月20日 |
| \*/14 \* \* \* | 隔周（大小周） |

规则生效时间参考pass_rule结构体中的effect_time。
