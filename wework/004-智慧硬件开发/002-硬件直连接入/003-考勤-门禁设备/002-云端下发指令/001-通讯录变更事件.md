---
title: "通讯录变更事件"
doc_id: 15373
category_id: 93995
source_url: https://developer.work.weixin.qq.com/document/path/15373
---
本次通讯录变化携带版本号perm_version同时下发，设备再通过调用“[增量拉取用户信息](#15357 )”接口获取到具体的变更数据后，把perm_version记录下来。

**指令包体：**

```
{
  "cmd" : "push_change_contact",
  "headers": {
     "req_id" : "xxxx"
   },
  "body": {
   "timestamp":1514271983,
   "perm_version": 5,
 "create_user": [
 {
 "userid":"ZangShan",
           "user_type":0
 },
 {
 "userid":"lisi",
           "user_type":0
 }
 ],
 "update_user":[
 {
 "userid":"ZangShan01",
           "user_type":0
 }
 ],
 "delete_user":[ 
 {
 "userid":"ZangShan02",
           "user_type":0
 }
 ]
   }
}
```

**参数说明：**

| 参数名 | 类型 | 描述 |
| ------------ | ----------- | ---------------------------------------- |
| req_id | string | 透传请求的req_id |
| cmd | string | 指令号，此处固定为push_change_contact |
| timestamp | Uint32 | Unix时间戳(秒) |
| create_user | Array(data) | 新增成员列表 |
| update_user | Array(data) | 更新成员指纹信息成员列表 |
| delete_user | Array(data) | 删除成员列表 |
| userid | String | 成员id（字符串），长度为1-64个字节 |
| user_type |Uint32 | 成员的类型： 0：企业员工 1：访客 2：学生 不填则默认值为0 |
| perm_version | Uint32 | 当前云端通讯录版本号，版本号严格递增（每次增加1），当推送版本号跟考勤机版本号之间出现空洞（\>=2）时，说明考勤机可能遗漏推送事件，考勤机应记录下来，选择一定的时间全量拉取通讯录。 |
