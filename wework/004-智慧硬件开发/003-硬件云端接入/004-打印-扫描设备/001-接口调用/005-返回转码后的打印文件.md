---
title: "返回转码后的打印文件"
doc_id: 42212
category_id: 96412
source_url: https://developer.work.weixin.qq.com/document/path/96412
---
最后更新：2022/11/09

该接口用于返回转码后的打印文件

**请求方式：**POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/openhw/device/set_printer_job_trans_result?device_access_token=DEVICE_ACCESS_TOKEN

**请求包体：**

```
{  
  "jobid":"jobid_xxx", 
  "setting_version":1,
  "type":1,
  "page":1,
  "page_size":10,
  "media_id":"MEDIAID",
  "download_url":"URL",
  "errcode": 1,
  "errmsg": ""
}
```

**参数说明：**
 
 | 参数 | 是否必须 | 类型 | 说明 |
 |----|----|--- | ----- |
  | device_access_token | 是 | string | device_access_token ,获取方式见[获取设备调用凭证](#40436) |
 | jobid| 是 | string | 转码任务id|
 | type | 否 | uint32 | 0: pdf , 1: jpg ，默认为0|
 |page| 否 | uint32 |当前media_id / download_url 内容图片对应的页码，仅当type为 1时有效且参数必传，页码从1开始|
 | page_size | 是 | uint32 | 转码后的 pdf总页数 / 图片总张数
  | setting_version | 是 | uint32 | 预览转码设置列表 版本号，当用户更改打印配置选项时，version自增，服务商只需要对接收到的最新version进行转码即可 |
 |media_id|否| string | 二进制对应的mediaid|
 |download_url |否 | string |cdn下载链接，由厂商侧提供（如有），没有cdn能力的厂商可以使用mediaid，当传入download_url时，接口会忽略mediaid字段|
 |errcode |否 | int32 |转码失败错误码|
 |errmsg |否 | string |转码失败错误描述|

> 注：使用mediaid文件大小上限为20M，厂商自带的download_url上限由厂商自行决定。
> 当上传类型为图片时，转码后的每一页图片需要单独存储为唯一的meidia_id/download_url，对应的page字段用于表明当前media_id/download_url对应的图片对应文档转码后的页码

**转码错误码定义**
| errcode | errmsg显示描述 |
| ------ | ---------------- |
| 1 | 打印盒子暂不支持当前打印机品牌 |
| 2 | 文件转码失败，请重试 |
| 3 | 文件转码超时，请重试 |
| 4 | 暂不支持打印该格式文件 |
>注意：
>1. 错误码1-1999预留企业微信内部规范展示错误信息使用，当errcode填1-1999时企业微信将忽略errmsg而使用内部规范的文案
2.如果厂商希望透传错误原因展示到用户侧，errcode请使用2000及其以上的错误码

**返回结果：** 

```
{
 "errcode" : 0,
 "errmsg" : "ok"
 }
 
```

**参数说明：** 

 | 参数 | 说明 |
 |----|---- |
 | errcode | 错误码 |
 | errmsg | 错误码对应的描述 |
