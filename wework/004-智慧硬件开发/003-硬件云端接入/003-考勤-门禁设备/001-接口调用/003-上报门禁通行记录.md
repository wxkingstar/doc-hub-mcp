---
title: "上报门禁通行记录"
doc_id: 40277
category_id: 95997
source_url: https://developer.work.weixin.qq.com/document/path/40277
---
上报用户通过门禁事件。

**请求方式：**POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/openhw/device/report_access_data?device_access_token=DEVICE_ACCESS_TOKEN
**请求包体：**

```
{
  "access_data": [
    {
      "open_userid": "x1",
      "user_type":0,
      "timestamp": 12345,
      "pass_type":1,
      "pass_method":1
    },
    {
      "open_userid": "x2",
      "user_type":0,
      "timestamp": 12345,
      "pass_type":1,
      "pass_method":1
    }
  ]
}
```

**参数说明：**
 
| 参数名 | 是否必须 | 类型 | 描述 |
| ------ | ---- | ------ | ---------------- |
| device_access_token | 是 | string | device_access_token ,获取方式见[获取设备调用凭证](#40436) |
| access_data |是 | array(data) | 门禁数据，最多批量上报100条数据 |
| access_data.open_userid |是 | string | 通过门禁的用户open_userid |
| access_data.user_type |是 | uint32 | 用户类型：0-企业成员；2-学生 |
| access_data.timestamp |是 | uint32 | 通过门禁的时间戳 |
| access_data.pass_type |是 | uint32 | 通行类型：1-进门；2-出门；3-无法识别方向 |
| access_data.pass_method |是 | uint32 | 通行方法：1-人脸；2-二维码；3-远程开门；4-指纹 | 

**返回结果：** 

```
{
  "errcode": 0,
  "errmsg": "ok",
  "fail_list": [
    {
      "open_userid":"x2",
      "user_type":0,
      "timestamp":12345
    }
  ]
}
```

**参数说明：** 

| 参数名 | 描述 |
| ------------ | ----------- |
| errcode | 错误码 |
| errmsg | 错误码描述 |
| fail_list | 上报失败列表 |
