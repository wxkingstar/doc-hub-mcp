---
title: "更新设备状态"
doc_id: 40186
category_id: 95983
source_url: https://developer.work.weixin.qq.com/document/path/40186
---
可使用此接口更新设备的固件信息和在线状态。
- **固件信息**：当设备当前固件与最新固件不相同时，才会在客户端展示固件升级入口，管理员方可升级固件
- **在线状态**： 请**及时上报设备状态**，建议半小时上报一次，否则会影响用户客户端设备状态的显示与使用。
> 若此接口上报设备在线后，1小时内（时间可能会调整） 未继续上报设备在线状态，企业微信App会刷新该设备为离线状态。

**请求方式：**POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/openhw/device/report_device_status?device_access_token=DEVICE_ACCESS_TOKEN
**请求包体：**

```
{
  "online_status":1,
  "cur_version": "CURRENT_FIRMWARE",
  "upgradable_version": "UPGRADEABLE_CURRENT_FIRMWARE",
  "upgradable_version_desc": "重大升级"
}
```

**参数说明：**
 
| 参数名 | 是否必须 | 类型 | 描述 |
| ------ | ---- | ------ | ---------------- |
| device_access_token | 是 | string | 设备access_token ,获取方式见[获取设备型号调用凭证](#40195) |
| online_status | 是 | int32 | 设备在线状态：1-在线，2-离线 |
| cur_version | 是 | string | 设备当前固件版本，最长32字节 |
| upgradable_version | 否 | string | 当前设备可升级的固件版本，最长32字节 |
| upgradable_version_desc | 否 | string | 当前设备可升级固件信息的简要描述，最长256字节 |
>可升级固件与固件信息必须同时传输，若有一个参数为空，会忽略另一个参数。

**返回结果：** 

```
{
  "errcode": 0,
  "errmsg": "ok"
}
```

**参数说明：** 

| 参数名 | 描述 |
| ------------ | ----------- |
| errcode | 错误码 |
| errmsg | 错误码描述 |
