---
title: "企业绑定设备事件"
doc_id: 40190
category_id: 95987
source_url: https://developer.work.weixin.qq.com/document/path/40190
---
当企业绑定一台设备时，企业微信回调事件到厂商在设备型号详情中登记的回调URL
从企业微信添加设备成功后，企业微信后台会回调绑定时间和授权码，告知设备当前已经完成企业绑定，厂商根据该授权码auth_code，可获取到该设备的授权密钥。

**请求方式：**POST（**HTTPS**）
**请求地址：**https://127.0.0.1/suite/receive?msg_signature=3a7b08bb8e6dbce3c9671d6fdb69d15066227608&amp;timestamp=1403610513&amp;nonce=380320359
**请求包体：**

```
{
 "msg_type":"event",
 "base_info":{
 "req_id":"xxx",
 "device_sn":"xxx",
 "createtime":1658332800,
 "model_id":"xxx",
 "auth_corpid":"xxx",
 "service_corpid":"xxx"
 },
 "event":{
 "event_type":"bind",
 "auth_code":"xxx",
 "verif_code":"xxx"
 }
}
```

**参数说明：**
 
| 参数名 | 类型 | 描述 |
| ------ | ------ | ---------------- |
| msg_type | string | 用于表示本消息是 事件event 还是指令 command，此处固定为event , 对应event数据有效 |
| event | 结构体 | 事件数据 |
| event_type | string | 事件类型，绑定设备到企业此处固定为 bind |
| auth_code | string | 授权码auth_code内容，10分钟内有效，仅支持消费一次 |
| verif_code | string | 绑定时用户输入的验证码 | 
| base_info | 结构体 | 固定字段基础数据 |
| req_id | string | 请求req_id，可以用于排重 |
| device_sn | string | 设备序列号，在第三方管理端登记的SN |
| createtime | uint32 | 事件触发时间戳（unix 时间戳 单位：秒）|
| model_id | string | 设备型号modelid |
| auth_corpid | string | 绑定设备企业的corpid |
| service_corpid | string | 硬件提供商企业corpid |

> 服务商的响应尽可能在1000ms内完成，最长3000ms，超过这个时间按照绑定失败处理
> 回包为空或者success表示回调处理成功

**回调处理失败被动回包**
如果绑定过程中，厂商云处理回调失败，回包加密 encrypt 字段内容回包格式如下
```
{
 "errcode":0,
 "errmsg":"ok"
}
```
**参数说明：**
| 参数名 | 类型 | 描述 |
| ------ | ------ | ---------------- |
| errcode | uint32 | 错误码 |
| errmsg | string | 错误提示信息 |
> 被动加密回包参考 [回调被动回包格式](#40739)

**被动回包错误码定义**
| errcode | errmsg显示描述 |
| ------ | ---------------- |
| 0 | 成功 |
| 1 | 设备离线，请检查设备网络连接后重试 |
| 2 | 设备已被绑定，请解绑后重试 |
| 3 | 设备存在本地数据，请重置设备后重试 |
| 4 | 设备验证码校验不通过 |
| 5 | 设备未解除绑定，请稍后重试或联系设备厂商处理 |
| 6 | 验证码校验失败，请检查后重试 |
| 7 | 设备当前无法绑定，请稍后重试或联系设备厂商处理 |
| 1999 | 设备正在解绑中，请稍候重试 |
>注意：
>1.绑定时服务商云在处理过程中，如果遇到以上绑定场景绑定失败被动回包时，errcode请严格按照上述表格场景对应的errcode进行回包
2.当服务商被动回包其他的错误码时，一律展示为**未知原因导致添加失败，请重试。如重试后仍无法添加，请联系设备提供厂商协助解决**
3.**errcode为0**时云端会认为服务商云绑定检查通过，企业微信会将此设备与操作者对应企业进行绑定，会忽略errmsg的信息
