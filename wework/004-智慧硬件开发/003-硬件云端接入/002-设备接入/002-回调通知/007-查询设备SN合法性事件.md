---
title: "查询设备SN合法性事件"
doc_id: 41686
category_id: 96130
source_url: https://developer.work.weixin.qq.com/document/path/96130
---
最后更新：2022/12/05

当用户进入绑定页面，输入的SN没在服务商后台进行登记时，企业微信尝试触发本回调给指定服务商，查询设备SN是否合法，及所属modelid。企业微信回调指令到厂商在**智慧硬件-通用开发参数**登记的回调URL。
> 注意：本回调与返回包信息需按照[回调协议](#40739/一、服务商通用地址回调)，服务商通用地址回调协议进行加解密。

**请求方式：**POST（**HTTPS**）
**请求地址：**https://127.0.0.1/suite/receive?msg_signature=3a7b08bb8e6dbce3c9671d6fdb69d15066227608&amp;timestamp=1403610513&amp;nonce=380320359
**请求包体：**

```
{
 "msg_type":"event",
 "base_info":{
 "req_id":"xxx",
 "createtime":1658332800,
 "auth_corpid":"xxx",
 "service_corpid":"xxx"
 },
 "event":{
 "event_type":"verify_device",
 "device_sn_md5":"xxx"
 }
}
```

**参数说明：**
 
| 参数名 | 类型 | 描述 |
| ------ | ------ | ---------------- |
| msg_type | string | 用于表示本消息是 事件event 还是指令 command，此处固定为command , 对应command节点数据有效 |
| command | 结构体 | 指令数据 |
| command_type | string |指令类型，固件升级，此处固定为verify_device |
| device_sn_md5 | string | 设备序列号的md5值 |
| base_info | 结构体 | 固定字段基础数据 |
| req_id | string | 请求req_id，可以用于排重 |
| createtime | uint32 | 事件触发时间戳（unix 时间戳 单位：秒）|
| auth_corpid | string | 绑定设备企业的corpid |
| service_corpid | string | 硬件提供商企业corpid |

**返回结果：**

```
{
 "is_valid":true,
 "modelid":"XXX"
}
```

**参数说明：**
 
| 参数名 | 类型 | 描述 |
| ------ | ------ | ---------------- |
| is_valid | bool | 用于表示该SN是否是本企业合法的SN |
| modelid | string | 若SN合法，用于表示SN所属的型号id |

> 服务商的响应必须在1000ms内完成
