---
title: "发送普通邮件"
doc_id: 43932
category_id: 97445
source_url: https://developer.work.weixin.qq.com/document/path/97445
---
最后更新：2025/01/16

[TOC]
应用可以通过该接口发送普通邮件，支持附件能力。

**请求方式：** POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/exmail/app/compose_send?access_token=ACCESS_TOKEN

**请求包体**
```json
{
 "to": {
 "emails": [
 "word@bgjkcsqy.wecom.work",
 "jyan1@tiyantest.wang" 
 ],
 "userids": [
 "william"
 ]
 },
 "cc": {
 "emails": [],
 "userids": ["panyy"]
 },
 "bcc": {
 "emails": ["zoro@bgjkcsqy.wecom.work"],
 "userids": []
 },
 "subject": "这是标题",
 "content": "这是邮件正文",
 "attachment_list": [
 {
 "file_name": "a.txt",
 "content": "BASE64_CONTENT"
 }
 ],
 "enable_id_trans":1
}
```

**参数说明**

| 参数 | 必须 | 类型 | 说明 |
| ------------ | ------------ | ------------ | ------------ |
| to | 是 | obj | 收件人，to.emails 和 to.userids 至少传一个 |
| to.emails | 否 | string[] | 收件人，邮箱地址 |
| to.userids | 否 | string[] | 收件人，企业内成员的userid |
| cc | 否 | obj | 抄送|
| cc.emails | 否 | string[] | 抄送人，邮箱地址 |
| cc.userids | 否 | string[] | 抄送人，企业内成员的userid |
| bcc | 否 | obj | 密送 |
| bcc.emails | 否 | string[] | 密送人，邮箱地址 |
| bcc.userids | 否 | string[] | 密送人，企业内成员的userid |
| subject | 是 | string | 标题 |
| content | 是 | string | 内容 |
| attachment_list | 否 | obj[] | 附件相关 |
| attachment_list[].file_name| 是| string| 文件名
| attachment_list[].content| 是| string| 文件内容（base64编码），所有附件加正文的大小不允许超过50M, 且附件个数不能超过200个|
| content_type | 否 | string | 内容类型 html，text（默认是html）|
| enable_id_trans | 否 | uint32 | 表示是否开启id转译，0表示否，1表示是，默认0。仅第三方应用需要用到，企业自建应用可以忽略。<br>目前仅subject、content、attachment_list[].file_name字段支持转译。 |

**id转译模版语法**
```
$departmentName=DEPARTMENT_ID$
$userName=USERID$
$userAlias=USERID$
$userAliasOrName=USERID$
```
其中 DEPARTMENT_ID 是数字类型的部门id，USERID 是[成员账号](#14953/userid)。
譬如，
将```$departmentName=1$```替换成部门id为```1```对应的部门名，如“企业微信部”；
将```$userName=lisi007$```替换成userid为```lisi007```对应的用户姓名，如“李四”；
将```$userAlias=lisi007$```替换成userid为```lisi007```对应的用户别名，如“lisi”；
将```$userAliasOrName=lisi007$```替换成userid为```lisi007```对应的用户别名或姓名，别名优先级高于姓名，如"lisi"；
>若输入的模板不符合语法或无效的userid或者部门ID，则不替换该项内容，保留原样
>转译userAlias时，如果用户没有别名，则不替换该项内容，保留原样
>转译userAliasOrName时，如果用户有别名，则替换为别名；否则，将替换为姓名

**权限说明**
- 自建应用需配置到“[可调用应用](#13473/开始开发)”列表中的应用secret所获取的accesstoken来调用（[accesstoken如何获取？](#10013/第三步：获取access_token)）
- 第三方应用需具有“邮件”权限
- 代开发自建应用需具有“邮件”权限
- `to.userids`/`cc.userids`/`bcc.userids`指定的成员，需在应用的可见范围内

**返回示例**

```json
{
 "errcode": 0,
 "errmsg": "ok"
}
```

**参数说明**

| 参数 | 类型| 说明 |
| ------------ | ------------ |------------ |
| errcode | int32 | 返回码 |
| errmsg | string | 对返回码的文本描述内容 |
