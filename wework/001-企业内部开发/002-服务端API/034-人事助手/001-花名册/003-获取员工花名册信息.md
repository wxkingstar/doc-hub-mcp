---
title: "获取员工花名册信息"
doc_id: 48935
category_id: 99132
source_url: https://developer.work.weixin.qq.com/document/path/99132
---
最后更新：2024/11/19

>通过这个接口获取指定员工的花名册信息
>调用参数中的字段id信息可以通过[获取员工字段配置](#48934/获取员工字段配置)接口获取

**请求方式：**POST(**HTTPS**)
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/hr/get_staff_info?access_token=ACCESS_TOKEN

**请求包体：**

```
{
  "userid":"xxxxx",
  "get_all":false,
  "fieldids":[
    {
      "fieldid":11004,
      "sub_idx":0
    },
    {
      "fieldid":14001,
      "sud_idx":1
    }
  ]
}
```

**参数说明：**

|参数|必须|说明|
|---|---|---|
|access_token|是|调用接口凭证 |
|userid|是|需要获取花名册信息的员工的userid<br>该员工需要在调用应用的可见范围内，否则将返回错误码|
|get_all|否|是否获取全部字段信息，不填时默认为否|
|fieldids|否|需要获取的字段信息。<br>参数get_all为否或不填时，此字段不能为空；<br>参数get_all为是时，此字段填写的内容将被忽略|
|fieldids.fieldid|是|需要获取的字段id|
|fieldids.sub_idx|否|需要获取的字段下标。<br>当需要获取的字段属于可重复的组(参考[可重复字段组列表](#multigroup))时，需要指定获取组内第几组数据的字段信息，当需要获取的字段不属于可重复的组时，需要为0。<br>不填时默认为0|

**可重复字段组列表：**
|编号|名称|
|---|---|
|1|教育经历|
|2|工作经历|
|3|家庭成员|
|4|紧急联系人|
|5|合同信息|

**返回数据：**
```
{
  "errcode":0,
  "errmsg":"ok",
  "field_info":[
    {
      "fieldid":11004,
      "sub_idx":0,
      "result":1,
      "value_type":3,
      "value_uint32":1
    },
    {
      "fieldid":11003,
      "sub_idx":0,
      "result":1,
      "value_type":5,
      "value_mobile":{
        "value_country_code":"xx",
        "value_mobile":"xxxxxxxxxx"
      }
    },
    {
      "fieldid":19001,
      "sub_idx":0,
      "result":1,
      "value_type":6,
      "value_file":{
        "media_id":["xxxxxx","xxxxxx"]
      }
    }
  ]
}
```

**参数说明：**
|参数|说明|
|---|---|
|errcode|返回码|
|errmsg|对返回码的文本描述|
|field_info|获取到的字段信息，参考[字段信息说明](#fieldinfo)|

**字段信息说明：**
|参数|说明|
|---|---|
|fieldid|字段id|
|sub_idx|下标|
|result|查询结果，参考[查询结果对照表](#result)|
|value_type|字段值的类型，参考[字段值类型对照表](#value_type)|
|value_xxxxx|字段值的内容，根据不同的字段值类型，返回的这个字段的名称和类型也不同，参考[字段值类型对照表](#value_type)|

**查询结果对照表：**
|参数|结果|
|---|---|
|1|成功|
|2|失败|
|3|字段未找到|
|5|不支持获取的字段类型|

**字段值类型对照表：**
|参数|字段类型|对应的内容字段名称|对应的内容字段类型|
|---|---|---|---|
|1|字符串|value_string|字符串|
|2|64位非负整数|value_uint64|非负整数|
|3|32位非负整数|value_uint32|非负整数|
|4|64位整数|value_int64|整数|
|5|电话号码|value_mobile|参考[电话号码类型字段结构](#value_mobile)|
|6|文件|value_file|参考[文件类型字段结构](#value_file)|

**电话号码类型字段结构：**
|参数|说明|
|---|---|
|value_country_code|字符串，表示电话号码的区号|
|value_mobile|字符串，表示电话号码|

**文件类型字段结构：**
|参数|说明|
|---|---|
|media_id|列表，内容为字符串，可在[获取临时素材](#10115)接口下载对应文件|
