---
title: "回调通知"
doc_id: 42945
category_id: 97712
source_url: https://developer.work.weixin.qq.com/document/path/97712
---
最后更新：2023/11/30

[TOC]

为了让实时获取企业的微信客服的状态，企业微信会将特定的事件推送给应用配置的```回调URL```。

接收并解析事件的方法见：[接收事件](#12977)

| 应用类型 | 权限要求 | 接收事件开关|
| -------- | ---- | 
|自建应用|配置到「[微信客服- 可调用接口的应用](#31164)」中 |[微信客服消息和事件](#12977/开启接收消息)|
|代开发应用|具有「!!#ff0000 微信客服->管理账号、分配会话和收发消息!!」权限| 无|
|第三方应用|具有「!!#ff0000 微信客服->管理账号、分配会话和收发消息!!」权限|无|
特别说明：
- 对自建应用，配置到「[微信客服- 可调用接口的应用](#31164)」且授权了至少一个客服账号后，则自动获得「!!#ff0000 微信客服->管理账号、分配会话和收发消息!!」权限
- 「取消客服账号的授权」事件，不需要有微信客服权限（如因权限被移除引起的客服账号取消授权）

## 客服账号授权变更事件
当应用授权的客服账号发生变化（新增/取消客服账号的授权），触发该回调。

**示例**
```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[sys]]></FromUserName> 
 <CreateTime>1348831860</CreateTime>
 <MsgType><
- ![CDATA[event]]></MsgType>
 <Event><
- ![CDATA[kf_account_auth_change]]></Event>
 <AuthAddOpenKfId><
- ![CDATA[wkxxxx1]]></AuthAddOpenKfId>
 <AuthDelOpenKfId><
- ![CDATA[wkxxxx2]]></AuthDelOpenKfId>
</xml>
```

**说明**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 此事件该值固定为```sys```，表示该消息由系统生成 |
 | CreateTime | 消息创建时间，unix时间戳|
 | MsgType | 消息类型，此时固定为：```event``` |
 | Event | 事件类型，此时固定为：```kf_account_auth_change``` |
 | AuthAddOpenKfId | 新增授权的客服账号列表，多个`AuthAddOpenKfId`节点表示多个新增账号|
 | AuthDelOpenKfId | 取消授权的客服账号列表，多个`AuthDelOpenKfId`节点表示多个取消账号 |
