---
title: "构造网页授权链接"
doc_id: 17912
category_id: 91857
source_url: https://developer.work.weixin.qq.com/document/path/17912
---
如果企业需要在打开的网页里面携带用户的身份信息，第一步需要构造如下的链接来获取code参数：
```
https://open.weixin.qq.com/connect/oauth2/authorize?appid=CORPID&redirect_uri=REDIRECT_URI&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect
```

**参数说明：**

| 参数 | 必须 | 说明 |
| ------------- | ---- | --------------------------------- |
| appid | 是 | 企业的CorpID |
| redirect_uri | 是 | 授权后重定向的回调链接地址，**请使用urlencode对链接进行处理** |
| response_type | 是 | 返回类型，此时固定为：code |
| scope |是|应用授权作用域。企业自建应用固定填写：snsapi_base |
| state |否|重定向后会带上state参数，企业可以填写a-zA-Z0-9的参数值，长度不可超过128个字节 |
| #wechat_redirect |是|终端使用此参数判断是否需要带上身份信息 |

员工点击后，页面将跳转至 redirect_uri?code=CODE&state=STATE，企业可根据code参数获得员工的userid。code长度最大为512字节。

**示例：**

```
假定当前
企业CorpID：wxdd725338566d6ffe
访问链接：http://api.3dept.com/cgi-bin/query?action=get

根据URL规范，将上述参数分别进行UrlEncode，得到拼接的OAuth2链接为：
https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxdd725338566d6ffe&redirect_uri=http%3a%2f%2fapi.3dept.com%2fcgi-bin%2fquery%3faction%3dget&response_type=code&scope=snsapi_base&state=#wechat_redirect

员工点击后，页面将跳转至 
http://api.3dept.com/cgi-bin/query?action=get&code=eh3CZBgG333qs9EdaPbCAP1VaOrjuNkiAZHTWgaWsZQ&state=

企业可根据code参数调用获得员工的userid
```
> 注意到，构造OAuth2链接中参数的redirect_uri是经过UrlEncode的
