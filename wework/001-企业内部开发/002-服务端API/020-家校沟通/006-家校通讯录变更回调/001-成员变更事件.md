---
title: "成员变更事件"
doc_id: 18903
category_id: 92032
source_url: https://developer.work.weixin.qq.com/document/path/92032
---
最后更新：2023/11/29

[TOC]

##接收回调权限说明
需具备相应的权限以及打开对应的接收事件开关才能接收回调。

| 应用类型 | 权限要求 | 接收事件开关|
| -------- | ---- | 
|自建应用|配置到「家校沟通- 可调用接口的应用」中或者「家校沟通- 配置-家长可使用的应用」 |[外部联系人变更回调](#12977/开启接收消息)|
|代开发应用|具有「!!#ff0000 家校沟通->家校通讯录读取权限”!!」权限| 无|
|第三方应用|具有「!!#ff0000 家校沟通->「家校沟通」使用权限，包括读取家长信息（不含电话）和给家长发通知”!!」或者「!!#ff0000 「家校沟通」使用和编辑权限，包括编辑家校通讯录和给家长发通知!!」权限|无|

## 新增学生事件
当学校在家校通讯录中新增学生时，回调此事件。

xml请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_school_contact]]></Event>
  <ChangeType><
- ![CDATA[create_student]]></ChangeType>
  <Id><
- ![CDATA[xiaoming]]></Id>
</xml>
```

参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_school_contact |
 |ChangeType|此时固定为create_student|
 |Id|新增学生的家校通讯录userid |
 
 
 
## 编辑学生事件
当学校在家校通讯录中更新学生信息或与之相关联的家长信息时，回调此事件。

xml请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_school_contact]]></Event>
  <ChangeType><
- ![CDATA[update_student]]></ChangeType>
  <Id><
- ![CDATA[xiaoming]]></Id>
  
</xml>
```

参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_school_contact |
 |ChangeType|此时固定为update_student|
 |Id|更新学生的家校通讯录userid |
 
 

## 删除学生事件
当学校在家校通讯录中删除学生时，回调此事件。

xml请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_school_contact]]></Event>
  <ChangeType><
- ![CDATA[delete_student]]></ChangeType>
  <Id><
- ![CDATA[xiaoming]]></Id>
</xml>
```

参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_school_contact |
 |ChangeType|此时固定为delete_student|
 |Id|删除学生的家校通讯录userid |
 
 
## 新增家长事件
当学校在家校通讯录中新增家长时，回调此事件。

xml请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_school_contact]]></Event>
  <ChangeType><
- ![CDATA[create_parent]]></ChangeType>
  <Id><
- ![CDATA[zhangsan]]></Id>
</xml>
```

参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_school_contact |
 |ChangeType|此时固定为create_parent|
 |Id|新增家长的家校通讯录userid |
 
 
 
## 编辑家长事件
当学校在家校通讯录中更新家长信息时，回调此事件。

xml请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_school_contact]]></Event>
  <ChangeType><
- ![CDATA[update_parent]]></ChangeType>
  <Id><
- ![CDATA[zhangsan]]></Id>
  
</xml>
```

参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_school_contact |
 |ChangeType|此时固定为update_parent|
 |Id|更新家长的家校通讯录userid |
 
 

## 删除家长事件
当学校在家校通讯录中删除家长时，回调此事件。

xml请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_school_contact]]></Event>
  <ChangeType><
- ![CDATA[delete_parent]]></ChangeType>
  <Id><
- ![CDATA[zhangsan]]></Id>
</xml>
```

参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_school_contact |
 |ChangeType|此时固定为delete_parent|
 |Id|删除家长的家校通讯录userid |
 
## 家长关注事件
当家长关注家校通知时，回调此事件。

xml请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_school_contact]]></Event>
  <ChangeType><
- ![CDATA[subscribe]]></ChangeType>
  <Id><
- ![CDATA[xiaoming]]></Id>
</xml>
```

参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_school_contact |
 |ChangeType|此时固定为subscribe|
 |Id|家长的userid |
 
## 家长取消关注事件
当家长取消关注家校通知时，回调此事件。

xml请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_school_contact]]></Event>
  <ChangeType><
- ![CDATA[unsubscribe]]></ChangeType>
  <Id><
- ![CDATA[xiaoming]]></Id>
</xml>
```

参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_school_contact |
 |ChangeType|此时固定为unsubscribe|
 |Id|家长的userid |
