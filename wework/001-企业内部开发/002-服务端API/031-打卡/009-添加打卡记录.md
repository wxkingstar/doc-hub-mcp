---
title: "添加打卡记录"
doc_id: 52613
category_id: 99647
source_url: https://developer.work.weixin.qq.com/document/path/52613
---
可通过接口写入打卡记录，匹配打卡规则后可在企业微信打卡明细、统计中参与展示。

**请求方式**:POST(**HTTPS**)

**请求地址:**https://qyapi.weixin.qq.com/cgi-bin/checkin/add_checkin_record?access_token=ACCESS_TOKEN

**请求示例**

```json
{
 "records": [
 {
 "userid": "userId",
 "checkin_time": 1705899000,
 "location_title": "1234",
 "location_detail": "1234",
 "mediaids": [
 "mediaId"
 ],
 "notes": "",
 "device_type": 1,
 "lat": 22234233,
 "lng": 1233123,
 "device_detail": "device_detail_test",
 "wifiname": "Tencent-WiFi",
 "wifimac": "a2:8b:7f:c0:27:4b"
 }
 ]
}

```

**参数说明**:

| 参数 | 必须 | 说明 |
| ------------ | ------------ | ------------ |
| access_token | 是 | 调用接口凭证。获取方式参考：[文档-获取access_token](https://work.weixin.qq.com/api/doc#90000/90135/91039 "文档") |
| records | 是 | 打卡记录，一批最多200个 |
| userid | 是 | 用户id |
| checkin_time | 是 | 打卡时间。Unix时间戳|
| location_title | 是 |打卡地点title，限制1024字符|
| location_detail | 是 | 打卡地点详情限制1024字符|
| notes | 否 | 打卡备注限制1024字符|
| wifiname | 否 |打卡wifi名称限制1024字符|
| wifimac | 否 |打卡的MAC地址/bssid 满足正则表达式^[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}:[A-Fa-f0-9]{2}$。传入`wifiname`时必填|
| mediaids | 否 |打卡的附件media_id，可使用media/upload上传附件。当前最多只允许传1个|
| lat | 否 |位置打卡地点纬度，是实际纬度的1000000倍，与腾讯地图一致采用GCJ-02坐标系统标准 范围 -90000000,90000000|
| lng | 否 |位置打卡地点经度，是实际经度的1000000倍，与腾讯地图一致采用GCJ-02坐标系统标准 范围-180000000,180000000|
| device_type | 是 |打卡设备类型：1、门禁 2、考勤机（人脸识别、指纹识别） 3、其他； |
| device_detail | 是 |打卡设备品牌：字符串写入（限制40个字符内）|

**权限说明**: 
调用的应用需要满足如下的权限：

| 应用类型 | 权限要求 |
| -------- | ---- | 
|自建应用|配置到「!!#ff0000 打卡 - 可调用接口的应用!!」中 |
|代开发应用|暂不支持| 
|第三方应用|暂不支持|
 *注：* 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 [查看详情](https://developer.work.weixin.qq.com/document/51165)

**调用频率**:
接口调用频率限制为60次/分钟。

**返回结果**:

```json
{
 "errcode": 0,
 "errmsg": "ok"
}
```

**参数说明**:

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|返回码|
|errmsg|string|错误码描述|

**审批打卡说明**：
原卡点是审批打卡，被更新后原审批打卡的信息会清除
