---
title: "获取用户布局"
doc_id: 47365
category_id: 98865
source_url: https://developer.work.weixin.qq.com/document/path/47365
---
根据会议 ID 和用户 ID 返回用户的布局设置信息。
布局优先级：用户个性布局 > 会议自定义布局（高级布局、基础布局）> 会议默认布局。
>高级布局目前仅支持 H.323/SIP 会议室终端。

**请求方式：** POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/meeting/advanced_layout/get_user_layout?access_token=ACCESS_TOKEN
 
**请求包体：**
```
{
  "meetingid": "MEETINGID",
  "tmp_openid": "TMPOPENID1",
  "instance_id": 1
}
```

**参数说明：**
|参数 |必须 |类型|说明 |
|:--|
|access_token |是 |string|调用接口凭证。获取方法查看“[获取access_token](https://work.weixin.qq.com/api/doc/90001/90143/90605)” |
|meetingid|是|string|会议 ID |
|tmp_openid|是|string|被操作用户临时身份 ID |
|instance_id|是|uint32|被操作用户终端设备类型 ID：<br>0：PSTN<br>1：PC<br>2：Mac<br>3：Android<br>4：iOS<br>5：Web<br>6：iPad<br>7：Android Pad<br>8：小程序<br>9：voip、sip 设备<br>10：linux<br>20：Rooms for Touch Windows<br>21：Rooms for Touch MacOS<br>22：Rooms for Touch Android<br>30：Controller for Touch Windows<br>32：Controller for Touch Android<br>33：Controller for Touch iOS |
**返回结果：**
```
{
  "errcode": 0,
  "errmsg": "ok",
  "selected_layout_id": "LAYOUTID1",
  "layout_name": "testmictest",
  "layout_type": 2,
  "page_list": [{
 "layout_template_id": "3",
 "enable_polling": true,
 "polling_setting": {
 "polling_interval_unit": 1,
 "polling_interval": 10,
 "ignore_user_absence": false,
 "ignore_user_novideo": false
 },
 "user_seat_list": [{
 "grid_id": "1",
 "grid_type": 1,
 "video_type": 3,
 "user_list": [{
 "tmp_openid": "TMPOPENID1"
 }]
 }]
 }]
}
```

**参数说明：**
|参数 |类型|说明 |
|:--|
|errcode |int32|返回码 |
|errmsg |string|对返回码的文本描述内容 |
|selected_layout_id|string|会议应用的布局 ID|
|layout_name |string|布局名称|
|layout_type |uint32|布局类型：<br>0：默认布局 <br>2：自定义会议布局<br>3：个性布局 |
|page_list |object[]|布局单页对象列表，详见**LayoutPage**|

**LayoutPage 说明**
|参数 |说明 |
|:--|
|layout_template_id |string|布局模板 ID|
|enable_polling| bool|开启或关闭轮询，默认关闭|
|polling_setting| object|轮询参数设置对象，详见**PollingSetting**|
|user_seat_list |object[]|用户座次对象列表，详见**UserSeat**|

**PollingSetting 说明**
|参数 |类型|说明 |
|:--|
|polling_interval_unit |uint32|轮询开启后设置参数。轮询间隔时间类型： <br>1：秒<br>2：分钟|
|polling_interval |uint32|轮询开启后设置参数 轮询间隔时长，允许取值范围1～999999|
|ignore_user_novideo |bool|轮询开启后设置参数，设置是否忽略没开启视频成员|
|ignore_user_absence |bool|轮询开启后设置参数，设置是否忽略未入会成员|

**UserSeat 说明**
|参数 |类型|说明 |
|:--|
|grid_id |string|宫格 ID|
|grid_type |uint32|宫格类型：<br>1. 视频画面<br>2. 共享画面|
|video_type |uint32|视频画面来源：<br>1：演讲者<br>2：自动填充<br>3：指定人员。根据 user_list 的定义显示视频内容（此类型需传递 tmp_openid）。|
|user_list |object[]|宫格中的用户列表：轮询关闭，只有一个用户；轮询开启后，可以包含多个用户。详见**GridUser**|

**GridUser 说明**
|参数 |类型|说明 |
|:--|
|tmp_openid |string |用户当前会议临时身份 ID，单场会议唯一|
