---
title: "更新模版卡片消息"
doc_id: 32086
category_id: 94888
source_url: https://developer.work.weixin.qq.com/document/path/94888
---
最后更新：2025/07/24

[TOC]

## 接口定义
应用可以[发送模板卡片消息](#10167/模板卡片消息)，发送之后可再通过接口更新可回调的用户任务卡片消息的替换文案信息（仅原卡片为 按钮交互型、投票选择型、多项选择型的卡片以及填写了action_menu字段的文本通知型、图文展示型可以调用本接口更新）。

请注意，当应用调用发送模版卡片消息后，接口会返回一个response_code，通过response_code用户可以调用本接口一次。后续如果有用户点击任务卡片，回调接口也会带上response_code，开发者通过该code也可以调用本接口一次，注意response_code的有效期是72小时，超过72小时后将无法使用。
 
**请求方式：**POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/message/update_template_card?access_token=ACCESS_TOKEN

**参数说明：**
 
| 参数 | 是否必须 | 说明 |
| ------------ | -------- | ------------ |
| access_token | 是 | 调用接口凭证 |

 **请求示例：**
 ## 更新按钮为不可点击状态
仅原卡片为 按钮交互型、投票选择型、多项选择型的卡片可以更新按钮，可以将按钮更新为不可点击状态，并且自定义文案

```
{
 "userids" : ["userid1","userid2"],
 "partyids" : [2,3],
 "tagids" : [44,55],
 "atall" : 0,
 "agentid" : 1,
 "response_code": "response_code",
 "button":{
 "replace_name": "replace_name"
 }
}
```

**参数说明：**

| 参数 | 是否必须 | 说明 |
| ------------- | -------- | ---------------------------------------------------------------------------------------------------------------- |
| userids | 否 | 企业的成员ID列表（最多支持1000个） |
| partyids | 否 | 企业的部门ID列表（最多支持100个） |
| tagids | 否 | 企业的标签ID列表（最多支持100个） |
| atall | 否 | 更新整个任务接收人员 |
| agentid | 是 | 应用的agentid |
| response_code | 是 | 更新卡片所需要消费的code，可通过发消息接口和回调接口返回值获取，一个code只能调用一次该接口，且只能在72小时内调用 |
| button.replace_name | 是 | 需要更新的按钮的文案 |

## 更新为新的卡片
可回调的卡片可以更新成任何一种模板卡片

### 文本通知型
- ![](https://wework.qpic.cn/wwpic/235797_QOJtTyeUTBuAk_G_1632907465/0)

```json
{
 "userids" : ["userid1","userid2"],
 "partyids" : [2,3],
 "agentid" : 1,
 "response_code": "response_code",
 "enable_id_trans": 1,
 "template_card" : {
 "card_type" : "text_notice",
 "source" : {
 "icon_url": "图片的url",
 "desc": "企业微信",
 "desc_color": 1
 },
 "action_menu": {
 "desc": "卡片副交互辅助文本说明",
 "action_list": [
 {"text": "接受推送", "key": "A"},
 {"text": "不再推送", "key": "B"}
 ]
 },
 "main_title" : {
 "title" : "欢迎使用企业微信",
 "desc" : "您的好友正在邀请您加入企业微信"
 },
 "quote_area": {
 "type": 1,
 "url": "https://work.weixin.qq.com",
 "title": "企业微信的引用样式",
 "quote_text": "企业微信真好用呀真好用"
 },
 "emphasis_content": {
 "title": "100",
 "desc": "核心数据"
 },
 "sub_title_text" : "下载企业微信还能抢红包！",
 "horizontal_content_list" : [
 {
 "keyname": "邀请人",
 "value": "张三"
 },
 {
 "type": 1,
 "keyname": "企业微信官网",
 "value": "点击访问",
 "url": "https://work.weixin.qq.com"
 },
 {
 "type": 2,
 "keyname": "企业微信下载",
 "value": "企业微信.apk",
 "media_id": "文件的media_id"
 },
 {
 "type": 3,
 "keyname": "员工信息",
 "value": "点击查看",
 "userid": "zhangsan"
 }
 ],
 "jump_list" : [
 {
 "type": 1,
 "title": "企业微信官网",
 "url": "https://work.weixin.qq.com"
 },
 {
 "type": 2,
 "title": "跳转小程序",
 "appid": "小程序的appid",
 "pagepath": "/index.html"
 }
 ],
 "card_action": {
 "type": 2,
 "url": "https://work.weixin.qq.com",
 "appid": "小程序的appid",
 "pagepath": "/index.html"
 }
 }
}
```

**参数说明：**

| 参数 | 是否必须 | 说明 |
| -------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------- |
| userids | 否 | 企业的成员ID列表（最多支持1000个） |
| partyids | 否 | 企业的部门ID列表（最多支持100个） |
| tagids | 否 | 企业的标签ID列表（最多支持100个） |
| atall | 否 | 更新整个任务接收人员 |
| agentid | 是 | 应用的agentid |
| response_code | 是 | 更新卡片所需要消费的code，可通过发消息接口和回调接口返回值获取，一个code只能调用一次该接口，且只能在72小时内调用 |
| enable_id_trans | 否 | 表示是否开启id转译，0表示否，1表示是，默认0，[id转译说明](#10167/id转译说明) |
| card_type | 是 | 模板卡片类型，文本通知型卡片填写 "text_notice" |
| source | 否 | 卡片来源样式信息，不需要来源样式可不填写 |
| source.icon_url | 否 | 来源图片的url |
| source.desc | 否 | 来源图片的描述，建议不超过20个字，**（支持id转译）** |
| source.desc_color | 否 | 来源文字的颜色，目前支持：0(默认) 灰色，1 黑色，2 红色，3 绿色 |
| action_menu | 否 | 卡片右上角更多操作按钮 |
| action_menu.desc | 否 | 更多操作界面的描述 |
| action_menu.action_list | 是 | 操作列表，列表长度取值范围为 [1, 3] |
| action_menu.action_list.text | 是 | 操作的描述文案 |
| action_menu.action_list.key | 是 | 操作key值，用户点击后，会产生回调事件将本参数作为EventKey返回，回调事件会带上该key值，最长支持1024字节，不可重复 |
| main_title.title | 否 | 一级标题，建议不超过36个字，文本通知型卡片本字段非必填，但不可本字段和sub_title_text都不填，**（支持id转译）** |
| main_title.desc | 否 | 标题辅助信息，建议不超过44个字，**（支持id转译）** |
| quote_area | 否 | 引用文献样式 |
| quote_area.type | 否 | 引用文献样式区域点击事件，0或不填代表没有点击事件，1 代表跳转url，2 代表跳转小程序 |
| quote_area.url | 否 | 点击跳转的url，quote_area.type是1时必填 |
| quote_area.appid | 否 | 点击跳转的小程序的appid，必须是与当前应用关联的小程序，quote_area.type是2时必填 |
| quote_area.pagepath | 否 | 点击跳转的小程序的pagepath，quote_area.type是2时选填 |
| quote_area.title | 否 | 引用文献样式的标题 |
| quote_area.quote_text | 否 | 引用文献样式的引用文案 |
| emphasis_content | 否 | 关键数据样式 |
| emphasis_content.title | 否 | 关键数据样式的数据内容，建议不超过14个字 |
| emphasis_content.desc | 否 | 关键数据样式的数据描述内容，建议不超过22个字 |
| sub_title_text | 否 | 二级普通文本，建议不超过160个字，**（支持id转译）** |
| horizontal_content_list | 否 | 二级标题+文本列表，该字段可为空数组，但有数据的话需确认对应字段是否必填，列表长度不超过6 |
| horizontal_content_list.type | 否 | 链接类型，0或不填代表不是链接，1 代表跳转url，2 代表下载附件，3 代表点击跳转成员详情 |
| horizontal_content_list.keyname | 是 | 二级标题，建议不超过5个字 |
| horizontal_content_list.value | 否 | 二级文本，如果horizontal_content_list.type是2，该字段代表文件名称（要包含文件类型），建议不超过30个字，**（支持id转译）** |
| horizontal_content_list.url | 否 | 链接跳转的url，horizontal_content_list.type是1时必填 |
| horizontal_content_list.media_id | 否 | 附件的media_id，horizontal_content_list.type是2时必填 |
| horizontal_content_list.userid | 否 | 成员详情的userid，horizontal_content_list.type是3时必填 |
| jump_list | 否 | 跳转指引样式的列表，该字段可为空数组，但有数据的话需确认对应字段是否必填，列表长度不超过3 |
| jump_list.type | 否 | 跳转链接类型，0或不填代表不是链接，1 代表跳转url，2 代表跳转小程序 |
| jump_list.title | 是 | 跳转链接样式的文案内容，建议不超过18个字 |
| jump_list.url | 否 | 跳转链接的url，jump_list.type是1时必填 |
| jump_list.appid | 否 | 跳转链接的小程序的appid，jump_list.type是2时必填 |
| jump_list.pagepath | 否 | 跳转链接的小程序的pagepath，jump_list.type是2时选填 |
| card_action | 是 | 整体卡片的点击跳转事件，text_notice必填本字段 |
| card_action.type | 是 | 1 代表跳转url，2 代表打开小程序 |
| card_action.url | 否 | 跳转事件的url，card_action.type是1时必填 |
| card_action.appid | 否 | 跳转事件的小程序的appid，card_action.type是2时必填 |
| card_action.pagepath | 否 | 跳转事件的小程序的pagepath，card_action.type是2时选填 |

### 图文展示型
- ![](https://wework.qpic.cn/wwpic/93182_HHrOrbdjTNW9ieM_1632907497/0)

```json
{
 "userids" : ["userid1","userid2"],
 "partyids" : [2,3],
 "agentid" : 1,
 "response_code": "response_code",
 "enable_id_trans": 1,
 "template_card" : {
 "card_type" : "news_notice",
 "source" : {
 "icon_url": "图片的url",
 "desc": "企业微信",
 "desc_color": 1
 },
 "action_menu": {
 "desc": "卡片副交互辅助文本说明",
 "action_list": [
 {"text": "接受推送", "key": "A"},
 {"text": "不再推送", "key": "B"}
 ]
 },
 "main_title" : {
 "title" : "欢迎使用企业微信",
 "desc" : "您的好友正在邀请您加入企业微信"
 },
 "quote_area": {
 "type": 1,
 "url": "https://work.weixin.qq.com",
 "title": "企业微信的引用样式",
 "quote_text": "企业微信真好用呀真好用"
 },
 "image_text_area": {
 "type": 1,
 "url": "https://work.weixin.qq.com",
 "title": "企业微信的左图右文样式",
 "desc": "企业微信真好用呀真好用",
 "image_url": "https://img.iplaysoft.com/wp-content/uploads/2019/free-images/free_stock_photo_2x.jpg"
 },
 "card_image": {
 "url": "图片的url",
 "aspect_ratio": 1.3
 },
 "vertical_content_list": [
 {
 "title": "惊喜红包等你来拿",
 "desc": "下载企业微信还能抢红包！"
 }
 ],
 "horizontal_content_list" : [
 {
 "keyname": "邀请人",
 "value": "张三"
 },
 {
 "type": 1,
 "keyname": "企业微信官网",
 "value": "点击访问",
 "url": "https://work.weixin.qq.com"
 },
 {
 "type": 2,
 "keyname": "企业微信下载",
 "value": "企业微信.apk",
 "media_id": "文件的media_id"
 },
 {
 "type": 3,
 "keyname": "员工信息",
 "value": "点击查看",
 "userid": "zhangsan"
 }
 ],
 "jump_list" : [
 {
 "type": 1,
 "title": "企业微信官网",
 "url": "https://work.weixin.qq.com"
 },
 {
 "type": 2,
 "title": "跳转小程序",
 "appid": "小程序的appid",
 "pagepath": "/index.html"
 }
 ],
 "card_action": {
 "type": 2,
 "url": "https://work.weixin.qq.com",
 "appid": "小程序的appid",
 "pagepath": "/index.html"
 }
 }
}
```

**参数说明：**

| 参数 | 是否必须 | 说明 |
| -------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------- |
| userids | 否 | 企业的成员ID列表（最多支持1000个） |
| partyids | 否 | 企业的部门ID列表（最多支持100个） |
| tagids | 否 | 企业的标签ID列表（最多支持100个） |
| atall | 否 | 更新整个任务接收人员 |
| agentid | 是 | 应用的agentid |
| response_code | 是 | 更新卡片所需要消费的code，可通过发消息接口和回调接口返回值获取，一个code只能调用一次该接口，且只能在72小时内调用 |
| enable_id_trans | 否 | 表示是否开启id转译，0表示否，1表示是，默认0，[id转译说明](#10167/id转译说明) |
| card_type | 是 | 模板卡片类型，图文展示型卡片此处填写 "news_notice" |
| source | 否 | 卡片来源样式信息，不需要来源样式可不填写 |
| source.icon_url | 否 | 来源图片的url |
| source.desc | 否 | 来源图片的描述，建议不超过20个字，**（支持id转译）** |
| source.desc_color | 否 | 来源文字的颜色，目前支持：0(默认) 灰色，1 黑色，2 红色，3 绿色 |
| action_menu | 否 | 卡片右上角更多操作按钮 |
| action_menu.desc | 否 | 更多操作界面的描述 |
| action_menu.action_list | 是 | 操作列表，列表长度取值范围为 [1, 3] |
| action_menu.action_list.text | 是 | 操作的描述文案 |
| action_menu.action_list.key | 是 | 操作key值，用户点击后，会产生回调事件将本参数作为EventKey返回，回调事件会带上该key值，最长支持1024字节，不可重复 |
| main_title.title | 是 | 一级标题，建议不超过36个字，**（支持id转译）** |
| main_title.desc | 否 | 标题辅助信息，建议不超过44个字，**（支持id转译）** |
| quote_area | 否 | 引用文献样式 |
| quote_area.type | 否 | 引用文献样式区域点击事件，0或不填代表没有点击事件，1 代表跳转url，2 代表跳转小程序 |
| quote_area.url | 否 | 点击跳转的url，quote_area.type是1时必填 |
| quote_area.appid | 否 | 点击跳转的小程序的appid，必须是与当前应用关联的小程序，quote_area.type是2时必填 |
| quote_area.pagepath | 否 | 点击跳转的小程序的pagepath，quote_area.type是2时选填 |
| quote_area.title | 否 | 引用文献样式的标题 |
| quote_area.quote_text | 否 | 引用文献样式的引用文案 |
| image_text_area | 否 | 左图右文样式，news_notice类型的卡片，card_image和image_text_area两者必填一个字段，不可都不填 |
| image_text_area.type | 否 | 左图右文样式区域点击事件，0或不填代表没有点击事件，1 代表跳转url，2 代表跳转小程序 |
| image_text_area.url | 否 | 点击跳转的url，image_text_area.type是1时必填 |
| image_text_area.appid | 否 | 点击跳转的小程序的appid，必须是与当前应用关联的小程序，image_text_area.type是2时必填 |
| image_text_area.pagepath | 否 | 点击跳转的小程序的pagepath，image_text_area.type是2时选填 |
| image_text_area.title | 否 | 左图右文样式的标题 |
| image_text_area.desc | 否 | 左图右文样式的描述 |
| image_text_area.image_url | 是 | 左图右文样式的图片url |
| card_image | 否 | 图片样式，news_notice类型的卡片，card_image和image_text_area两者必填一个字段，不可都不填 |
| card_image.url | 是 | 图片的url |
| card_image.aspect_ratio | 否 | 图片的宽高比，宽高比要小于2.25，大于1.3，不填该参数默认1.3 |
| vertical_content_list | 否 | 卡片二级垂直内容，该字段可为空数组，但有数据的话需确认对应字段是否必填，列表长度不超过4 |
| vertical_content_list.title | 是 | 卡片二级标题，建议不超过38个字 |
| vertical_content_list.desc | 否 | 二级普通文本，建议不超过160个字 |
| horizontal_content_list | 否 | 二级标题+文本列表，该字段可为空数组，但有数据的话需确认对应字段是否必填，列表长度不超过6 |
| horizontal_content_list.type | 否 | 链接类型，0或不填代表不是链接，1 代表跳转url，2 代表下载附件，3 代表点击跳转成员详情 |
| horizontal_content_list.keyname | 是 | 二级标题，建议不超过5个字 |
| horizontal_content_list.value | 否 | 二级文本，如果horizontal_content_list.type是2，该字段代表文件名称（要包含文件类型），建议不超过30个字，**（支持id转译）** |
| horizontal_content_list.url | 否 | 链接跳转的url，horizontal_content_list.type是1时必填 |
| horizontal_content_list.media_id | 否 | 附件的media_id，horizontal_content_list.type是2时必填 |
| horizontal_content_list.userid | 否 | 成员详情的userid，horizontal_content_list.type是3时必填 |
| jump_list | 否 | 跳转指引样式的列表，该字段可为空数组，但有数据的话需确认对应字段是否必填，列表长度不超过3 |
| jump_list.type | 否 | 跳转链接类型，0或不填代表不是链接，1 代表跳转url，2 代表跳转小程序 |
| jump_list.title | 是 | 跳转链接样式的文案内容，建议不超过18个字 |
| jump_list.url | 否 | 跳转链接的url，jump_list.type是1时必填 |
| jump_list.appid | 否 | 跳转链接的小程序的appid，jump_list.type是2时必填 |
| jump_list.pagepath | 否 | 跳转链接的小程序的pagepath，jump_list.type是2时选填 |
| card_action | 是 | 整体卡片的点击跳转事件，news_notice必填本字段 |
| card_action.type | 是 | 1 代表跳转url，2 代表打开小程序 |
| card_action.url | 否 | 跳转事件的url，card_action.type是1时必填 |
| card_action.appid | 否 | 跳转事件的小程序的appid，card_action.type是2时必填 |
| card_action.pagepath | 否 | 跳转事件的小程序的pagepath，card_action.type是2时选填 |

### 按钮交互型
- ![](https://wework.qpic.cn/wwpic/102736_wYaFgfHsRIOPzL1_1632907528/0)

```json
{
 "userids" : ["userid1","userid2"],
 "partyids" : [2,3],
 "agentid" : 1,
 "response_code": "response_code",
 "enable_id_trans": 1,
 "template_card" : {
 "card_type" : "button_interaction",
 "source" : {
 "icon_url": "图片的url",
 "desc": "企业微信",
 "desc_color": 1
 },
 "action_menu": {
 "desc": "卡片副交互辅助文本说明",
 "action_list": [
 {"text": "接受推送", "key": "A"},
 {"text": "不再推送", "key": "B"}
 ]
 },
 "main_title" : {
 "title" : "欢迎使用企业微信",
 "desc" : "您的好友正在邀请您加入企业微信"
 },
 "quote_area": {
 "type": 1,
 "url": "https://work.weixin.qq.com",
 "title": "企业微信的引用样式",
 "quote_text": "企业微信真好用呀真好用"
 },
 "sub_title_text" : "下载企业微信还能抢红包！",
 "horizontal_content_list" : [
 {
 "keyname": "邀请人",
 "value": "张三"
 },
 {
 "type": 1,
 "keyname": "企业微信官网",
 "value": "点击访问",
 "url": "https://work.weixin.qq.com"
 },
 {
 "type": 2,
 "keyname": "企业微信下载",
 "value": "企业微信.apk",
 "media_id": "文件的media_id"
 },
 {
 "type": 3,
 "keyname": "员工信息",
 "value": "点击查看",
 "userid": "zhangsan"
 }
 ],
 "card_action": {
 "type": 2,
 "url": "https://work.weixin.qq.com",
 "appid": "小程序的appid",
 "pagepath": "/index.html"
 },
 "button_selection": {
 "question_key": "btn_question_key1",
 "title": "企业微信评分",
 "option_list": [
 {
 "id": "btn_selection_id1",
 "text": "100分"
 },
 {
 "id": "btn_selection_id2",
 "text": "101分"
 }
 ],
 "selected_id": "btn_selection_id1"
 },
 "button_list": [
 {
 "text": "按钮1",
 "style": 1,
 "key": "button_key_1"
 },
 {
 "text": "按钮2",
 "style": 2,
 "key": "button_key_2"
 }
 ],
 "replace_text": "已提交"
 }

}
```

**参数说明：**

| 参数 | 是否必须 | 说明 |
| --------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------- |
| userids | 否 | 企业的成员ID列表（最多支持1000个） |
| partyids | 否 | 企业的部门ID列表（最多支持100个） |
| tagids | 否 | 企业的标签ID列表（最多支持100个） |
| atall | 否 | 更新整个任务接收人员 |
| agentid | 是 | 应用的agentid |
| response_code | 是 | 更新卡片所需要消费的code，可通过发消息接口和回调接口返回值获取，一个code只能调用一次该接口，且只能在72小时内调用 |
| enable_id_trans | 否 | 表示是否开启id转译，0表示否，1表示是，默认0，[id转译说明](#10167/id转译说明) |
| card_type | 是 | 模板卡片类型，按钮交互型卡片填写"button_interaction" |
| source | 否 | 卡片来源样式信息，不需要来源样式可不填写 |
| source.icon_url | 否 | 来源图片的url |
| source.desc | 否 | 来源图片的描述，建议不超过20个字，**（支持id转译）** |
| source.desc_color | 否 | 来源文字的颜色，目前支持：0(默认) 灰色，1 黑色，2 红色，3 绿色 |
| action_menu | 否 | 卡片右上角更多操作按钮 |
| action_menu.desc | 否 | 更多操作界面的描述 |
| action_menu.action_list | 是 | 操作列表，列表长度取值范围为 [1, 3] |
| action_menu.action_list.text | 是 | 操作的描述文案 |
| action_menu.action_list.key | 是 | 操作key值，用户点击后，会产生回调事件将本参数作为EventKey返回，回调事件会带上该key值，最长支持1024字节，不可重复 |
| main_title.title | 是 | 一级标题，建议不超过36个字，**（支持id转译）** |
| main_title.desc | 否 | 标题辅助信息，建议不超过44个字，**（支持id转译）** |
| quote_area | 否 | 引用文献样式 |
| quote_area.type | 否 | 引用文献样式区域点击事件，0或不填代表没有点击事件，1 代表跳转url，2 代表跳转小程序 |
| quote_area.url | 否 | 点击跳转的url，quote_area.type是1时必填 |
| quote_area.appid | 否 | 点击跳转的小程序的appid，必须是与当前应用关联的小程序，quote_area.type是2时必填 |
| quote_area.pagepath | 否 | 点击跳转的小程序的pagepath，quote_area.type是2时选填 |
| quote_area.title | 否 | 引用文献样式的标题 |
| quote_area.quote_text | 否 | 引用文献样式的引用文案 |
| sub_title_text | 否 | 二级普通文本，建议不超过160个字，**（支持id转译）** |
| horizontal_content_list | 否 | 二级标题+文本列表，该字段可为空数组，但有数据的话需确认对应字段是否必填，列表长度不超过6 |
| horizontal_content_list.type | 否 | 链接类型，0或不填代表不是链接，1 代表跳转url，2 代表下载附件，3 代表点击跳转成员详情 |
| horizontal_content_list.keyname | 是 | 二级标题，建议不超过5个字 |
| horizontal_content_list.value | 否 | 二级文本，如果horizontal_content_list.type是2，该字段代表文件名称（要包含文件类型），建议不超过30个字，**（支持id转译）** |
| horizontal_content_list.url | 否 | 链接跳转的url，horizontal_content_list.type是1时必填 |
| horizontal_content_list.media_id | 否 | 附件的media_id，horizontal_content_list.type是2时必填 |
| horizontal_content_list.userid | 否 | 成员详情的userid，horizontal_content_list.type是3时必填 |
| card_action | 否 | 整体卡片的点击跳转事件 |
| card_action.type | 否 | 跳转事件类型，0或不填代表不是链接，1 代表跳转url，2 代表打开小程序 |
| card_action.url | 否 | 跳转事件的url，card_action.type是1时必填 |
| card_action.appid | 否 | 跳转事件的小程序的appid，card_action.type是2时必填 |
| card_action.pagepath | 否 | 跳转事件的小程序的pagepath，card_action.type是2时选填 |
| button_selection.question_key | 是 | 下拉式的选择器的key，用户提交选项后，会产生回调事件，回调事件会带上该key值表示该题，最长支持1024字节 |
| button_selection.title | 否 | 下拉式的选择器左边的标题 |
| button_selection.option_list | 是 | 选项列表，下拉选项不超过 10 个，最少1个 |
| button_selection.selected_id | 否 | 默认选定的id，不填或错填默认第一个 |
| button_selection.option_list.id | 是 | 下拉式的选择器选项的id，用户提交后，会产生回调事件，回调事件会带上该id值表示该选项，最长支持128字节，不可重复 |
| button_selection.option_list.text | 是 | 下拉式的选择器选项的文案，建议不超过16个字 |
| button_list | 是 | 按钮列表，列表长度不超过6 |
| button_list.type | 否 | 按钮点击事件类型，0 或不填代表回调点击事件，1 代表跳转url |
| button_list.text | 是 | 按钮文案，建议不超过10个字 |
| button_list.style | 否 | 按钮样式，目前可填1~4，不填或错填默认1 |
| button_list.key | 否 | 按钮key值，用户点击后，会产生回调事件将本参数作为EventKey返回，回调事件会带上该key值，最长支持1024字节，不可重复，button_list.type是0时必填 |
| button_list.url | 否 | 跳转事件的url，button_list.type是1时必填 |
| replace_text | 否 | 按钮替换文案，填写本字段后会展现灰色不可点击按钮 |

备注：
按钮样式
- ![](https://wework.qpic.cn/wwpic/800304_DpCjnJFpSGuTG_q_1629208052/0)

### 投票选择型
- ![](https://wework.qpic.cn/wwpic/822424_UiGowMtcSD-EyEq_1628758117/0)

```json
{
 "userids" : ["userid1","userid2"],
 "partyids" : [2,3],
 "agentid" : 1,
 "response_code": "response_code",
 "enable_id_trans": 1,
 "template_card" : {
 "card_type" : "vote_interaction",
 "source" : {
 "icon_url": "图片的url",
 "desc": "企业微信"
 },
 "main_title" : {
 "title" : "欢迎使用企业微信",
 "desc" : "您的好友正在邀请您加入企业微信"
 },
 "checkbox": {
 "question_key": "question_key1",
 "option_list": [
 {
 "id": "option_id1",
 "text": "选择题选项1",
 "is_checked": true
 },
 {
 "id": "option_id2",
 "text": "选择题选项2",
 "is_checked": false
 }
 ],
 "disable": false,
 "mode": 1
 },
 "submit_button": {
 "text": "提交",
 "key": "key"
 },
 "replace_text": "已提交"
 }
}
```

**参数说明：**

| 参数 | 是否必须 | 说明 |
| ------------------------------- | -------- | ---------------------------------------------------------------------------------------------------------------- |
| userids | 否 | 企业的成员ID列表（最多支持1000个） |
| partyids | 否 | 企业的部门ID列表（最多支持100个） |
| tagids | 否 | 企业的标签ID列表（最多支持100个） |
| atall | 否 | 更新整个任务接收人员 |
| agentid | 是 | 应用的agentid |
| response_code | 是 | 更新卡片所需要消费的code，可通过发消息接口和回调接口返回值获取，一个code只能调用一次该接口，且只能在72小时内调用 |
| enable_id_trans | 否 | 表示是否开启id转译，0表示否，1表示是，默认0，[id转译说明](#10167/id转译说明) |
| card_type | 是 | 模板卡片类型，投票选择型卡片填写"vote_interaction" |
| source | 否 | 卡片来源样式信息，不需要来源样式可不填写 |
| source.icon_url | 否 | 来源图片的url |
| source.desc | 否 | 来源图片的描述，建议不超过20个字，**（支持id转译）** |
| main_title.title | 是 | 一级标题，建议不超过16个字，**（支持id转译）** |
| main_title.desc | 否 | 二级普通文本，建议不超过160个字，**（支持id转译）** |
| checkbox | 是 | 选择题样式 |
| checkbox.question_key | 是 | 选择题key值，用户提交选项后，会产生回调事件，回调事件会带上该key值表示该题，最长支持1024字节 |
| checkbox.disable | 否 | 是否可以选择状态 |
| checkbox.mode | 否 | 选择题模式，单选：0，多选：1，不填默认0 |
| checkbox.option_list | 是 | 选项list，选项个数不超过 20 个，最少1个 |
| checkbox.option_list.id | 是 | 选项id，用户提交选项后，会产生回调事件，回调事件会带上该id值表示该选项，最长支持128字节，不可重复 |
| checkbox.option_list.text | 是 | 选项文案描述，建议不超过17个字 |
| checkbox.option_list.is_checked | 是 | 该选项是否要默选中 |
| submit_button | 否 | 提交按钮样式 |
| submit_button.text | 是 | 按钮文案，建议不超过10个字，不填默认为提交 |
| submit_button.key | 是 | 提交按钮的key，会产生回调事件将本参数作为EventKey返回，最长支持1024字节 |
| replace_text | 否 | 按钮替换文案，填写本字段后会展现灰色不可点击按钮 |

### 多项选择型
- ![](https://wework.qpic.cn/wwpic/977007_JDisThiPRXam-GG_1628758163/0)

```json
{
 "userids" : ["userid1","userid2"],
 "partyids" : [2,3],
 "tagids" : [44,55],
 "atall" : 0,
 "agentid" : 1,
 "response_code": "response_code",
 "enable_id_trans": 1,
 "template_card" : {
 "card_type" : "multiple_interaction",
 "source" : {
 "icon_url": "图片的url",
 "desc": "企业微信"
 },
 "main_title" : {
 "title" : "欢迎使用企业微信",
 "desc" : "您的好友正在邀请您加入企业微信"
 },
 "select_list": [
 {
 "question_key": "question_key1",
 "title": "选择器标签1",
 "selected_id": "selection_id1",
 "disable": false,
 "option_list": [
 {
 "id": "selection_id1",
 "text": "选择器选项1"
 },
 {
 "id": "selection_id2",
 "text": "选择器选项2"
 }
 ]
 },
 {
 "question_key": "question_key2",
 "title": "选择器标签2",
 "selected_id": "selection_id3",
 "disable": false,
 "option_list": [
 {
 "id": "selection_id3",
 "text": "选择器选项3"
 },
 {
 "id": "selection_id4",
 "text": "选择器选项4"
 }
 ]
 }
 ],
 "submit_button": {
 "text": "提交",
 "key": "key"
 },
 "replace_text": "已提交"
 }
}
```

**参数说明：**

| 参数 | 是否必须 | 说明 |
| ---------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------ |
| userids | 否 | 企业的成员ID列表（最多支持1000个） |
| partyids | 否 | 企业的部门ID列表（最多支持100个） |
| tagids | 否 | 企业的标签ID列表（最多支持100个） |
| atall | 否 | 更新整个任务接收人员 |
| agentid | 是 | 应用的agentid |
| response_code | 是 | 更新卡片所需要消费的code，可通过发消息接口和回调接口返回值获取，一个code只能调用一次该接口，且只能在72小时内调用 |
| enable_id_trans | 否 | 表示是否开启id转译，0表示否，1表示是，默认0，[id转译说明](#10167/id转译说明) |
| card_type | 是 | 模板卡片类型，多项选择型卡片填写 "multiple_interaction" |
| source | 否 | 卡片来源样式信息，不需要来源样式可不填写 |
| source.icon_url | 否 | 来源图片的url |
| source.desc | 否 | 来源图片的描述，建议不超过20个字，**（支持id转译）** |
| main_title.title | 是 | 一级标题，建议不超过36个字，**（支持id转译）** |
| main_title.desc | 否 | 标题辅助信息，建议不超过160个字，**（支持id转译）** |
| select_list | 是 | 下拉式的选择器列表，multiple_interaction类型的卡片该字段不可为空，一个消息最多支持 3 个选择器 |
| select_list.question_key | 是 | 下拉式的选择器题目的key，用户提交选项后，会产生回调事件，回调事件会带上该key值表示该题，最长支持1024字节，不可重复 |
| select_list.title | 否 | 下拉式的选择器上面的title |
| select_list.option_list | 是 | 选项列表，下拉选项不超过 10 个，最少1个 |
| select_list.selected_id | 否 | 默认选定的id，不填或错填默认第一个 |
| select_list.disable | 否 | 是否可以选择状态 |
| select_list.option_list.id | 是 | 下拉式的选择器选项的id，用户提交选项后，会产生回调事件，回调事件会带上该id值表示该选项，最长支持128字节，不可重复 |
| select_list.option_list.text | 是 | 下拉式的选择器选项的文案，建议不超过16个字 |
| submit_button | 否 | 提交按钮样式 |
| submit_button.text | 是 | 按钮文案，建议不超过10个字，不填默认为提交 |
| submit_button.key | 是 | 提交按钮的key，会产生回调事件将本参数作为EventKey返回，最长支持1024字节 |
| replace_text | 否 | 按钮替换文案，填写本字段后会展现灰色不可点击按钮 |

 **返回示例：**
 ```]
 {
 "errcode" : 0,
 "errmsg" : "ok",
 "invaliduser" : ["userid1","userid2"]
 }
 ```

 > 如果部分指定的用户无权限或不存在，更新仍然执行，但会返回无效的部分（即invaliduser，不区分大小写，返回的列表都统一转为小写），常见的原因是**用户不在应用的可见范围内或者不在消息的接收范围内**。
