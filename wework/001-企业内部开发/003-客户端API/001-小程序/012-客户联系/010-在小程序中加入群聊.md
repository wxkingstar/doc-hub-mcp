---
title: "在小程序中加入群聊"
doc_id: 19445
category_id: 93884
source_url: https://developer.work.weixin.qq.com/document/path/19445
---
## 加入群聊小程序按钮

##### 企业管理员可在“企业微信管理后台->客户联系->加客户->加入群聊”中完成「加入群聊」二维码和「加入群聊」按钮两种入群方式的创建和配置，其中「加入群聊」按钮需要开发者做简单的开发配置，开发者可按照以下文档将按钮配置到企业的小程序中。

##### 微信iOS系统V8.0.6和安卓系统V8.0.3及以上版本的用户，可直接在小程序内长按识别入群二维码，之前版本的用户仍需通过接收服务通知获取入群方式。

#### 一、小程序插件接入步骤
1. 开发者在小程序后台添加插件，添加路径：小程序后台 - 设置 - 第三方设置 - 添加插件中，搜索ID: wx4d2deeab3aed6e5a。
2. 开发者在小程序app.json 文件中添加对插件的引用
```
"plugins": {
  "materialPlugin": {
    "version": "1.0.12",
 "provider": "wx4d2deeab3aed6e5a"
  }
} 
```

3. 开发者在具体引用插件的页面文件json文件中，添加对组件的引用，例如：
```
"usingComponents": {
  "cell": "plugin://materialPlugin/cell"
}
```

4. 开发者在引用插件的wxml文件中添加组件的具体代码，其中plugid为在企业微信管理后台配置的插件ID，将该ID作为参数传入组件，例如：
```
<cell bind:startmessage='startmessage' bind:completemessage="completemessage" url='url' />
```

参数说明：

| 属性 | 类型 | 默认值 | 必填 | 说明 
| ------ | ------ | ------ | ------ | ------ |
| startmessage | function | | 否 | 监听按钮点击事件执行开始时的回调 |
| completemessage | function | |否 | 监听按钮点击事件执行完毕后的回调 |
| url | string | | 是 | 在企业素材url。</br>通过[配置客户群进群方式](#19243)接口返回的qr_code |
| paddingStyle | number | | 否 | cell间距 |
| iconUrl | string | | 否 | cell图标 |
| iconBorderRadius | number | | 否 | cell图标圆角 |
| contactText | string | | 否 | cell文案 |
| contactTextBlod | boolean | | 否 | cell文案加粗 |

其中 completemessage 回调接收的参数格式如下：
```
{
  "errcode": 0,
  "notifytype": 0
}
```
errcode 的异常错误码说明如下：
-3002：获取插件配置信息失败
-3004：用户信息授权失败
-3005：消息发送失败
-3006：用户已经加入群聊，如果notifytype = 1，则为二维码展示方式，此时仍会展示二维码
-3009：群聊已满员
-3010：群聊已解散
-3011：用户命中企业群聊黑名单
-3012：用户已在群里中且群已满员
