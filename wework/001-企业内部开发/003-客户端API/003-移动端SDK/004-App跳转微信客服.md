---
title: "App跳转微信客服"
doc_id: 31329
category_id: 94740
source_url: https://developer.work.weixin.qq.com/document/path/94740
---
最后更新：2021/07/06

[TOC]

## 功能介绍
考虑到部分场景下 App 需要跳转至微信打开微信客服会话，以完成相关咨询服务。为此提供了移动应用（App）跳转微信客服功能。移动应用（App）接入此功能后，用户可以从App跳转至指定的微信客服会话。该功能已向全体开发者开放，开发者在已认证的微信开放平台账号下申请移动应用审核通过后并上架，即可获得移动应用跳转微信客服的功能权限。

## 使用说明
### 账号要求
移动应用开发者使用该功能，需同时满足以下条件：
1. 微信开放平台账号已认证
2. 移动应用审核通过并上架

注意：若移动应用未上架，则最多只能拉起微信客服100次/天，用于满足调试需求。

### 关联说明
移动应用仅可跳转具有绑定关系的微信客服，开发者需前往[微信客服管理后台](https://work.weixin.qq.com/kf)完成移动应用(Appid)和微信客服（企业ID）的绑定。
注意：一个移动应用（Appid）最多绑定15个企业ID

## 开发示例

### Android开发示例
开发前需先阅读[微信Android openSDK接入指南](https://developers.weixin.qq.com/doc/oplatform/Mobile_App/Access_Guide/Android.html)。

调用接口：WXOpenCustomerServiceChat 移动应用跳转到微信客服会话示例：

```java
String appId = "wxd930ea5d5a258f4f"; // 填移动应用(App)的 AppId
IWXAPI api = WXAPIFactory.createWXAPI(context, appId);

// 判断当前版本是否支持拉起客服会话
if (api.getWXAppSupportAPI() >= Build.SUPPORT_OPEN_CUSTOMER_SERVICE_CHAT) {
  String url = kfUrl.getText().toString();
  WXOpenCustomerServiceChat.Req req = new WXOpenCustomerServiceChat.Req();
  req.corpId = "xxxx";               // 企业ID
  req.url = "https://work.weixin.qq.com/kfid/kfcxxxxx";  // 客服URL
  api.sendReq(req);
}
```

### iOS 开发示例
开发前需先阅读[微信IOS openSDK接入指南](https://developers.weixin.qq.com/doc/oplatform/Mobile_App/Access_Guide/iOS.html)。

移动应用跳转到微信客服会话示例：

``` objc
 WXOpenCustomerServiceReq *req = [[WXOpenCustomerServiceReq alloc] init];
 req.corpid = corpId;  //企业ID
 req.url = url;      //客服URL
 return [WXApi sendReq:req completion:nil];
```

回调说明

``` objc
  -(void)onResp:(BaseResp *)resp 
  {
   if ([resp isKindOfClass:[WXOpenCustomerServiceResp class]])
   {
      int errCode = resp.errCode;    // 0 为成功，其余为失败
   NSString *string = resp.extMsg;  // 相关错误信息
   }
  }
```
