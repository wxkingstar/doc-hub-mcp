---
title: "批量更新学生"
doc_id: 18911
category_id: 100150
source_url: https://developer.work.weixin.qq.com/document/path/18911
---
**请求方式：**POST（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/school/user/batch_update_student?access_token=ACCESS_TOKEN

**请求包体：**

```json
{
  "students":[
 {
      "student_userid": "zhangsan",
      "mobile": "10000000000",
      "new_student_userid":"zhangsan_new",
      "name": "张三",
      "department": [1, 2]
    },
 {
      "student_userid": "lisi",
      "mobile": "10000000000",
      "name": "李四",
      "department": [3, 4]
    }
 ]
}
```

**参数说明：**

| 参数 | 必须 | 说明 |
| :---------------------- | :--- | :----------------------------------------------------------- |
| access_token | 是 | 调用接口凭证。获取方法查看“[获取access_token](#10013/第三步：获取access_token)” |
| students | 否 | 学生列表，每次最多100个 |
| students.student_userid | 是 | 学生UserID。学校内必须唯一。不区分大小写，长度为1~64个字节。只能由数字、字母和“_-@.”四种字符组成，且第一个字符必须是数字或字母。 |
| students.mobile | 否 | 学生手机号 |
|students.new_student_userid|否|要变更的学生UserID,不能与已存在的UserID相同。每个学生仅能修改一次。|
| students.name | 否 | 学生姓名，长度为1~32个字符 |
| students.department | 否 | 学生所在的班级id列表,不超过20个 |
> 当参数字段超过长度限制，那么整个请求会被拦掉。

**权限说明：**

调用的应用需要满足如下的权限
| 应用类型 | 权限要求 |
| -------- | ---- | 
|自建应用|配置到「 [家校沟通-读取和编辑家校通讯录的应用](#16678/通过api读取和编辑家校通讯录)」中|
|代开发应用|需拥有!!#ff0000 「家校沟通」可使用家校通讯录-家校通讯录编辑 !!权限|
|第三方应用|需拥有!!#ff0000 「家校沟通」使用和编辑 !!权限|
*注：* 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 [查看详情](https://developer.work.weixin.qq.com/document/51165)

> 注意，每个班级下学生总数不能超过3万个。建议保证创建department对应的部门和创建成员是串行化处理。

**返回结果：**

```
{
  "errcode": 1,
  "errmsg": "invalid student_userid: zhangsan",
  "result_list": [
    {
      "student_userid": "zhangsan",
      "errcode": 1,
      "errmsg": "invalid student_userid: zhangsan"
    }
  ]
}
```

**参数说明：**

| 参数 | 说明 |
| -------------------------- | ---------------------- |
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
| result_list | 失败的学生列表 |
| result_list.student_userid | 失败的学生userid |
| result_list.errcode | 返回码 |
| result_list.errmsg | 对返回码的文本描述内容 |
