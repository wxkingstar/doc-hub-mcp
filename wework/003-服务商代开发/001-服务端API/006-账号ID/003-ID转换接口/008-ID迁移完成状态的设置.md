---
title: "ID迁移完成状态的设置"
doc_id: 49949
category_id: 99378
source_url: https://developer.work.weixin.qq.com/document/path/49949
---
服务商完成**企业某个代开发应用**的新旧id（userid/corpid/external_userid)迁移后，即可主动将该代开发应用设置为“迁移完成”。设置后，该代开发应用获取到的是升级后的id。注意，该接口需要使用provider_access_token来调用。

**请求方式：**POST（**HTTPS**）
**请求地址**：https://qyapi.weixin.qq.com/cgi-bin/service/finish_openid_migration?provider_access_token=ACCESS_TOKEN

**请求参数：**
```
{ 
 "corpid":"xxxxx",
  "agentid":1111,
 "openid_type":[
 1,3
 ]
}
```

**参数说明：**

| 参数 | 必须 | 说明 |
| :----------- | :--- | :----------------- |
| provider_access_token | 是 | 应用提供商的provider_access_token，获取方法参见[服务商的凭证](#11791/服务商的token) |
| corpid     | 是 | 企业corpid |
|agentid      | 是 | 企业代开发应用id |
| openid_type | 是 | id类型：1-userid与corpid; 3-external_userid、external_tagid、kfid和msgid |

>注意：
> 1.userid与corpid只能同时设置为迁移完成，external_userid、external_tagid、kfid和msgid只能同时设置为迁移完成。
> 2.此接口还可为第三方应用设置迁移完成状态，**若只传入正确corpid，未传入代开发应用agentid，则视为：更新该企业下同服务商所有第三方应用的对应迁移状态**，见[第三方应用设置迁移完成](#49945)。

**权限说明：**
> 用户企业授权了该代开发应用，且该代开发应用由此服务商开发。

**返回结果：**

```
｛
   "errcode":0,
   "errmsg":"ok"
｝
```

**参数说明：**

| 参数 | 说明 |
| :----------- | :----------------- |
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
