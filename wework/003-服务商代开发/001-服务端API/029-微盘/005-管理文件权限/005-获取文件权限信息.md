---
title: "获取文件权限信息"
doc_id: 44668
category_id: 97925
source_url: https://developer.work.weixin.qq.com/document/path/44668
---
该接口用于获取文件的权限信息。

**请求方式**：POST（**HTTPS**）
**请求地址**: https://qyapi.weixin.qq.com/cgi-bin/wedrive/get_file_permission?access_token=ACCESS_TOKEN

**请求包体**
```json
{
 "fileid": "FILEID"
}
```

**参数说明**

| 参数 | 类型 | 是否必须 | 说明 |
| ------ | ------ | -------- | ------------ |
| fileid | string | 是 | 文件fileid |

**权限说明**
- 自建应用需配置到“[可调用应用](#23784)”列表中的应用secret所获取的accesstoken来调用（[accesstoken如何获取？](#10013/第三步：获取access_token)）
- 第三方应用需具有“微盘”权限
- 代开发自建应用需具有“微盘”权限

**返回示例**

```json
{
 "errcode": 0,
 "errmsg": "ok",
 "share_range": {
 "enable_corp_internal": true,
 "corp_internal_auth": 1,
 "enable_corp_external": false,
 "corp_external_auth": 2
 },
 "secure_setting": {
 "enable_readonly_copy": true,
 "modify_only_by_admin": true,
 "enable_readonly_comment": false,
 "ban_share_external": true
 },
 "inherit_father_auth": {
 "auth_list": [
 {
 "type": 1,
 "userid": "USERID",
 "auth": 1
 }
 ],
 "inherit": true
 },
 "file_member_list": [
 {
 "type": 1,
 "userid": "USERID",
 "auth": 1
 }
 ],
 "watermark": {
 "text": "WATERMARK_TEXT",
 "margin_type": 1,
 "show_visitor_name": false,
 "force_by_admin": false,
 "show_text": false,
 "force_by_space_admin": false
 }
}
```
**参数说明**

| 参数 | 类型 | 说明 |
| --------- | ------ | -------------- |
| errcode | int32 | 错误码 |
| errmsg | string | 错误码说明 |
| share_range | obj | 文件分享设置 |
|enable_corp_internal|bool|是否为企业内可访问| 
|corp_internal_auth|uint32|企业内权限信息<br>普通文档： 1:仅浏览（可下载) 4:仅预览（仅专业版企业可设置）255:无权限或需要审批；如果不填充此字段为保持原有状态<br>微文档： 1:仅浏览（可下载）；如果不填充此字段为保持原有状态|
|enable_corp_external|bool|是否为企业外可访问|
|corp_external_auth|uint32|企业外权限信息<br>普通文档： 1:仅浏览（可下载) 4:仅预览（仅专业版企业可设置） 255:无权限或需要审批；如果不填充此字段为保持原有状态<br>微文档： 1:仅浏览（可下载）；如果不填充此字段为保持原有状态|
|corp_internal_approve_only_by_admin|bool|是否开启企业内管理员审批|
|corp_external_approve_only_by_admin|bool|是否开启企业外管理员审批|
|secure_setting|obj|文件安全配置|
|enable_readonly_copy|bool|是否开启只读备份|
|modify_only_by_admin|bool|是否只允许管理员进行修改|
|enable_readonly_comment|bool|是否开启只读评论|
|ban_share_external|bool|是否禁止分享到企业外部|
|inherit_father_auth|obj|从文件父路径继承的权限|
|inherit|bool|文件是否开启父路径权限继承|
|member_list|obj|文件夹、文档成员|
|file_member_list|obj|查询fileid为文档时返回，为文档所在目录成员，以及其他授权列表|
|co_auth_list|obj|分享指定的部门列表|
| type(后续将废弃) | uint32 | 成员类型 1:个人 2:部门 |
| userid | string | 成员userid,字符串|
| departmentid(后续将废弃) | uint32 | 部门departmentid, 32位整型范围是[0, 2^32) (type为2时填写) |
|watermark|obj|水印相关设置（除show_visitor_name字段外，其余字段仅文档可设置）|
|text|string|水印文字，此字段不填则保持原样|
|margin_type|uint32|水印类型。1：低密度水印， 2： 高密度水印，此字段不填则保持原样|
|show_visitor_name|bool|是否显示访问人名称，此字段不填则保持原样（仅专业版支持）|
|force_by_admin|bool|管理员是否强制要求使用水印，此字段不填则保持原样|
|show_text|bool|是否展示水印文本，此字段不填则保持原样|
|force_by_space_admin|bool|空间管理员是否强制要求使用水印，此字段不填则保持原样|
