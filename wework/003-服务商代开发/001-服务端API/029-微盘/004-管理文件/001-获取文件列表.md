---
title: "获取文件列表"
doc_id: 26913
category_id: 96847
source_url: https://developer.work.weixin.qq.com/document/path/26913
---
该接口用于获取指定地址下的文件列表。

**请求方式**：POST（**HTTPS**）
**请求地址**: https://qyapi.weixin.qq.com/cgi-bin/wedrive/file_list?access_token=ACCESS_TOKEN 

**请求包体**
```json
{
 "spaceid": "SPACEID",
 "fatherid": "FATHERID",
 "sort_type": 1,
 "start": 0,
 "limit": 100
}
```

**参数说明**

| 参数 | 类型 | 是否必须 | 说明 |
|------------|--------|------|------------------------------|
| spaceid | string | 是 | 空间spaceid |
| fatherid | string | 是 | 当前目录的fileid,根目录时为空间spaceid |
| sort_type | uint32 | 是 | 列表排序方式 1:名字升序；2:名字降序；3:大小升序；4:大小降序；5:修改时间升序；6:修改时间降序 |
| start | uint32 | 是 | 首次填0, 后续填上一次请求返回的next_start |
| limit | uint32 | 是 | 分批拉取最大文件数, 不超过1000 |

**权限说明**
- 自建应用需配置到“[可调用应用](#23784)”列表中的应用secret所获取的accesstoken来调用（[accesstoken如何获取？](#10013/第三步：获取access_token)）
- 第三方应用需具有“微盘”权限
- 代开发自建应用需具有“微盘”权限

**返回示例**

```json
{
 "errcode": 0,
 "errmsg": "ok",
 "has_more": true,
 "next_start": 1,
 "file_list": {
 "item": [
 {
 "fileid": "FILEID1",
 "file_name": "FILE_NAME1",
 "spaceid": "SPACEID",
 "fatherid": "FATHERID",
 "file_size": 1024,
 "ctime": 177777777,
 "mtime": 277777777,
 "file_type": 2,
 "file_status": 1,
 "sha": "SHA",
 "md5": "MD5",
 "url": "URL"
 }
 ]
 }
}
```
**参数说明**

| 参数 | 类型 | 说明 |
|----------------|---------|-----------------------------|
| errcode | int32 | 错误码 |
| errmsg | string | 错误码说明 |
| has_more | bool | true为列表还有内容, 需要继续分批拉取 |
| next_start | uint32 | 下次分批拉取对应的请求参数start值 |
| file_list | obj[] | 文件列表 |
| fileid | string | 文件fileid |
| file_name | string | 文件名字 |
| spaceid | string | 文件所在的空间spaceid |
| fatherid | string | 文件所在的目录fileid, 在根目录时为fileid |
| file_size | uint64 | 文件大小 |
| ctime | uint64 | 文件创建时间 |
| mtime | uint64 | 文件最后修改时间 |
| file_type | uint32 | 文件类型, 1:文件夹 2:文件 3:微文档(文档) 4:微文档(表格) 5:微文档(收集表) |
| file_status | uint32 | 文件状态, 1:正常 2:删除 |
| sha | string | 文件sha |
| md5 | string | 文件md5 |
| url | string | 仅微文档类型返回访问链接 |
