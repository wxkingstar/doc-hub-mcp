---
title: "添加设备"
doc_id: 19632
category_id: 97255
source_url: https://developer.work.weixin.qq.com/document/path/97255
---
最后更新：2022/09/28

```
wx.qy.addDevice({
 "type": "qrcode", // 设备发现方式，支持 qrcode/bluetooth/input
 "qrcode_url": "https://open.work.weixin.qq.com/connect?xxx",
 "sn": "TEST001"
 },
 success: (res) => {
 // 操作完成返回 
 },
 fail: (res) => {
 console.log(JSON.stringify(res))
 }
);
```
> 此接口在企业微信4.0.18及以后版本支持，仅IOS/Andriod版本支持

**权限要求**
1. 接口调用需要经过wx.qy.login
2. 发起用户需要有设备添加权限（超级管理员/设备管理员）

**OBJECT参数说明**
| 参数 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| type | String | 是 | 设备发现方式，支持类型：qrcode（二维码识别）/bluetooth（蓝牙发现）/input（sn码输入）/choose（进入选择添加设备方式列表） |
| qrcode_url | String | 当type=qrcode时必填 | 设备静态/动态二维码链接 |
|sn |String |当type=sn时选填 |设备SN码 |

 - 指定 type=qrcode，此时会识别传递的 qrcode_url，如果是正确的链接，则直接进入到设备详情。
 - 指定 type=bluetooth，则进入蓝牙发现的列表页，进行搜索识别
 - 指定 type=input，若未传入sn，则进到输入sn的流程；若传入sn，合法的sn会直接进入到设备详情
 - 指定 type=choose，则进到选择添加设备方式列表
