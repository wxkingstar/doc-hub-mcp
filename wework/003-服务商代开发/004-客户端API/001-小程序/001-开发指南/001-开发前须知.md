---
title: "开发前须知"
doc_id: 13409
category_id: 96222
source_url: https://developer.work.weixin.qq.com/document/path/13409
---
[TOC]

## 概述
企业微信从 3.1.2 版本开始，为支持更多能力，原企业关联的小程序已升级为应用。参考[应用管理](#10025)

企业微信移动客户端从2.5.8版本开始，已内置微信小程序基础库，开发者仅需做少量适配，即可将微信小程序移植到企业微信上运行，同时开发者也可以针对企业微信提供的扩展接口开发出更适用于企业内部场景的小程序。

本质上企业微信小程序是微信小程序的一个扩展子集，微信小程序的大部分能力都可以在企业微信上运行，同时企业微信扩展了部分和企业相关的能力以满足更多的场景需求。

企业微信和微信之间的消息可以互通，互通消息中的小程序可以天然的运行在微信和企业微信两个运行环境中。默认情况下，按照微信已有的流程开发的小程序可以直接在两个运行环境中运行，但是如果小程序有调用企业微信的专有接口，如获取员工相关的信息，那么此小程序需要在企业微信管理端进行一次绑定关联操作。参考[小程序关联到企业微信](#19704)

开发者可使用微信开发者工具进行企业微信小程序开发，使用前需要配置企业微信插件，见[开发者工具插件支持](#16044)。在发布小程序前，可[配置体验版](#17235)小程序。

**总结**：企业微信小程序开发流程包含以下步骤，
1. 微信公众平台注册小程序账号
2. 开发者在开发者工具环境完成开发调试，同时可使用企业微信的专有接口做针对性的开发。
3. 提交小程序审核并发布
4. 小程序关联到企业微信

## 平台差异性
小程序如果需要同时运行在微信和企业微信端，对于开发者来说需要针对企业微信的环境适配部分不兼容的能力，针对微信环境适配企业微信专有的部分接口能力。微信和企业微信两个平台之间主要的差异有以下两个方面：

- **账号体系**
当小程序在微信端运行时，可以通过对应的登录接口获取到相对于当前微信个人用户的身份信息；当小程序在企业微信端运行时，也可以通过对应的登录接口获取到当前企业微信用户相对于当前企业的员工身份信息。这部分差异需要开发者对小程序进行一定的适配，具体相关的接口见[企业微信端登录接口](#19763)。

- **小程序组件和API接口**
虽然企业微信内置和微信同样的小程序引擎，但是由于部分小程序接口对微信客户端较为依赖，所以有部分接口并未在企业微信内实现，见[微信小程序API支持情况](#16045)和[微信小程序组件支持情况](#16046)；另外企业微信也对小程序接口做了一定的扩展以满足企业级的小程序功能开发需求，这类企业微信专有的接口皆以wx.qy作为命名空间，凡是wx.qy的接口，都只能在企业微信端调用，在微信端不可调用，详见后续文档。

如果开发者的小程序需要同时运行在微信和企业微信端，那么需要知道小程序当前的运行环境。开发者可以通过调用异步接口 [wx.getSystemInfo](#16058) 或者同步接口 [wx.getSystemInfoSync](#16059) 获取，在企业微信运行时，会额外返回一个environment字段并赋值为 “wxwork”，在微信里面运行时则不返回该字段。建议开发者在小程序的app.js里面对环境变量进行捕获并作为全局变量进行缓存。

## 仅在企业微信运行的小程序
存在有面向企业专门开发的小程序，主要应用在企业微信，不涉及在微信环境中使用，即仅在企业微信运行的小程序。此类小程序开发者，可在提交小程序审核时，选择“仅在企业微信运行”的设置项。
选择"仅在企业微信运行"后，将有以下变化：
● 仅能在企业微信中打开
● 将由企业微信团队进行审核
● 微信环境使用受限（无法在微信中打开、在微信中无法被搜索出来等）
● 部分接口使用受限（如微信运动、收货地址）

可[联系企业微信客服](#10521)了解更多

## 仅在企业微信运行小程序审核相关说明
一、 作为仅在企业微信运行的小程序提交审核
需在提交审核页面，设置项“仅在企业微信中运行”中 勾选“是”

二、 提交审核注意事项 
● 五张以上主要界面运行截图；
● 主要场景的使用录屏；
● 版本描述中，需说明：小程序简介、本次提交主要变化、相关企业微信的企业全称及corpID；若是服务商小程序，请在版本描述中备注说明：“本小程序为服务商小程序”。
注：以上均为必须提交的审核材料，若有遗漏可能带来审核拒绝。

三、 审核规范
同样将按照微信平台的规范进行审核，详见 [微信小程序平台常见拒绝情形](https://developers.weixin.qq.com/miniprogram/product/reject.html)
