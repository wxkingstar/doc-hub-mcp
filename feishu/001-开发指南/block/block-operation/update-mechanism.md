<!--
title: 更新机制
id: 6989248828936208386
fullPath: /uAjLw4CM/uYjL24iN/block/block-frame/update-mechanism
updatedAt: 1676302777000
source: https://open.feishu.cn/document/client-docs/block/block-operation/update-mechanism
-->
# 更新机制

开发者在开发者后台发布新版本的小组件之后，小组件引擎会根据实际的运行情况来作出不同的更新策略。  

## 本地无缓存
小组件会拉取线上的最新版本来启动，启动完成之后就会将其缓存。

## 本地有缓存  
小组件应用在启动完成之后，小组件引擎会异步检查开发者是否在开发者后台发布了新版本，若存在新版本，会进行自动下载。 现小组件面向开发者提供了两种更新策略：**常规更新**和**修复紧急问题**。

### 常规更新
小组件应用发布之后，引擎仅做代码缓存，**第二次启动**时以本次缓存的新版本代码启动。这也是默认的更新策略。


### 修复紧急问题
 小组件应用发布之后，引擎检测到新版本，用户界面会出现自动重新加载效果，即在**首次启动**时生效。

:::html
<md-alert type="tip">
 修复紧急问题更新会对用户侧造成一定视觉影响，请先充分测试确认当前版本为稳定版本后使用。
</md-alert>
:::

## 配置更新方式
小组件更新方式由开发者在开发者后台进行配置。当本次发布的小组件版本号与线上小组件版本号不一致时，即可重新选择版本包的更新方式。如下图所示：


![image.png](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/747408ed09c304cd53fbb83aca48441e_fV86NSopTC.png?lazyload=true&width=2874&height=1312)


## 注意事项
若当前宿主页面存在运行中的小组件，新版本的更新不会立即生效，需在下一次宿主重启时根据新版本发布时所选的更新方式进行更新。
