---
title: "简介"
source_url: https://open.feishu.cn/document/home/message-development-tutorial/introduction
---
最后更新于 2024-10-14

# 简介

当业务出现线上故障时，需尽快通知相关的成员解决问题。基于飞书开放能力，可以通过飞书机器人实现自动创建飞书项目群，并自动拉入相关的负责人，进而实现以下场景功能：

- 通过项目群推送报警通知，提示故障内容。

- 在群内跟进处理并及时同步进展，事后也可以通过群组沟通记录及时进行复盘。

- 当问题解决时，机器人可将群名自动修改为 `已解决`。

本教程将帮助你了解如何从零开始创建飞书机器人，并实现上述功能。

## 操作流程

![image.png](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/c071de6fb53bc7fbe8c018830171499e_YIdDDMtCSO.png?height=208&lazyload=true&width=1093)

## 实现效果

1. 机器人自动拉群。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/b0c7b803db4257c6b44a987497877651_hz5QwerznT.png?height=649&lazyload=true&maxWidth=600&width=1640)

2. 机器人自动推送报警通知。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/0d42c96566869e38611b9fc9197d7052_oSKKOViZpo.png?height=1100&lazyload=true&maxWidth=600&width=1640)

3. 问题解决后自动修改群名。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/d84f0768661028591a515747ee663b0c_hGOsqwwu6o.png?height=1100&lazyload=true&maxWidth=600&width=1640)

## 使用到的 API 与事件列表

在机器人自动拉群报警通知的场景中，你需要调用消息与群组业务域的 API，包括：

### 群组 API

**[方法 (API)](https://open.feishu.cn/document/ukTMukTMukTM/uITNz4iM1MjLyUzM)** | 权限要求 | **[访问凭证](https://open.feishu.cn/document/ukTMukTMukTM/uMTNz4yM1MjLzUzM)**
--- | --- | ---
[创建群](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/chat/create)  
   `POST` /open-apis/im/v1/chats  
   > 创建群并设置群头像、群名、群描述等。 | 创建群(im:chat:create)  
获取与更新群组信息(im:chat) | `tenant_access_token`
[获取群信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/chat/get)  
   `GET` /open-apis/im/v1/chats/:chat_id  
   > 获取群名称、群描述、群头像、群主 ID 等群基本信息。 | 查看群信息(im:chat:read)  
获取群组信息(im:chat:readonly)  
获取与更新群组信息(im:chat) | `tenant_access_token`
[更新群信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/chat/update)  
`PUT` /open-apis/im/v1/chats/:chat_id  
  > 更新群头像、群名称、群描述、群配置、转让群主等。 | 更新群信息(im:chat:update)  
获取与更新群组信息(im:chat) | `tenant_access_token`

### 消息 API

**[方法 (API)](https://open.feishu.cn/document/ukTMukTMukTM/uITNz4iM1MjLyUzM)** | 权限要求 | **[访问凭证](https://open.feishu.cn/document/ukTMukTMukTM/uMTNz4yM1MjLzUzM)**
--- | --- | ---
[发送消息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/message/create)  
   `POST` /open-apis/im/v1/messages  
   > 给指定用户或者会话发送消息，支持文本、富文本、卡片、群名片、个人名片、图片、视频、音频、文件、表情包。 | 以应用的身份发消息(im:message:send_as_bot)  
获取与发送单聊、群组消息(im:message)  
发送消息V2(im:message:send) | `tenant_access_token`
[上传图片](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/image/create)  
   `POST` /open-apis/im/v1/images  
   > 上传图片接口，可以上传 JPEG、PNG、WEBP 格式图片。 | 获取与上传图片或文件资源 (im:resource)  
上传文件V2(im:resource:upload) | `tenant_access_token`
[获取会话历史消息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/message/list)  
`GET` /open-apis/im/v1/messages  
>获取会话（包括单聊、群组）的历史消息。 | 获取单聊、群组消息(im:message:readonly)  
获取与发送单聊、群组消息(im:message)  
获取单聊、群组的历史消息(im:message.history:readonly) | `tenant_access_token`

### 消息事件

**[事件 (Event)](https://open.feishu.cn/document/ukTMukTMukTM/uUTNz4SN1MjL1UzM)** | 触发时机 | 权限要求（满足任一） | 事件类型
--- | --- | --- | ---
[接收消息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/message/events/receive) | 机器人接收到用户发送的消息后触发此事件。 | 接收群聊中@机器人消息事件(im:message.group_at_msg:readonly)  
获取群组中所有消息（敏感权限）(im:message.group_msg)  
读取用户发给机器人的单聊消息(im:message.p2p_msg:readonly)  
获取用户发给机器人的单聊消息（历史版本）(im:message.p2p_msg)  
获取用户在群组中@机器人的消息（历史版本）(im:message.group_at_msg)  
获取群聊中所有的用户聊天消息(im:message.group_msg:readonly) | im.message.receive_v1
