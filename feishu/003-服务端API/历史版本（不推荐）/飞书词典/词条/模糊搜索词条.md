---
title: "模糊搜索词条"
source_url: https://open.feishu.cn/document/server-docs/baike-v1/entity/search
---
最后更新于 2023-10-13

# 模糊搜索词条

传入关键词，与词条名、别名、释义等信息进行模糊匹配，返回搜到的词条信息。
**注意事项**：为了更好地提升接口文档的的易理解性，我们对文档进行了升级，请尽快迁移至[新版本>>](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/lingo-v1/entity/search)

## 请求

基本 | 
--- | ---
HTTP URL | https://open.feishu.cn/open-apis/baike/v1/entities/search
HTTP Method | POST
接口频率限制 | [1000 次/分钟、50 次/秒](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
支持的应用类型 | 自建应用
权限要求  
            **调用该 API 所需的权限。开启其中任意一项权限即可调用**  
            开启任一权限即可 | 查看、创建、编辑、删除飞书词典词条(baike:entity)  
            创建、更新飞书词典免审词条(baike:entity:exempt_review)  
            查看飞书词典词条(baike:entity:readonly)
字段权限要求 | **注意事项**：该接口返回体中存在下列敏感字段，仅当开启对应的权限后才会返回；如果无需获取这些字段，则不建议申请  
        获取用户 user ID(contact:user.employee_id:readonly)

### 请求头

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
Authorization | string | 是 | `tenant_access_token`  
或  
`user_access_token`  
**值格式**："Bearer `access_token`"  
**示例值**："Bearer u-7f1bcd13fc57d46bac21793a18e560"  
[了解更多：如何选择与获取 access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)
Content-Type | string | 是 | **固定值**："application/json; charset=utf-8"

### 查询参数

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
page_size | int | 否 | 分页大小  
**示例值**：b152fa6e6f62a291019a04c3a93f365f8ac641910506ff15ff4cad6534e087cb4ed8fa2c  
**默认值**：`20`  
**数据校验规则**：  
- 取值范围：`1` ～ `100`
page_token | string | 否 | 分页标记，第一次请求不填，表示从头开始遍历；分页查询结果还有更多项时会同时返回新的 page_token，下次遍历可采用该 page_token 获取查询结果  
**示例值**：b152fa6e6f62a291019a04c3a93f365f8ac641910506ff15ff4cad6534e087cb4ed8fa2c  
**数据校验规则**：  
- 最大值：`100`
user_id_type | string | 否 | 用户 ID 类型  
**示例值**：open_id  
**可选值有**：  
- open_id：标识一个用户在某个应用中的身份。同一个用户在不同应用中的 Open ID 不同。[了解更多：如何获取 Open ID](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-openid)  
- union_id：标识一个用户在某个应用开发商下的身份。同一用户在同一开发商下的应用中的 Union ID 是相同的，在不同开发商下的应用中的 Union ID 是不同的。通过 Union ID，应用开发商可以把同个用户在多个应用中的身份关联起来。[了解更多：如何获取 Union ID？](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-union-id)  
- user_id：标识一个用户在某个租户内的身份。同一个用户在租户 A 和租户 B 内的 User ID 是不同的。在同一个租户内，一个用户的 User ID 在所有应用（包括商店应用）中都保持一致。User ID 主要用于在不同的应用间打通用户数据。[了解更多：如何获取 User ID？](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-user-id)  
**默认值**：`open_id`  
**当值为 `user_id`，字段权限要求**：  
获取用户 user ID(contact:user.employee_id:readonly)

### 请求体

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
query | string | 否 | 搜索关键词  
**示例值**："词典"  
**数据校验规则**：  
- 长度范围：`1` ～ `100` 字符
classification_filter | classification_filter | 否 | 分类筛选
include | string\[\] | 否 | 需要获取的分类  
**示例值**：["7195482254012055580"]
exclude | string\[\] | 否 | 需要排除的分类  
**示例值**：["7195482254012055581"]
sources | int\[\] | 否 | 词条的创建来源，1：用户主动创建，2：批量导入，3：官方词，4：OpenAPI 创建  
**示例值**：[1]
creators | string\[\] | 否 | 创建者  
**示例值**：["ou_30b07b63089ea46518789914dac63d36"]

### 请求体示例
```json
{
    "query": "词典",
    "classification_filter": {
        "include": [
            "7195482254012055580"
        ],
        "exclude": [
            "7195482254012055581"
        ]
    },
    "sources": [
        1
    ],
    "creators": [
        "ou_30b07b63089ea46518789914dac63d36"
    ]
}
```

## 响应

### 响应体

名称 | 类型 | 描述
--- | --- | ---
code | int | 错误码，非 0 表示失败
msg | string | 错误描述
data | \- | \-
entities | entity\[\] | 搜索结果
id | string | 词条 ID （需要更新某个词条时填写，若是创建新词条可不填写）
main_keys | term\[\] | 词条名
key | string | 名称的值
display_status | display_status | 名称展示范围
allow_highlight | boolean | 对应名称是否在消息/云文档高亮
allow_search | boolean | 对应名称是否在搜索结果中展示
aliases | term\[\] | 别名
key | string | 名称的值
display_status | display_status | 名称展示范围
allow_highlight | boolean | 对应名称是否在消息/云文档高亮
allow_search | boolean | 对应名称是否在搜索结果中展示
description | string | 纯文本格式词条释义。注：description 和 rich_text 至少有一个，否则会报错：1540001
creator | string | 词条创建者
create_time | string | 词条创建时间
updater | string | 词条最近一次更新者
update_time | string | 词条最近一次更新时间
related_meta | related_meta | 词条的相关资源
users | referer\[\] | 相关人信息
id | string | 数据 id
title | string | 标题
url | string | 链接地址
chats | referer\[\] | 相关公开群信息
id | string | 数据 id
title | string | 标题
url | string | 链接地址
docs | referer\[\] | 关联文档信息
title | string | 标题
url | string | 链接地址
oncalls | referer\[\] | 关联服务台信息
id | string | 数据 id
title | string | 标题
url | string | 链接地址
links | referer\[\] | 关联链接信息
title | string | 标题
url | string | 链接地址
abbreviations | abbreviation\[\] | 相关词条信息
id | string | 相关词条 id
classifications | classification\[\] | 所属分类信息（不支持传入一级分类。词条不可同时属于同一个一级分类下的多个二级分类，一级分类下的二级分类互斥）
id | string | 唯一分类 ID
name | string | 分类名称
father_id | string | 父级分类的 ID
images | baike_image\[\] | 上传的相关图片
token | string | 通过文件接口上传后的图片 token
statistics | statistics | 当前词条收到的反馈数据
like_count | int | 点赞数量
dislike_count | int | 点踩数量
outer_info | outer_info | 词条在外部系统中的信息
provider | string | 数据提供方（不能包含中横线 "-"）
outer_id | string | 词条在外部系统的唯一标识，可用来和其他平台的内容进行绑定。需保证和百科词条唯一对应（不能包含中横线 "-"）
rich_text | string | 富文本格式（当填写富文本内容时，description字段将会失效可不填写），支持的格式参考[企业百科指南](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/baike-v1/overview)中的释义部分
source | int | 词条的创建来源，1：用户主动创建，2：批量导入，3：官方词，4：OpenAPI 创建
page_token | string | 分页标记，当 has_more 为 true 时，会同时返回新的 page_token，否则不返回 page_token

### 响应体示例
```json
{
    "code":0,
    "msg":"success",
    "data":{
        "entities":[
            {
                "id":"enterprise_402***21",
                "main_keys":[
                    {
                        "key":"飞书词典",
                        "display_status":{
                            "allow_highlight":true,
                            "allow_search":true
                        }
                    }
                ],
                "aliases":[
                    {
                        "key":"词典",
                        "display_status":{
                            "allow_highlight":true,
                            "allow_search":true
                        }
                    }
                ],
                "description":"词典是飞书提供的一款知识管理工具，通过飞书词典可以帮助企业将分散的知识信息进行聚合，并通过UGC的方式，促进企业知识的保鲜和流通",
                "create_time":"1627540853",
                "creator":"ou_dc5227a2bdb*******b61e0b5aff99fe5",
                "update_time":"1627541853",
                "updater":"ou_dc5227a2bdb*******b61e0b5aff99fe5",
                "source":3,
                "related_meta":{
                    "abbreviations":[
                        {
                            "id":"enterprise_445**90"
                        },
                        {
                            "id":"enterprise_70348****374354564"
                        },
                        {
                            "id":"enterprise_7036***993106796547"
                        }
                    ],
                    "chats":[
                        {
                            "id":"oc_c13831833****c92c52befa759ea4806"
                        },
                        {
                            "id":"oc_c8161c910****a24127e73b10233b295"
                        }
                    ],
                    "docs":[
                        {
                            "title":"猜你想问 / FAQs",
                            "url":"https://bytedance.feishu.cn/wiki/wikcnZ8Lq4f9DMCDOtdcIzCUjAh"
                        },
                        {
                            "title":"快速了解飞书文档 | Introducing Feishu Docs",
                            "url":"https://bytedance.feishu.cn/docs/doccnxlVCCFjMsJE15I7PLAjIWc"
                        }
                    ],
                    "links":[
                        {
                            "title":"飞书官网",
                            "url":"https://feishu.cn"
                        }
                    ],
                    "oncalls":[
                        {
                            "id":"7023689049****48034"
                        },
                        {
                            "id":"7024063787****10850"
                        }
                    ],
                    "users":[
                        {
                            "id":"ou_30b07b63089****518789914dac63d36",
                            "title":"负责人"
                        },
                        {
                            "id":"ou_b292c0d285c****4639fa4501e80c36a",
                            "title":""
                        }
                    ],
                    "classifications":[
                        {
                            "id":"704960692670****761",
                            "father_id":"704960692670****777"
                        }
                    ],
                    "images":[
                        {
                            "token":"boxbcEcmKi****HvgqWTpvdc7jc"
                        }
                    ]
                },
                "statistics":{
                    "like_count":100,
                    "dislike_count":20
                },
                "outer_info":{
                    "provider":"星云",
                    "outer_id":"client_6539***98d"
                },
                "rich_text":"词典是飞书提供的一款知识管理工具，通过飞书词典可以帮助企业将分散的知识信息进行聚合，并通过UGC的方式，促进企业知识的保鲜和流通"
            }
        ],
        "page_token":"b152fa6e6f62a291019a04c3a93f36****c641910506ff15ff4cad6534e087cb4ed8fa2c"
    }
}
```

### 错误码

HTTP状态码 | 错误码 | 描述 | 排查建议
--- | --- | --- | ---
400 | 1540001 | invalid param | 参数错误，参考文档检查输入参数
500 | 1540002 | network anomaly, please try again | 多数请求是服务超时，请重新请求，少数是服务异常请[咨询客服](https://applink.feishu.cn/client/helpdesk/open?id=6626260912531570952&extra=%7B%22channel%22:14,%22created_at%22:1614493146,%22scenario_id%22:6885151765134622721,%22signature%22:%22ca94c408b966dc1de2083e5bbcd418294c146e98%22%7D)
