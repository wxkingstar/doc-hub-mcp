---
title: "åˆ›å»ºæ–‡æ¡£ç‰ˆæœ¬"
source_url: https://open.feishu.cn/document/server-docs/docs/drive-v1/file-version/create
---
æœ€åæ›´æ–°äº 2024-10-10

# åˆ›å»ºæ–‡æ¡£ç‰ˆæœ¬

åˆ›å»ºæ–‡æ¡£ç‰ˆæœ¬ã€‚æ–‡æ¡£æ”¯æŒåœ¨çº¿æ–‡æ¡£æˆ–ç”µå­è¡¨æ ¼ã€‚è¯¥æ¥å£ä¸ºå¼‚æ­¥æ¥å£ã€‚

## è¯·æ±‚

åŸºæœ¬ | 
--- | ---
HTTP URL | https://open.feishu.cn/open-apis/drive/v1/files/:file_token/versions
HTTP Method | POST
æ¥å£é¢‘ç‡é™åˆ¶ | [1000 æ¬¡/åˆ†é’Ÿã€50 æ¬¡/ç§’](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
æ”¯æŒçš„åº”ç”¨ç±»å‹ | è‡ªå»ºåº”ç”¨ã€å•†åº—åº”ç”¨
æƒé™è¦æ±‚  
            **è°ƒç”¨è¯¥ API æ‰€éœ€çš„æƒé™ã€‚å¼€å¯å…¶ä¸­ä»»æ„ä¸€é¡¹æƒé™å³å¯è°ƒç”¨** | æŸ¥çœ‹ã€åˆ›å»ºã€åˆ é™¤æ–‡æ¡£ç‰ˆæœ¬(drive:drive:version)
å­—æ®µæƒé™è¦æ±‚ | **æ³¨æ„äº‹é¡¹**ï¼šè¯¥æ¥å£è¿”å›ä½“ä¸­å­˜åœ¨ä¸‹åˆ—æ•æ„Ÿå­—æ®µï¼Œä»…å½“å¼€å¯å¯¹åº”çš„æƒé™åæ‰ä¼šè¿”å›ï¼›å¦‚æœæ— éœ€è·å–è¿™äº›å­—æ®µï¼Œåˆ™ä¸å»ºè®®ç”³è¯·  
        è·å–ç”¨æˆ· user ID(contact:user.employee_id:readonly)

### è¯·æ±‚å¤´

åç§° | ç±»å‹ | å¿…å¡« | æè¿°
--- | --- | --- | ---
Authorization | string | æ˜¯ | `tenant_access_token`  
æˆ–  
`user_access_token`  
**å€¼æ ¼å¼**ï¼š"Bearer `access_token`"  
**ç¤ºä¾‹å€¼**ï¼š"Bearer u-7f1bcd13fc57d46bac21793a18e560"  
[äº†è§£æ›´å¤šï¼šå¦‚ä½•é€‰æ‹©ä¸è·å– access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)
Content-Type | string | æ˜¯ | **å›ºå®šå€¼**ï¼š"application/json; charset=utf-8"

### è·¯å¾„å‚æ•°

åç§° | ç±»å‹ | æè¿°
--- | --- | ---
file_token | string | æºæ–‡æ¡£çš„ tokenï¼Œè·å–æ–¹å¼å‚è€ƒ [å¦‚ä½•è·å–äº‘æ–‡æ¡£ç›¸å…³ token](https://open.feishu.cn/document/ukTMukTMukTM/uczNzUjL3czM14yN3MTN#08bb5df6)ã€‚  
**ç¤ºä¾‹å€¼**ï¼š"doxbcyvqZlSc9WlHvQMlSJabcef"

### æŸ¥è¯¢å‚æ•°

åç§° | ç±»å‹ | å¿…å¡« | æè¿°
--- | --- | --- | ---
user_id_type | string | å¦ | ç”¨æˆ· ID ç±»å‹  
**ç¤ºä¾‹å€¼**ï¼šopen_id  
**å¯é€‰å€¼æœ‰**ï¼š  
- open_idï¼šæ ‡è¯†ä¸€ä¸ªç”¨æˆ·åœ¨æŸä¸ªåº”ç”¨ä¸­çš„èº«ä»½ã€‚åŒä¸€ä¸ªç”¨æˆ·åœ¨ä¸åŒåº”ç”¨ä¸­çš„ Open ID ä¸åŒã€‚[äº†è§£æ›´å¤šï¼šå¦‚ä½•è·å– Open ID](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-openid)  
- union_idï¼šæ ‡è¯†ä¸€ä¸ªç”¨æˆ·åœ¨æŸä¸ªåº”ç”¨å¼€å‘å•†ä¸‹çš„èº«ä»½ã€‚åŒä¸€ç”¨æˆ·åœ¨åŒä¸€å¼€å‘å•†ä¸‹çš„åº”ç”¨ä¸­çš„ Union ID æ˜¯ç›¸åŒçš„ï¼Œåœ¨ä¸åŒå¼€å‘å•†ä¸‹çš„åº”ç”¨ä¸­çš„ Union ID æ˜¯ä¸åŒçš„ã€‚é€šè¿‡ Union IDï¼Œåº”ç”¨å¼€å‘å•†å¯ä»¥æŠŠåŒä¸ªç”¨æˆ·åœ¨å¤šä¸ªåº”ç”¨ä¸­çš„èº«ä»½å…³è”èµ·æ¥ã€‚[äº†è§£æ›´å¤šï¼šå¦‚ä½•è·å– Union IDï¼Ÿ](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-union-id)  
- user_idï¼šæ ‡è¯†ä¸€ä¸ªç”¨æˆ·åœ¨æŸä¸ªç§Ÿæˆ·å†…çš„èº«ä»½ã€‚åŒä¸€ä¸ªç”¨æˆ·åœ¨ç§Ÿæˆ· A å’Œç§Ÿæˆ· B å†…çš„ User ID æ˜¯ä¸åŒçš„ã€‚åœ¨åŒä¸€ä¸ªç§Ÿæˆ·å†…ï¼Œä¸€ä¸ªç”¨æˆ·çš„ User ID åœ¨æ‰€æœ‰åº”ç”¨ï¼ˆåŒ…æ‹¬å•†åº—åº”ç”¨ï¼‰ä¸­éƒ½ä¿æŒä¸€è‡´ã€‚User ID ä¸»è¦ç”¨äºåœ¨ä¸åŒçš„åº”ç”¨é—´æ‰“é€šç”¨æˆ·æ•°æ®ã€‚[äº†è§£æ›´å¤šï¼šå¦‚ä½•è·å– User IDï¼Ÿ](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-user-id)  
**é»˜è®¤å€¼**ï¼š`open_id`  
**å½“å€¼ä¸º `user_id`ï¼Œå­—æ®µæƒé™è¦æ±‚**ï¼š  
è·å–ç”¨æˆ· user ID(contact:user.employee_id:readonly)

### è¯·æ±‚ä½“

åç§° | ç±»å‹ | å¿…å¡« | æè¿°
--- | --- | --- | ---
name | string | å¦ | åˆ›å»ºçš„ç‰ˆæœ¬æ–‡æ¡£çš„æ ‡é¢˜ã€‚  
æœ€å¤§é•¿åº¦ 1024 ä¸ª Unicode ç ç‚¹ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªè‹±æ–‡æˆ–ä¸­æ–‡å­—ç¬¦å¯¹åº”ä¸€ä¸ªç ç‚¹ï¼Œä½†æ˜¯æŸäº›ç‰¹æ®Šç¬¦å·å¯èƒ½ä¼šå¯¹åº”å¤šä¸ªç ç‚¹ã€‚ä¾‹å¦‚ï¼Œå®¶åº­ç»„åˆã€ŒğŸ‘¨â€ğŸ‘©â€ğŸ‘§ã€è¿™ä¸ªè¡¨æƒ…ç¬¦å·å¯¹åº” 5 ä¸ªç ç‚¹ã€‚  
**æ³¨æ„**ï¼šè¯¥å‚æ•°å¿…å¡«ï¼Œè¯·å¿½ç•¥å·¦ä¾§å¿…å¡«åˆ—æ˜¾ç¤ºçš„â€œå¦â€ã€‚  
**ç¤ºä¾‹å€¼**ï¼š"é¡¹ç›®æ–‡æ¡£ ç¬¬ 1 ç‰ˆ"
obj_type | string | å¦ | æºæ–‡æ¡£çš„ç±»å‹  
**æ³¨æ„**ï¼šè¯¥å‚æ•°å¿…å¡«ï¼Œè¯·å¿½ç•¥å·¦ä¾§å¿…å¡«åˆ—æ˜¾ç¤ºçš„â€œå¦â€ã€‚  
**ç¤ºä¾‹å€¼**ï¼š"docx"  
**å¯é€‰å€¼æœ‰**ï¼š  
- docxï¼šæ–°ç‰ˆæ–‡æ¡£  
- sheetï¼šç”µå­è¡¨æ ¼

### è¯·æ±‚ä½“ç¤ºä¾‹
```json
{
    "name": "é¡¹ç›®æ–‡æ¡£ ç¬¬ 1 ç‰ˆ",
    "obj_type": "docx"
}
```

## å“åº”

### å“åº”ä½“

åç§° | ç±»å‹ | æè¿°
--- | --- | ---
code | int | é”™è¯¯ç ï¼Œé 0 è¡¨ç¤ºå¤±è´¥
msg | string | é”™è¯¯æè¿°
data | version | \-
name | string | ç‰ˆæœ¬æ–‡æ¡£çš„æ ‡é¢˜
version | string | ç‰ˆæœ¬æ–‡æ¡£çš„ç‰ˆæœ¬æ ‡è¯†
parent_token | string | ç‰ˆæœ¬æ–‡æ¡£å¯¹åº”çš„æºæ–‡æ¡£çš„ token
owner_id | string | ç‰ˆæœ¬æ–‡æ¡£çš„æ‰€æœ‰è€…çš„ ID
creator_id | string | ç‰ˆæœ¬æ–‡æ¡£çš„åˆ›å»ºè€…çš„ ID
create_time | string | ç‰ˆæœ¬æ–‡æ¡£çš„åˆ›å»ºæ—¶é—´ï¼ŒUnix æ—¶é—´æˆ³ï¼Œå•ä½ä¸ºç§’
update_time | string | ç‰ˆæœ¬æ–‡æ¡£çš„æ›´æ–°æ—¶é—´ã€‚åˆ›å»ºæ–‡æ¡£ç‰ˆæœ¬æ—¶ï¼Œä¸ä¼šè¿”å›
status | string | ç‰ˆæœ¬æ–‡æ¡£çš„çŠ¶æ€  
**å¯é€‰å€¼æœ‰**ï¼š  
- 0ï¼šæ­£å¸¸çŠ¶æ€  
- 1ï¼šè¯¥ç‰ˆæœ¬å·²è¢«åˆ é™¤  
- 2ï¼šå›æ”¶ç«™çŠ¶æ€
obj_type | string | ç‰ˆæœ¬æ–‡æ¡£çš„ç±»å‹  
**å¯é€‰å€¼æœ‰**ï¼š  
- docxï¼šæ–°ç‰ˆæ–‡æ¡£  
- sheetï¼šç”µå­è¡¨æ ¼
parent_type | string | æºæ–‡æ¡£çš„ç±»å‹  
**å¯é€‰å€¼æœ‰**ï¼š  
- docxï¼šæ–°ç‰ˆæ–‡æ¡£  
- sheetï¼šç”µå­è¡¨æ ¼

### å“åº”ä½“ç¤ºä¾‹
```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "name": "é¡¹ç›®æ–‡æ¡£ ç¬¬ 1 ç‰ˆ",
        "version": "fnJfyX",
        "parent_token": "doxbcyvqZlSc9WlHvQMlSJabcdf",
        "owner_id": "694699009591869450",
        "creator_id": "694699009591869451",
        "create_time": "1660708537",
        "update_time": "1660708537",
        "status": "0",
        "obj_type": "docx",
        "parent_type": "docx"
    }
}
```

### é”™è¯¯ç 

HTTPçŠ¶æ€ç  | é”™è¯¯ç  | æè¿° | æ’æŸ¥å»ºè®®
--- | --- | --- | ---
400 | 1068400 | Has no permission, please apply the file permission of reading or edition. | æ— é˜…è¯»æˆ–ç¼–è¾‘æƒé™ï¼Œè¯·ç”³è¯·æºæ–‡æ¡£çš„é˜…è¯»æˆ–ç¼–è¾‘æƒé™ã€‚
400 | 1068401 | Review no pass, the title has illegal content. | æ ‡é¢˜å®¡æ ¸ä¸é€šè¿‡ï¼Œå«éæ³•å†…å®¹ï¼Œè¯·é‡æ–°å‘½åã€‚
404 | 1068404 | Parent file does not exist, please check the file status. | æºæ–‡æ¡£ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥æ–‡æ¡£æ˜¯å¦å·²åˆ é™¤ã€‚
400 | 1068410 | Params error, param [file_token] is wrong. | `file_token` è¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè¯·æ£€æŸ¥å‚æ•°ã€‚
400 | 1068411 | Params error, param [obj_type] is wrong. | `obj_type` è¯·æ±‚å‚æ•°é”™è¯¯ï¼Œè¯·æ£€æŸ¥å‚æ•°ã€‚
400 | 1068425 | Request failed, please contact the engineer-https://applink.feishu.cn/TLJsX982. | è¯·æ±‚å¤±è´¥ï¼Œè¯·é‡è¯•æˆ–è”ç³»[æŠ€æœ¯æ”¯æŒ](https://applink.feishu.cn/TLJpeNdW)ã€‚
