---
title: "查询编制规划明细信息（不支持自定义组织）"
source_url: https://open.feishu.cn/document/corehr-v1/workforce_plan/batch
---
最后更新于 2025-06-03

# 查询编制规划明细信息（不支持自定义组织）

查询编制规划明细，包括维度信息、编制数和预估在职人数
**注意事项**：- 本接口可查询编制规划或集中填报明细信息。
- 请求体入参如果没有特殊说明，不填写默认为空，不参与筛选。
- 所有筛选项可一起使用，之间为 AND 关系。如部门 + 人员类型，则返回同时满足部门及人员类型的编制规划明细数据。
- 本接口不支持自定义组织，如需使用自定义组织，可调用[查询编制规划明细信息（支持自定义组织）](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/workforce_plan_detail/batch_v2)。
**注意事项**：延迟说明：搜索同步延迟 10s 以内，即：直接创建编制明细后 10s 内调用此接口可能查询不到数据。

## 请求

基本 | 
--- | ---
HTTP URL | https://open.feishu.cn/open-apis/corehr/v2/workforce_plan_details/batch
HTTP Method | POST
接口频率限制 | [5 次/秒](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
支持的应用类型 | 自建应用
权限要求  
            **调用该 API 所需的权限。开启其中任意一项权限即可调用** | 查看编制规划明细信息(corehr:workforce_detail:read)

### 请求头

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
Authorization | string | 是 | `tenant_access_token`  
**值格式**："Bearer `access_token`"  
**示例值**："Bearer t-7f1bcd13fc57d46bac21793a18e560"  
[了解更多：如何选择与获取 access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)
Content-Type | string | 是 | **固定值**："application/json; charset=utf-8"

### 查询参数

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
page_token | string | 否 | 分页标记，第一次请求不填，表示从头开始遍历；分页查询结果还有更多项时会同时返回新的 page_token，下次遍历可采用该 page_token 获取查询结果  
**示例值**：["123456"]
page_size | int | 否 | 分页大小  
**示例值**：100  
**默认值**：`100`  
**数据校验规则**：  
- 取值范围：`1` ～ `100`

### 请求体

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
workforce_plan_id | string | 否 | 编制规划方案 ID， ID及详细信息可通过[获取编制规划方案列表](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/workforce_plan/list)接口查询获得。查询编制规划明细信息时，编制规划方案 ID 必填。  
**示例值**："781234834512"
is_centralized_reporting_project | boolean | 否 | 是否为集中填报项目。如果租户未使用集中填报功能，将此参数置空即可。  
**字段权限要求**：获取编制规划集中填报明细信息(corehr:workforce_plan_centralized_reporting_project_detail:read)  
**示例值**：false  
**默认值**：`false`
centralized_reporting_project_id | string | 否 | 编制规划集中填报项目 ID。ID可根据集中填报链接获取。如果租户未使用集中填报功能，将此参数置空即可。查询集中填报信息时，将以集中填报ID为准，无需填写编制规划方案 ID。  
**字段权限要求**：获取编制规划集中填报明细信息(corehr:workforce_plan_centralized_reporting_project_detail:read)  
**示例值**："7140964208476371111"  
**数据校验规则**：  
- 长度范围：`0` ～ `1000` 字符
department_ids | string\[\] | 否 | 部门ID列表。ID获取方式：  
- 调用[【创建部门】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/department/create)[【搜索部门】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/department/search)等接口可以返回部门ID  
- 也可以通过[【事件】创建部门](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/department/events/created)[【事件】更新部门](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/department/events/updated) 获取部门ID信息  
**示例值**：["7210266650427033132"]  
**数据校验规则**：  
- 长度范围：`0` ～ `1000`
employee_type_ids | string\[\] | 否 | 人员类型 ID 列表  
- 可通过[查询人员类型](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/employee_type/get)获取详情。  
**示例值**：["7210608972695520812"]  
**数据校验规则**：  
- 长度范围：`0` ～ `1000`
work_location_ids | string\[\] | 否 | 工作地点 ID 列表。ID获取方式：  
- 调用[【创建地点】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/location/create)[【批量分页查询地点】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/location/list)等接口可以返回地点ID  
**示例值**：["7210608972695520813"]  
**数据校验规则**：  
- 长度范围：`0` ～ `1000`
job_family_ids | string\[\] | 否 | 序列 ID 列表。ID获取方式：  
- 调用[【新建序列】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_family/create)[【查询租户的序列信息】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_family/list)等接口可以返回序列ID  
**示例值**：["7210608972695520814"]  
**数据校验规则**：  
- 长度范围：`0` ～ `1000`
job_level_ids | string\[\] | 否 | 职级ID。ID获取方式：  
- 调用[【新建职级】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_level/create)[【查询租户的职级信息】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_level/list)等接口可以返回职级ID  
**示例值**：["7210608972695520815"]  
**数据校验规则**：  
- 长度范围：`0` ～ `1000`
job_ids | string\[\] | 否 | 职务ID。ID获取方式：  
- 调用[【创建职务】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job/create)[【批量查询职务】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/job/list)等可以返回职务ID  
- 也可以通过[【事件】创建职务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job/events/created) [【事件】更新职务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job/events/updated) 获取ID  
**示例值**：["7210608972695520816"]  
**数据校验规则**：  
- 长度范围：`0` ～ `1000`
cost_center_ids | string\[\] | 否 | 成本中心 ID 列表。ID获取方式：  
- 调用[【创建成本中心】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/cost_center/create)[【搜索成本中心】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/cost_center/search)等接口可以返回成本中心ID  
**示例值**：["7210608972695520817"]  
**数据校验规则**：  
- 长度范围：`0` ～ `1000`
include_missing_dimension_rows | boolean | 否 | 是否包含缺维度明细行数据，true为包含缺维度明细行数据，false为仅获取所有维度都有值的明细行数据，默认为 false  
**示例值**：false

### 请求体示例
```json
{
    "workforce_plan_id": "781234834512",
    "is_centralized_reporting_project": false,
    "centralized_reporting_project_id": "7140964208476371111",
    "department_ids": [
        "7210266650427033132"
    ],
    "employee_type_ids": [
        "7210608972695520812"
    ],
    "work_location_ids": [
        "7210608972695520813"
    ],
    "job_family_ids": [
        "7210608972695520814"
    ],
    "job_level_ids": [
        "7210608972695520815"
    ],
    "job_ids": [
        "7210608972695520816"
    ],
    "cost_center_ids": [
        "7210608972695520817"
    ],
    "include_missing_dimension_rows": false
}
```

## 响应

### 响应体

名称 | 类型 | 描述
--- | --- | ---
code | int | 错误码，非 0 表示失败
msg | string | 错误描述
data | \- | \-
workforce_plan_id | string | 编制规划方案 ID
centralized_reporting_project_id | string | 集中填报项目 ID
items | workforce_plan_detail\[\] | 编制规划明细信息
workforce_plan_detail_id | string | 编制规划明细 ID
department | dimension_info | 部门信息
id | string | 部门ID。可通过[批量查询部门V2](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/department/batch_get) 或者[搜索部门信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/department/search) 获取详情
name | i18n\[\] | 维度名称
lang | string | 语言信息，中文是 zh-CN，英文是 en-US
value | string | 文本内容
employee_type | dimension_info | 人员类型信息
id | string | 人员类型 ID   
- 可通过[查询人员类型](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/employee_type/get)获取详情。
name | i18n\[\] | 维度名称
lang | string | 语言信息，中文是 zh-CN，英文是 en-US
value | string | 文本内容
work_location | dimension_info | 工作地点信息
id | string | 地点ID  
- 可通过[查询单个地点](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/location/get)获取详情。
name | i18n\[\] | 维度名称
lang | string | 语言信息，中文是 zh-CN，英文是 en-US
value | string | 文本内容
job_family | dimension_info | 序列信息
id | string | 序列ID  
- 可通过[批量查询序列](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/job_family/batch_get)获取详情
name | i18n\[\] | 维度名称
lang | string | 语言信息，中文是 zh-CN，英文是 en-US
value | string | 文本内容
job_level | dimension_info | 职级信息
id | string | 职级ID  
- 可通过[批量查询职级](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/job_level/batch_get)获取详情
name | i18n\[\] | 维度名称
lang | string | 语言信息，中文是 zh-CN，英文是 en-US
value | string | 文本内容
job | dimension_info | 职务信息
id | string | 职务 ID  
- 可通过[查询单个职务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job/get)获取详情。
name | i18n\[\] | 维度名称
lang | string | 语言信息，中文是 zh-CN，英文是 en-US
value | string | 文本内容
cost_center | dimension_info | 成本中心信息
id | string | 成本中心ID  
- 可通过[搜索成本中心信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/cost_center/search)获取详情。
name | i18n\[\] | 维度名称
lang | string | 语言信息，中文是 zh-CN，英文是 en-US
value | string | 文本内容
workforce_plan | string | 编制规划值
estimated_active_individuals_detail | workforce_plan_eai_detail\[\] | 预估在职人数明细
date | string | 预估月份
estimated_active_individuals | string | 预估在职人数
is_missing_dimension | boolean | 是否为缺维度的明细行，true为缺维度明细行，false为非缺维度明细行
page_token | string | 分页标记，当 has_more 为 true 时，会同时返回新的 page_token，否则不返回 page_token
has_more | boolean | 是否还有更多项

### 响应体示例
```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "workforce_plan_id": "7128319234123",
        "centralized_reporting_project_id": "7128319234123",
        "items": [
            {
                "workforce_plan_detail_id": "123456",
                "department": {
                    "id": "123456",
                    "name": [
                        {
                            "lang": "zh-CN",
                            "value": "中文示例"
                        }
                    ]
                },
                "employee_type": {
                    "id": "123456",
                    "name": [
                        {
                            "lang": "zh-CN",
                            "value": "中文示例"
                        }
                    ]
                },
                "work_location": {
                    "id": "123456",
                    "name": [
                        {
                            "lang": "zh-CN",
                            "value": "中文示例"
                        }
                    ]
                },
                "job_family": {
                    "id": "123456",
                    "name": [
                        {
                            "lang": "zh-CN",
                            "value": "中文示例"
                        }
                    ]
                },
                "job_level": {
                    "id": "123456",
                    "name": [
                        {
                            "lang": "zh-CN",
                            "value": "中文示例"
                        }
                    ]
                },
                "job": {
                    "id": "123456",
                    "name": [
                        {
                            "lang": "zh-CN",
                            "value": "中文示例"
                        }
                    ]
                },
                "cost_center": {
                    "id": "123456",
                    "name": [
                        {
                            "lang": "zh-CN",
                            "value": "中文示例"
                        }
                    ]
                },
                "workforce_plan": "10.00",
                "estimated_active_individuals_detail": [
                    {
                        "date": "2020-10-31",
                        "estimated_active_individuals": "10.00"
                    }
                ],
                "is_missing_dimension": false
            }
        ],
        "page_token": "34523459",
        "has_more": true
    }
}
```

### 错误码

HTTP状态码 | 错误码 | 描述 | 排查建议
--- | --- | --- | ---
503 | 1161204 | Requset timeout | 请求超时，请稍后重试。如无法解决可[飞书开放平台技术支持](https://applink.feishu.cn/TLJpeNdW)。
429 | 1161604 | QPS over limit | 请求量过大，请稍后访问。如无法解决可联系 [飞书开放平台技术支持](https://applink.feishu.cn/TLJpeNdW) 。
400 | 1160109 | param is invalid | 请检查是否传入了无效参数。如无法解决可联系[飞书开放平台技术支持](https://applink.feishu.cn/TLJpeNdW)。
403 | 1160100 | no permission | 请检查是否申请对应权限。如无法解决可联系[飞书开放平台技术支持](https://applink.feishu.cn/TLJpeNdW)。
400 | 1161008 | lack APP ID | 系统错误。如无法解决可联系 [飞书开放平台技术支持](https://applink.feishu.cn/TLJpeNdW)。
