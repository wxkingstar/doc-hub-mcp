---
title: "æ‰¹é‡å‘é€æ¶ˆæ¯"
source_url: https://open.feishu.cn/document/server-docs/im-v1/batch_message/send-messages-in-batches
last_remote_update: 2024-11-19
last_remote_update_timestamp: 1732013221000
---
æœ€åæ›´æ–°äº 2024-11-19

# æ‰¹é‡å‘é€æ¶ˆæ¯

ç»™å¤šä¸ªç”¨æˆ·æˆ–è€…å¤šä¸ªéƒ¨é—¨ä¸­çš„æˆå‘˜å‘é€æ¶ˆæ¯ã€‚

## å‰ææ¡ä»¶

- åº”ç”¨éœ€è¦å¯ç”¨[æœºå™¨äººèƒ½åŠ›](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-enable-bot-ability)ã€‚
- æ‰¹é‡å‘é€æ¶ˆæ¯æ—¶ï¼ŒæŒ‡å®šçš„éƒ¨é—¨æˆ–ç”¨æˆ·éœ€è¦åœ¨æœºå™¨äººçš„[å¯ç”¨èŒƒå›´](https://open.feishu.cn/document/home/introduction-to-scope-and-authorization/availability)å†…ã€‚

## ä½¿ç”¨é™åˆ¶

- è¯¥æ¥å£ä»…æ”¯æŒå‘ç”¨æˆ·å‘é€æ¶ˆæ¯ï¼Œæ— æ³•å‘ç¾¤ç»„å‘é€æ¶ˆæ¯ã€‚
- é€šè¿‡è¯¥æ¥å£å‘é€çš„æ¶ˆæ¯ï¼Œå…·å¤‡ç‹¬ç«‹çš„æ¶ˆæ¯ IDï¼ˆä»¥ `bm-` ä¸ºå‰ç¼€ï¼‰ï¼Œè¯¥ç±»æ¶ˆæ¯ä¸æ”¯æŒç¼–è¾‘ã€å›å¤ç­‰æ“ä½œï¼Œä»…æ”¯æŒ[æ‰¹é‡æ’¤å›æ¶ˆæ¯](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/batch_message/delete)ã€[æŸ¥è¯¢æ‰¹é‡æ¶ˆæ¯æ¨é€å’Œé˜…è¯»äººæ•°](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/batch_message/read_user)ã€[æŸ¥è¯¢æ‰¹é‡æ¶ˆæ¯æ•´ä½“è¿›åº¦](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/batch_message/get_progress)ã€‚
- å•ä¸ªåº”ç”¨æ¯å¤©é€šè¿‡è¯¥æ¥å£å‘é€çš„æ¶ˆæ¯æ€»æ¡ç›®æ•°ä¸èƒ½è¶…è¿‡ 50 ä¸‡æ¡ã€‚
- è¯¥æ¥å£ä¸ºå¼‚æ­¥æ¥å£ï¼Œä¼šæœ‰ä¸€å®šå»¶è¿Ÿã€‚æ¯ä¸ªåº”ç”¨å¾…å‘é€çš„æ¶ˆæ¯æŒ‰é¡ºåºå¤„ç†ï¼Œè¯·åˆç†å®‰æ’æ‰¹é‡å‘é€çš„èŒƒå›´å’Œé¡ºåºã€‚

å¦‚æœåªéœ€è¦å‘å•ä¸ªç”¨æˆ·æˆ–è€…ç¾¤èŠå‘é€æ¶ˆæ¯ï¼Œæˆ–è€…ä¸šåŠ¡è¦æ±‚å‘é€æ¶ˆæ¯ä¸èƒ½æœ‰å»¶è¿Ÿï¼Œè¯·ä½¿ç”¨[å‘é€æ¶ˆæ¯](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/message/create)æ¥å£ã€‚

## è¯·æ±‚
åç§° | å€¼
---|---
HTTP URL | https://open.feishu.cn/open-apis/message/v4/batch_send/
HTTP Method | POST
æ¥å£é¢‘ç‡é™åˆ¶ | [1000 æ¬¡/åˆ†é’Ÿã€50 æ¬¡/ç§’](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
æ”¯æŒçš„åº”ç”¨ç±»å‹ | è‡ªå»ºåº”ç”¨ã€å•†åº—åº”ç”¨
æƒé™è¦æ±‚  
 **è°ƒç”¨è¯¥ API æ‰€éœ€çš„æƒé™ã€‚**  
å¼€å¯ä»»ä¸€å¿…é€‰æƒé™å³å¯  
æ ¹æ®å‘é€ç›®æ ‡ç”³è¯·ç›¸åº”å¯é€‰æƒé™ | è·å–ä¸å‘é€å•èŠã€ç¾¤ç»„æ¶ˆæ¯(im:message)  
è·å–ä¸å‘é€å•èŠã€ç¾¤ç»„æ¶ˆæ¯(im:message:send_as_bot)    
ç»™å¤šä¸ªç”¨æˆ·æ‰¹é‡å‘æ¶ˆæ¯(im:message:send_multi_users)  
ç»™ä¸€ä¸ªæˆ–å¤šä¸ªéƒ¨é—¨çš„æˆå‘˜æ‰¹é‡å‘æ¶ˆæ¯(im:message:send_multi_depts)  
**æ³¨æ„äº‹é¡¹**ï¼š**è¯´æ˜**ï¼š  
- å¿…é¡»æ‹¥æœ‰ **è·å–ä¸å‘é€å•èŠã€ç¾¤ç»„æ¶ˆæ¯** æƒé™æˆ–è€… **ä»¥åº”ç”¨çš„èº«ä»½å‘æ¶ˆæ¯** æƒé™ã€‚  
- è‡³å°‘æ‹¥æœ‰ä¸€ä¸ªæ‰¹é‡å‘é€æ¶ˆæ¯æƒé™ï¼š  
	- ç»™ç”¨æˆ·æ‰¹é‡å‘é€æ¶ˆæ¯ï¼Œéœ€è¦æ‹¥æœ‰ **ç»™å¤šä¸ªç”¨æˆ·æ‰¹é‡å‘æ¶ˆæ¯** æƒé™ã€‚  
	- ç»™æŒ‡å®šéƒ¨é—¨æˆå‘˜æ‰¹é‡å‘é€æ¶ˆæ¯ï¼Œéœ€è¦æ‹¥æœ‰ **ç»™ä¸€ä¸ªæˆ–å¤šä¸ªéƒ¨é—¨çš„æˆå‘˜æ‰¹é‡å‘æ¶ˆæ¯** æƒé™ã€‚

### è¯·æ±‚å¤´

åç§° | ç±»å‹ | å¿…å¡« | æè¿°
--- | --- | --- | ---
Authorization | string | æ˜¯ | `tenant_access_token`  
ç§Ÿæˆ·è®¿é—®å‡­è¯ï¼Œå³ä»¥ç§Ÿæˆ·ï¼ˆä¼ä¸šæˆ–å›¢é˜Ÿï¼‰èº«ä»½è°ƒç”¨ APIï¼Œ[è‡ªå»ºåº”ç”¨è·å– tenant_access_token](https://open.feishu.cn/document/ukTMukTMukTM/ukDNz4SO0MjL5QzM/auth-v3/auth/tenant_access_token_internal)ã€[å•†åº—åº”ç”¨è·å– tenant_access_token](https://open.feishu.cn/document/ukTMukTMukTM/ukDNz4SO0MjL5QzM/auth-v3/auth/tenant_access_token)ã€‚  
**å€¼æ ¼å¼**ï¼š"Bearer access_token"  
**ç¤ºä¾‹å€¼**ï¼š"Bearer t-g1044qeGEDXTB6NDJOGV4JQCYDGHRBARFTGT1234"
Content-Type | string | æ˜¯ | **å›ºå®šå€¼**ï¼š"application/json; charset=utf-8"

### è¯·æ±‚ä½“

å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿°
--- | --- | --- | ---
msg_type | string | æ˜¯ | æ¶ˆæ¯ç±»å‹ã€‚æ”¯æŒçš„æ¶ˆæ¯ç±»å‹æœ‰ï¼š  
- textï¼šæ–‡æœ¬  
- imageï¼šå›¾ç‰‡  
- postï¼šå¯Œæ–‡æœ¬  
- share_chatï¼šåˆ†äº«ç¾¤åç‰‡  
- interactiveï¼šå¡ç‰‡  
**æ³¨æ„**ï¼š  
- å¦‚æœ `msg_type` å–å€¼ä¸º textã€imageã€post æˆ–è€… share_chatï¼Œåˆ™æ¶ˆæ¯å†…å®¹éœ€è¦ä¼ å…¥ `content` å‚æ•°å†…ã€‚  
- å¦‚æœ `msg_type` å–å€¼ä¸º interactiveï¼Œåˆ™æ¶ˆæ¯å†…å®¹éœ€è¦ä¼ å…¥ `card` å‚æ•°å†…ã€‚  
- å¯Œæ–‡æœ¬ç±»å‹ï¼ˆpostï¼‰çš„æ¶ˆæ¯ï¼Œä¸æ”¯æŒä½¿ç”¨ `md` æ ‡ç­¾ã€‚  
å„ç±»å‹çš„å†…å®¹å¦‚ä½•é…ç½®ï¼Œå‚è§[å‘é€æ¶ˆæ¯å†…å®¹](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/im-v1/message/create_json)ï¼Œä½†éœ€è¦ç¡®ä¿ç¬¦åˆå½“å‰æ¥å£çš„è¦æ±‚ã€‚ä¾‹å¦‚ï¼Œä»…æ”¯æŒä»¥ä¸Š 5 ç§æ¶ˆæ¯ç±»å‹ã€æ‰¹é‡å‘é€å¯Œæ–‡æœ¬æ¶ˆæ¯æ—¶ä¸æ”¯æŒ `md` æ ‡ç­¾ç­‰ã€‚  
**ç¤ºä¾‹å€¼**ï¼štext
content | object | å¦ | æ¶ˆæ¯å†…å®¹ï¼ŒJSON ç»“æ„ã€‚è¯¥å‚æ•°çš„å–å€¼ä¸ `msg_type` å¯¹åº”ï¼Œä¾‹å¦‚ `msg_type` å–å€¼ä¸º `text`ï¼Œåˆ™è¯¥å‚æ•°éœ€è¦ä¼ å…¥æ–‡æœ¬ç±»å‹çš„å†…å®¹ã€‚  
**æ³¨æ„ï¼š**  
- è¯¥å‚æ•°ä»…åœ¨ `msg_type` å–å€¼ä¸º textã€imageã€post æˆ–è€… share_chat æ—¶éœ€è¦ä¼ å…¥å€¼ã€‚å¦‚æœ `msg_type` å–å€¼ä¸º interactiveï¼Œåˆ™æ¶ˆæ¯å†…å®¹éœ€è¦ä¼ å…¥åˆ° `card` å‚æ•°ã€‚  
- æ–‡æœ¬æ¶ˆæ¯è¯·æ±‚ä½“æœ€å¤§ä¸èƒ½è¶…è¿‡ 150 KBã€‚  
- å¯Œæ–‡æœ¬æ¶ˆæ¯è¯·æ±‚ä½“æœ€å¤§ä¸èƒ½è¶…è¿‡ 30 KBã€‚  
- æ–‡æœ¬æ¶ˆæ¯ï¼ˆtextï¼‰ä»…åœ¨è¯¥æ¥å£ä¸­ä¸æ”¯æŒåŠ ç²—ã€æ–œä½“ã€ä¸‹åˆ’çº¿ã€åˆ é™¤çº¿æ ·å¼ã€‚  
- å¦‚æœæ¶ˆæ¯ä¸­åŒ…å«æ ·å¼æ ‡ç­¾ï¼Œä¼šä½¿å®é™…æ¶ˆæ¯ä½“é•¿åº¦å¤§äºæ‚¨è¾“å…¥çš„è¯·æ±‚ä½“é•¿åº¦ã€‚  
- å›¾ç‰‡éœ€è¦å…ˆ[ä¸Šä¼ å›¾ç‰‡](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/image/create)ï¼Œç„¶åä½¿ç”¨å›¾ç‰‡çš„ Key å‘æ¶ˆæ¯ã€‚  
- è¯¥æ¥å£ç›´æ¥ä¼ å…¥ JSON ç»“æ„çš„æ¶ˆæ¯å†…å®¹å³å¯ï¼Œæ— éœ€è¿›è¡Œè½¬ä¹‰ã€‚   
äº†è§£å„ç±»å‹æ¶ˆæ¯çš„å†…å®¹æ ¼å¼ã€ä½¿ç”¨é™åˆ¶ï¼Œå¯å‚è§[å‘é€æ¶ˆæ¯å†…å®¹](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/im-v1/message/create_json)ã€‚   
**ç¤ºä¾‹å€¼**ï¼š{ "text": "è¦å‘é€çš„æ–‡æœ¬æ¶ˆæ¯" }
card | object | å¦ | å¡ç‰‡å†…å®¹ï¼ŒJSON ç»“æ„ã€‚  
**æ³¨æ„**ï¼š  
- è¯¥å‚æ•°çš„å–å€¼ä¸ `msg_type` å¯¹åº”ï¼Œä»…å½“ `msg_type` å–å€¼ä¸º interactive æ—¶ï¼Œéœ€è¦å°†å¡ç‰‡å†…å®¹ä¼ å…¥å½“å‰å‚æ•°ã€‚å½“ `msg_type` å–å€¼ä¸ä¸º interactive æ—¶ï¼Œæ¶ˆæ¯å†…å®¹éœ€è¦ä¼ å…¥åˆ° `content` å‚æ•°ã€‚  
- å¡ç‰‡æ¶ˆæ¯è¯·æ±‚ä½“æœ€å¤§ä¸èƒ½è¶…è¿‡ 30 KBã€‚  
- å¦‚æœä½¿ç”¨å¡ç‰‡æ¨¡æ¿ï¼ˆtemplate_idï¼‰å‘é€æ¶ˆæ¯ï¼Œå®é™…å¤§å°ä¹ŸåŒ…å«æ¨¡æ¿å¯¹åº”çš„å¡ç‰‡æ•°æ®å¤§å°ã€‚  
- è¯¥æ¥å£ç›´æ¥ä¼ å…¥ JSON ç»“æ„çš„æ¶ˆæ¯å†…å®¹å³å¯ï¼Œæ— éœ€è¿›è¡Œè½¬ä¹‰ã€‚äº†è§£æ›´å¤šå‚è§[å‘é€å¡ç‰‡](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/send-feishu-card)ã€‚  
**ç¤ºä¾‹å€¼**ï¼š{"elements":[{"tag":"div","text":{"content":"This is the plain text","tag":"plain_text"}}],"header":{"template":"blue","title":{"content":"This is the title","tag":"plain_text"}}}
department_ids | list | å¦ | éƒ¨é—¨ ID åˆ—è¡¨ã€‚åˆ—è¡¨å†…æ”¯æŒä¼ å…¥éƒ¨é—¨ department_id å’Œ open_department_idï¼Œéƒ¨é—¨ ID ä»‹ç»ä¸è·å–æ–¹å¼ï¼Œå‚è§[éƒ¨é—¨èµ„æºä»‹ç»](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/contact-v3/department/field-overview)çš„ **éƒ¨é—¨ ID** ç« èŠ‚ã€‚  
**æ³¨æ„**ï¼š  
- ä¸æ”¯æŒä¼ å…¥æ ¹éƒ¨é—¨ IDï¼ˆæ ¹éƒ¨é—¨ ID ä¸º `0`ï¼‰ã€‚  
- åˆ—è¡¨é•¿åº¦ä¸èƒ½è¶…è¿‡ 200ã€‚  
- è¯·æ±‚æ—¶ï¼Œæ¶ˆæ¯ä¼šå‘é€ç»™ ID å¯¹åº”éƒ¨é—¨å†…çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬éƒ¨é—¨ä¸‹çš„æ‰€æœ‰å­éƒ¨é—¨æˆå‘˜ã€‚  
- `department_ids`ã€`open_ids`ã€`user_ids`ã€`union_ids` å››ä¸ªå­—æ®µè‡³å°‘éœ€è¦å¡«å†™å…¶ä¸­ä¸€ä¸ªã€‚  
**ç¤ºä¾‹å€¼**ï¼š["3dceba33a33226","d502aaa9514059", "od-5b91c9affb665451a16b90b4be367efa"]
open_ids | list | å¦ | ç”¨æˆ· open_id åˆ—è¡¨ã€‚open_id è·å–æ–¹å¼å‚è§[å¦‚ä½•è·å–è‡ªå·±çš„ Open ID](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-openid)ã€‚  
**æ³¨æ„**ï¼š  
- åˆ—è¡¨é•¿åº¦ä¸èƒ½è¶…è¿‡ 200ã€‚  
- `department_ids`ã€`open_ids`ã€`user_ids`ã€`union_ids` å››ä¸ªå­—æ®µè‡³å°‘éœ€è¦å¡«å†™å…¶ä¸­ä¸€ä¸ªã€‚  
**ç¤ºä¾‹å€¼**ï¼š["ou_18eac85d35a26f989317ad4f02e8bbbb","ou_461cf042d9eedaa60d445f26dc747d5e"]
user_ids | list | å¦ | ç”¨æˆ· user_id åˆ—è¡¨ã€‚user_id è·å–æ–¹å¼å‚è§[å¦‚ä½•è·å–è‡ªå·±çš„ User ID](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-user-id)ã€‚  
**æ³¨æ„**ï¼š  
- åˆ—è¡¨é•¿åº¦ä¸èƒ½è¶…è¿‡ 200ã€‚  
- `department_ids`ã€`open_ids`ã€`user_ids`ã€`union_ids` å››ä¸ªå­—æ®µè‡³å°‘éœ€è¦å¡«å†™å…¶ä¸­ä¸€ä¸ªã€‚  
**ç¤ºä¾‹å€¼**ï¼š["7cdcc7c2","ca51d83b"]
union_ids | list | å¦ | ç”¨æˆ· union_id åˆ—è¡¨ã€‚union_id è·å–æ–¹å¼å‚è§[å¦‚ä½•è·å–è‡ªå·±çš„ Union ID](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-union-id)ã€‚  
**æ³¨æ„**ï¼š  
- åˆ—è¡¨é•¿åº¦ä¸èƒ½è¶…è¿‡ 200ã€‚  
- `department_ids`ã€`open_ids`ã€`user_ids`ã€`union_ids` å››ä¸ªå­—æ®µè‡³å°‘éœ€è¦å¡«å†™å…¶ä¸­ä¸€ä¸ªã€‚  
**ç¤ºä¾‹å€¼**ï¼š["on_cad4860e7af114fb4ff6c5d496d1dd76","on_gdcq860e7af114fb4ff6c5d496dabcet"]

### è¯·æ±‚ä½“ç¤ºä¾‹
æ‰¹é‡å‘é€æ¶ˆæ¯çš„å†…å®¹ä¸º JSON ç»“æ„ï¼Œä¸éœ€è¦è½¬ä¹‰ã€‚

#### æ–‡æœ¬æ¶ˆæ¯
```json
{
    "department_ids": [
        "3dceba33a33226",
        "d502aaa9514059"
    ],
    "open_ids": [
        "ou_18eac85d35a26f989317ad4f02e8bbbb",
        "ou_461cf042d9eedaa60d445f26dc747d5e"
    ],
    "user_ids": [
        "7cdcc7c2",
        "ca51d83b"
    ],
    "union_ids": [
         "on_cad4860e7af114fb4ff6c5d496d1dd76",
         "on_gdcq860e7af114fb4ff6c5d496dabcet"
    ],
    "msg_type": "text",
    "content": {
        "text": "test content"
    }
}
```

#### å¯Œæ–‡æœ¬æ¶ˆæ¯

```json 
{
  "open_ids": [
    "ou_a18fe85d22e7633852d8104226e99eac",
    "ou_9204a37300b3700d61effaa439f34295"
  ],
  "department_ids": [
    "od-5b91c9affb665451a16b90b4be367efa"
  ],
  "msg_type": "post",
  "content": {
    "post": {
      "zh_cn": {
        "title": "æˆ‘æ˜¯ä¸€ä¸ªæ ‡é¢˜",
        "content": [
          [
            {
              "tag": "text",
              "text": "ç¬¬ä¸€è¡Œ"
            },
            {
              "tag": "a",
              "href": "http://www.feishu.cn",
              "text": "é£ä¹¦"
            }
          ]
        ]
      },
      "en_us": {
        "title": "I am a title",
        "content": [
          [
            {
              "tag": "text",
              "text": "first line"
            },
            {
              "tag": "a",
              "href": "http://www.feishu.cn",
              "text": "feishu"
            }
          ]
        ]
      }
    }
  }
}
``` 
#### å›¾ç‰‡æ¶ˆæ¯

```json 
{
  "open_ids": [
    "ou_a18fe85d22e7633852d8104226e99eac",
    "ou_9204a37300b3700d61effaa439f34295"
  ],
  "department_ids": [
    "od-5b91c9affb665451a16b90b4be367efa"
  ],
  "msg_type": "image",
  "content": {
    "image_key": "img_v2_8e5a80ec-4d94-4bb2-84d5-e25d6c28dacj"
  }
}
``` 
#### ç¾¤åˆ†äº«æ¶ˆæ¯

```json 
{
  "open_ids": [
    "ou_a18fe85d22e7633852d8104226e99eac",
    "ou_9204a37300b3700d61effaa439f34295"
  ],
  "department_ids": [
    "od-5b91c9affb665451a16b90b4be367efa"
  ],
  "msg_type": "share_chat",
  "content": {
    "share_chat_id": "oc_84983ff6516d731e5b5f68d4ea2e1da5"
  }
}
``` 

#### å¡ç‰‡æ¶ˆæ¯
å¡ç‰‡æ¶ˆæ¯çš„è¯·æ±‚ä½“éœ€ä½¿ç”¨ `card` å‚æ•°ï¼Œä¸ä½¿ç”¨ `content` å­—æ®µã€‚

- ä½¿ç”¨[å¡ç‰‡ JSON](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-json-structure) å‘é€

```json 
{
  "open_ids": [
    "ou_a18fe85d22e7633852d8104226e99eac",
    "ou_9204a37300b3700d61effaa439f34295"
  ],
  "department_ids": [
    "od-5b91c9affb665451a16b90b4be367efa"
  ],
  "msg_type": "interactive",
  "card": {
    "config": {
      "wide_screen_mode": true
    },
    "elements": [
      {
        "tag": "div",
        "fields": [
          {
            "is_short": true,
            "text": {
              "tag": "lark_md",
              "content": "**ğŸ—³å·¥å•æ¥æºï¼š**\næŠ¥äº‹æŠ¥ä¿®"
            }
          },
          {
            "is_short": true,
            "text": {
              "tag": "lark_md",
              "content": "**ğŸ“å·¥å•ç±»å‹ï¼š**\nå®¢æœå·¥å•"
            }
          }
        ]
      }
    ],
    "header": {
      "template": "turquoise",
      "title": {
        "content": "ğŸ“šæ™’æŒšçˆ±å¥½ä¹¦ï¼Œèµ¢è¯»ä¹¦ç¤¼é‡‘",
        "tag": "plain_text"
      }
    }
  }
}
``` 
- ä½¿ç”¨[å¡ç‰‡æ¨¡æ¿](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/send-feishu-card#718fe26b)å‘é€
```json 
{
  "open_ids": [
    "ou_a18fe85d22e7633852d8104226e99eac",
    "ou_9204a37300b3700d61effaa439f34295"
  ],
  "department_ids": [
    "od-5b91c9affb665451a16b90b4be367efa"
  ],
  "msg_type": "interactive",
  "card": {
    "type": "template",
    "data": {
      "template_id": "ctp_xxxxxx",
      "template_variable": {
        "var_xxx": "xxxxxx"
      }
    }
  }
}
``` 

### SDK è°ƒç”¨ç¤ºä¾‹

ä½¿ç”¨[æœåŠ¡ç«¯ SDK](https://open.feishu.cn/document/ukTMukTMukTM/uETO1YjLxkTN24SM5UjN) æ—¶ï¼Œéœ€è¦ä»¥åŸç”Ÿ API è°ƒç”¨æ–¹å¼è°ƒç”¨è¯¥æ¥å£ï¼Œä»¥ Java SDK ä¸ºä¾‹ï¼Œè°ƒç”¨æ¥å£çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚

```java
void batchSendMessage() {
    JsonArray ids = new JsonArray();
    ids.add(openId);
    JsonObject content = new JsonObject();
    content.addProperty("text", "test content");
    JsonObject body = new JsonObject();
    body.addProperty("msg_type", MessageTypeEnum.TEXT.getValue());
    body.add("open_ids", ids);
    body.add("content", content);
    RawResponse rawResponse = client.post("/open-apis/message/v4/batch_send/", body, AccessTokenType.Tenant);
    BaseResponse<?> baseResponse = UnmarshalRespUtil.unmarshalResp(rawResponse, BaseResponse.class);
    baseResponse.setRawResponse(rawResponse);
    log.info("success={}, code={}, msg={}", baseResponse.success(), baseResponse.getCode(), baseResponse.getMsg());
}
```

## å“åº”
### å“åº”ä½“
å‚æ•° |ç±»å‹| è¯´æ˜ 
-- |--| -- 
code |int| é”™è¯¯ç ï¼Œé 0 è¡¨ç¤ºå¤±è´¥
msg|string|é”™è¯¯æè¿°
data | - | -
&emsp;âˆŸmessage_id |string| æ‰¹é‡æ¶ˆæ¯ä»»åŠ¡ IDï¼Œæ‰¹é‡å‘é€æ¶ˆæ¯çš„ä»»åŠ¡å”¯ä¸€æ ‡è¯†ï¼Œä»¥ `bm-` å¼€å¤´ï¼ˆä¸ä¸€èˆ¬çš„æ¶ˆæ¯ ID `om_` ä¸åŒï¼Œæ³¨æ„åŒºåˆ†ï¼‰ã€‚
&emsp;âˆŸinvalid_department_ids |list| ä¸åˆæ³•çš„éƒ¨é—¨ ID åˆ—è¡¨ã€‚è¯·æ±‚æ—¶ä¼ å…¥çš„ department_ids åˆ—è¡¨å†…å­˜åœ¨éƒ¨åˆ†éƒ¨é—¨ ID æ— æ•ˆæ—¶ï¼Œä¼šå°†è¿™éƒ¨åˆ† ID é€šè¿‡è¯¥å‚æ•°è¿”å›ï¼ŒåŒæ—¶ä¼šå‘æ­£ç¡®çš„éƒ¨é—¨ ID æ‰¹é‡å‘é€æ¶ˆæ¯ã€‚
&emsp;âˆŸinvalid_open_ids |list| ä¸åˆæ³•çš„ open_id åˆ—è¡¨ã€‚è¯·æ±‚æ—¶ä¼ å…¥çš„ open_ids åˆ—è¡¨å†…å­˜åœ¨éƒ¨åˆ†ç”¨æˆ· open_id æ— æ•ˆæ—¶ï¼Œä¼šå°†è¿™éƒ¨åˆ† ID é€šè¿‡è¯¥å‚æ•°è¿”å›ï¼ŒåŒæ—¶ä¼šå‘æ­£ç¡®çš„ç”¨æˆ· ID æ‰¹é‡å‘é€æ¶ˆæ¯ã€‚
&emsp;âˆŸinvalid_user_ids |list| ä¸åˆæ³•çš„ user_id åˆ—è¡¨ã€‚è¯·æ±‚æ—¶ä¼ å…¥çš„ user_ids åˆ—è¡¨å†…å­˜åœ¨éƒ¨åˆ†ç”¨æˆ· user_id æ— æ•ˆæ—¶ï¼Œä¼šå°†è¿™éƒ¨åˆ† ID é€šè¿‡è¯¥å‚æ•°è¿”å›ï¼ŒåŒæ—¶ä¼šå‘æ­£ç¡®çš„ç”¨æˆ· ID æ‰¹é‡å‘é€æ¶ˆæ¯ã€‚
&emsp;âˆŸinvalid_union_ids |list| ä¸åˆæ³•çš„ union_id åˆ—è¡¨ã€‚è¯·æ±‚æ—¶ä¼ å…¥çš„ union_ids åˆ—è¡¨å†…å­˜åœ¨éƒ¨åˆ†ç”¨æˆ· union_id æ— æ•ˆæ—¶ï¼Œä¼šå°†è¿™éƒ¨åˆ† ID é€šè¿‡è¯¥å‚æ•°è¿”å›ï¼ŒåŒæ—¶ä¼šå‘æ­£ç¡®çš„ç”¨æˆ· ID æ‰¹é‡å‘é€æ¶ˆæ¯ã€‚

### å“åº”ä½“ç¤ºä¾‹
```json
{
  "code": 0,
  "msg": "ok",
  "data": {
    "invalid_department_ids": [
      "d502aaa9514059"
    ],
    "invalid_open_ids": [
      "ou_456e168d61cec276083b357f7bd3f1491",
      "ou_f8cbdb26fb2e4eda075e003381a102a41"
    ],
    "invalid_user_ids": [
      "7cdcc7c22"
    ],
    "invalid_union_ids": [
      "on_cad4860e7af114fb4ff6c5d496d1dd76",
      "on_gdcq860e7af114fb4ff6c5d496dabcet"
    ],
    "message_id": "bm-d4be107c616aed9c1da8ed8068570a9f"
  }
}
```

### é”™è¯¯ç 

HTTPçŠ¶æ€ç | é”™è¯¯ç | æè¿°| æ’æŸ¥å»ºè®®
-- |--| -- | --
200| 10002| Create or send message fail.| åˆ›å»ºæˆ–å‘é€æ¶ˆæ¯å¤±è´¥ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…å“åº”çš„é”™è¯¯ç ä¿¡æ¯æ£€æŸ¥æ¶ˆæ¯æ ¼å¼ã€‚
200| 10003| Invalid parameter.| è¯·æ±‚å‚æ•°ç¼ºå¤±æˆ–è€…æœ‰è¯¯ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…å“åº”çš„é”™è¯¯ç ä¿¡æ¯æ’æŸ¥å‚æ•°é—®é¢˜ã€‚
200| 11101| Open_id not exist.| ä¼ å…¥çš„ open_id éæ³•ã€‚è¯·æ£€æŸ¥è·å–çš„ open_id æ˜¯å¦æ­£ç¡®ã€‚
200| 11203| Send employee ids permission denied.| é€šè¿‡ user_id å‘é€æ¶ˆæ¯å¤±è´¥ã€‚è¯·ç¡®ä¿åœ¨[å¼€å‘è€…åå°](https://open.feishu.cn/app) > **åº”ç”¨è¯¦æƒ…é¡µ** > **æƒé™ç®¡ç†** > **API æƒé™** ä¸­å¼€é€šäº† **ç»™å¤šä¸ªç”¨æˆ·æ‰¹é‡å‘æ¶ˆæ¯** æƒé™ã€‚
200| 11204| Send department list permission denied.| é€šè¿‡ department_ids å‘é€æ¶ˆæ¯å¤±è´¥ã€‚è¯·ç¡®ä¿åœ¨[å¼€å‘è€…åå°](https://open.feishu.cn/app) > **åº”ç”¨è¯¦æƒ…é¡µ** > **æƒé™ç®¡ç†** > **API æƒé™** ä¸­å¼€é€šäº† **ç»™ä¸€ä¸ªæˆ–å¤šä¸ªéƒ¨é—¨çš„æˆå‘˜æ‰¹é‡å‘æ¶ˆæ¯** æƒé™ã€‚
200| 11205| App do not have bot.| åº”ç”¨æœªå¼€å¯æœºå™¨äººèƒ½åŠ›ï¼Œå¼€å¯æ–¹å¼å‚è§[å¦‚ä½•å¯ç”¨æœºå™¨äººèƒ½åŠ›](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-enable-bot-ability)ã€‚
200| 11207| App is not usage.| åº”ç”¨åœ¨å½“å‰ç§Ÿæˆ·ä¸‹ä¸å¯ç”¨ï¼Œè¯·åœ¨[å¼€å‘è€…åå°](https://open.feishu.cn/app)æ£€æŸ¥åº”ç”¨çš„çŠ¶æ€ã€‚
200| 11209| App not exist.| åº”ç”¨ä¸å­˜åœ¨ã€‚è¯·æ›´æ¢å¯ç”¨çš„åº”ç”¨åé‡è¯•ã€‚
200| 11210| App usage info not exist.| åº”ç”¨åœ¨å½“å‰ç§Ÿæˆ·ä¸‹æœªå®‰è£…ï¼Œä¸å¯ä½¿ç”¨ã€‚å¯è”ç³»ç§Ÿæˆ·ç®¡ç†å‘˜ç¡®è®¤åº”ç”¨å®‰è£…çŠ¶æ€ã€‚
200| 11223| Do not have im write permission.| å½“å‰æ“ä½œè€…æ²¡æœ‰å‘é€æ¶ˆæ¯çš„æƒé™ï¼Œè¯·æ ¹æ®æ–‡æ¡£æƒé™è¯´æ˜ï¼Œå¼€é€šæƒé™åé‡è¯•ã€‚
200| 11227| Image key not exist.| ä¼ å…¥çš„å›¾ç‰‡ Keyï¼ˆImage Keyï¼‰éæ³•ã€‚è¯·ä½¿ç”¨å½“å‰æœºå™¨äººé‡æ–°è°ƒç”¨[ä¸Šä¼ å›¾ç‰‡](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/image/create)è·å–å›¾ç‰‡ Keyã€‚
200| 11231| Chat not found.| è¯·æ±‚çš„ä¼šè¯ä¸å­˜åœ¨ï¼Œæ— æ³•è¿›è¡Œæ“ä½œã€‚
200| 11235| This group is set to only admin can mention @All.| å½“å‰ä¼šè¯ç¦æ­¢ @ æ‰€æœ‰äººæ“ä½œï¼Œæ— æ³•è¿›è¡Œæ“ä½œã€‚
200| 11246| Create message content fail.| åˆ›å»ºæ¶ˆæ¯å†…å®¹å¤±è´¥ã€‚ä½ å¯ä»¥æ ¹æ®å®é™…å“åº”çš„é”™è¯¯ç ä¿¡æ¯æ£€æŸ¥æ¶ˆæ¯å†…å®¹ã€‚å¦‚æœè¿”å›çš„é”™è¯¯ç ä¿¡æ¯ä¸º `Service Internal Error`ï¼Œè¡¨ç¤ºç³»ç»Ÿé”™è¯¯ï¼Œå»ºè®®é‡è¯•ã€‚å¡ç‰‡ç›¸å…³çš„é”™è¯¯å¦‚æœæœ‰å…·ä½“çš„å­é”™è¯¯ç ï¼Œè¯·å‚ç…§æ¥å£æ–‡æ¡£ä¸­çš„[å­é”™è¯¯ç ](https://open.feishu.cn/document/ukTMukTMukTM/ucDO1EjL3gTNx4yN4UTM#9c0a88f8)æ’æŸ¥å»ºè®®è§£å†³ã€‚
200| 11247| Internal send message trigger rate limit.| è¯¥åº”ç”¨é€šè¿‡æ‰¹é‡å‘é€æ¶ˆæ¯æ¥å£å‘é€çš„æ€»æ¶ˆæ¯æ•°é‡å·²è¶…è¿‡æ¯æ—¥ä¸Šé™ 50 ä¸‡æ¡ã€‚æ— æ³•è¿›è¡Œæ“ä½œã€‚
200| 11312| Bot messages do not pass the audit.| æ¶ˆæ¯å†…å®¹ä¸åˆæ³•ï¼Œè¯·æ£€æŸ¥æ¶ˆæ¯å†…å®¹ã€‚

### 11246 å­é”™è¯¯ç 

é”™è¯¯ç  | æè¿° | æ’æŸ¥å»ºè®®
--- | --- | ---
100290 | Failed to create card content, ext=ErrCode: 100290; ErrMsg: There is an invalid user resource(at/person) in your card; ErrorValue: %v | å¡ç‰‡ä¸­å­˜åœ¨æ— æ•ˆçš„äººå‘˜ idã€‚è¯·æ£€æŸ¥å¡ç‰‡ä¸­çš„ at äººã€äººå‘˜ç­‰ç»„ä»¶ä¸­ä½¿ç”¨çš„ç”¨æˆ· id å€¼æ˜¯å¦æ­£ç¡®ï¼Œå‚è€ƒ[å¦‚ä½•è·å–ä¸åŒçš„ç”¨æˆ· ID](https://open.feishu.cn/document/home/user-identity-introduction/open-id)ã€‚  
1.  æ‰“å¼€ [API è°ƒè¯•å°](https://open.feishu.cn/api-explorer/cli_a278b89588fb100d?apiName=batch_get_id&from=op_doc_tab&project=contact&resource=user&version=v3)ï¼Œåœ¨å·¦ä¾§ API ç›®å½•ä¸­æ‰¾åˆ°ã€Œ**é€šè®¯å½•**ã€ä¸‹çš„ã€Œ**é€šè¿‡æ‰‹æœºå·æˆ–é‚®ç®±è·å–ç”¨æˆ· ID**ã€ï¼Œç‚¹å‡»è¯¥ API åˆ‡æ¢å½“å‰è°ƒè¯• API ä¸ºã€Œé€šè¿‡æ‰‹æœºå·æˆ–é‚®ç®±è·å–ç”¨æˆ· IDã€ã€‚  
2. ç‚¹å‡» API è°ƒè¯•å°å·¦ä¾§ **æŸ¥çœ‹é‰´æƒå‡­è¯** ä¸­ tenant_access_token ä¸­çš„ **ç‚¹å‡»è·å–**ã€‚  
3. ç‚¹å‡»å³ä¾§å‚æ•°åˆ—è¡¨ï¼Œå°† **æŸ¥è¯¢å‚æ•°** ä¸­çš„ **user_id_type** å‚æ•°è®¾ç½®ä¸ºéœ€è¦è·å–çš„ ID ç±»å‹ã€‚  
	![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/9d1cd9f15e59fcb85bae2277cdfd2b54_0wwDgpbmv8.png?height=1350&lazyload=true&maxWidth=450&width=1722)  
4.  åˆ‡æ¢è‡³ **è¯·æ±‚ä½“** Tabï¼Œå°†è¯·æ±‚ä½“ä¸­çš„ç¤ºä¾‹ ID åˆ é™¤ï¼Œå¹¶ä¿®æ”¹ä¸ºéœ€è¦æŸ¥è¯¢çš„æ‰‹æœºå·æˆ– Emailã€‚  
	![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/8a28bdd8873d64e21152dbde4b4903f0_qfDKXIIbdU.png?height=758&lazyload=true&maxWidth=450&width=956)  
5.  ç‚¹å‡»å³ä¾§ **å¼€å§‹è°ƒè¯•**ï¼Œè°ƒç”¨æˆåŠŸåï¼Œåœ¨ä¸‹æ–¹ **å“åº”ä½“** ä¸­å³å¯è·å–åˆ°æŸ¥è¯¢çš„ User IDã€‚å“åº”ä½“ä¸­è¿”å›çš„ç”¨æˆ· ID ç±»å‹ç”±æŸ¥è¯¢å‚æ•°ä¸­è®¾ç½®çš„ **user_id_type** å‚æ•°å†³å®šã€‚  
	![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/902f9d2aabca8df3a8e648c184a87eea_aWbg4yC3I4.png?height=1474&lazyload=true&maxWidth=450&width=2336)
200380 | Failed to create card content, ext=ErrCode: 200380; ErrMsg: template does not exist, please confirm whether this template has been released; ErrorValue: templateID: %v | æœªæ‰¾åˆ°å¡ç‰‡ã€‚è¯·ç¡®è®¤å½“å‰æ¨¡ç‰ˆå¡ç‰‡å·²ä¿å­˜å¹¶å‘å¸ƒï¼Œå‚è€ƒ[é¢„è§ˆä¸å‘å¸ƒå¡ç‰‡](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/feishu-card-cardkit/preview-and-publish-cards#4c818412)ã€‚  
1.  åœ¨[é£ä¹¦å¡ç‰‡æ­å»ºå·¥å…·](https://open.feishu.cn/cardkit?from=open_docs_preview_and_publish)ç›®æ ‡å¡ç‰‡ç¼–è¾‘é¡µé¢çš„å³ä¸Šè§’ï¼Œç‚¹å‡» **ä¿å­˜**ï¼Œç„¶åç‚¹å‡» **å‘å¸ƒ**ã€‚  
	![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/660c4bd207d87e75da6d3724ba42da33_obpORC9b5Z.png?height=397&lazyload=true&maxWidth=450&width=1808)  
2.  åœ¨ **å‘å¸ƒå¡ç‰‡** å¯¹è¯æ¡†ï¼Œè®¾ç½® **å¡ç‰‡ç‰ˆæœ¬å·**ï¼Œå¹¶ç‚¹å‡» **å‘å¸ƒ**ã€‚é¦–æ¬¡å‘å¸ƒæ—¶ç‰ˆæœ¬å·ä¸€èˆ¬è®¾ç½®ä¸º `1.0.0`ã€‚  
	![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/4333017913821745efa60e2e0a9f338b_OjnyGU9qfp.png?height=520&lazyload=true&maxWidth=400&width=750)  
3.  å‘å¸ƒå¡ç‰‡åï¼Œä½ å¯å‚è€ƒ[å‘é€ç”±æ­å»ºå·¥å…·æ„å»ºçš„å¡ç‰‡](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/send-feishu-card)è°ƒç”¨ API å‘é€å¡ç‰‡ã€‚  
	å¡ç‰‡å‘å¸ƒåï¼Œå°†å¯¹çº¿ä¸Šçš„å¡ç‰‡ç›¸å…³çš„ API è°ƒç”¨ç«‹å³ç”Ÿæ•ˆã€‚ä½ éœ€ç¡®è®¤æœ¬æ¬¡å‘å¸ƒæ˜¯å¦ä¼šå¯¹æœåŠ¡ç«¯ä»£ç é€»è¾‘äº§ç”Ÿä¸å…¼å®¹å˜æ›´ã€‚ä¸ºé¿å…æ­¤ç±»æƒ…å†µï¼Œåœ¨è¯·æ±‚å‘é€å¡ç‰‡æ—¶ï¼Œä½ å¯å°† `template_version_name` å‚æ•°è®¾ç½®ä¸ºå›ºå®šçš„å¡ç‰‡ç‰ˆæœ¬å·ï¼Œé¿å…åœ¨å·¥å…·ä¸Šå‘å¸ƒå¡ç‰‡åç«‹å³å½±å“çº¿ä¸Šä¸šåŠ¡é€»è¾‘ã€‚
200381 | Failed to create card content, ext=ErrCode: 200381; ErrMsg: template is not visible to app, please confirm whether the app is allowed to use this template; ErrorValue: %v, templateID: %v | æ— å¡ç‰‡ä½¿ç”¨æƒé™ã€‚è¯·æ£€æŸ¥å½“å‰å‘é€å¡ç‰‡çš„åº”ç”¨æˆ–è‡ªå®šä¹‰æœºå™¨äººæ˜¯å¦å…·æœ‰è¯¥å¡ç‰‡çš„ä½¿ç”¨æƒé™ï¼Œå‚è€ƒ[ç®¡ç†å¡ç‰‡æ¨¡æ¿æƒé™](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/feishu-card-cardkit/manage-card-template#4530c6a7)ã€‚  
1.  åœ¨å¡ç‰‡æ¨¡æ¿çš„ç¼–è¾‘é¡µé¢ï¼Œç‚¹å‡»åº”ç”¨å›¾æ ‡ã€‚  
	![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/04fff9e7c4b1c10239a212100920f154_0Xt2z0Mp8v.png?height=403&lazyload=true&maxWidth=450&width=1240)  
2.  åœ¨ **æ·»åŠ è‡ªå®šä¹‰æœºå™¨äºº/åº”ç”¨** å¼¹çª—ä¸­ï¼Œæ·»åŠ åº”ç”¨æˆ–è‡ªå®šä¹‰æœºå™¨äººï¼Œä½¿è¯¥åº”ç”¨æˆ–è‡ªå®šä¹‰æœºå™¨äººæ‹¥æœ‰è°ƒç”¨è¯¥å¡ç‰‡æ¨¡æ¿çš„æƒé™ã€‚  
	![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/a6e5dde5fcd532ede7ab6d7a2295195c_JWiFwiwd7W.png?height=250&lazyload=true&maxWidth=450&width=665)
200621 | Failed to create card content, ext=ErrCode: 200621; ErrMsg: parse card json err, please check whether the card json is correct; ErrorValue: %v | å¡ç‰‡ JSON æ ¼å¼é”™è¯¯ã€‚è¯·å‚è€ƒ[å¡ç‰‡ JSON ä»£ç ç»“æ„](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-json-structure)æ£€æŸ¥å¡ç‰‡å†…å®¹ã€‚
200732 | Failed to create card content, ext=ErrCode: 200732; ErrMsg: the actual type of the variable is inconsistent with the specified type in the template. Please check the type of the variable; ErrorValue:  %v, specifiedType:  %v, actualType:  %v | å¡ç‰‡å˜é‡ç±»å‹é”™è¯¯ã€‚è¯·æ£€æŸ¥å‘é€æ¨¡ç‰ˆå¡ç‰‡æ—¶ä½¿ç”¨çš„å˜é‡çš„æ•°æ®ç±»å‹ä¸æ„é€ è¯¥æ¨¡ç‰ˆæ—¶æŒ‡å®šçš„å˜é‡æ•°æ®ç±»å‹æ˜¯å¦ä¸€è‡´ã€‚
200550 | Failed to create card content, ext=ErrCode: 200550; ErrPath: ROOT -> elements -> %v; ErrMsg: chart spec is invalid; ErrorValue: %v | å¡ç‰‡ä¸­çš„å›¾è¡¨ç»„ä»¶é…ç½®é”™è¯¯ã€‚è¯·æ£€æŸ¥å›¾è¡¨ç»„ä»¶ä¸­çš„ chart_spec å±æ€§é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œå‚è€ƒ[å›¾è¡¨](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-components/content-components/chart#39ee4e65)ç»„ä»¶ã€‚  
```json  
{  
  "code": 230099,  
  "msg": "Failed to create card content, ext=ErrCode: 200550; ErrPath: ROOT -> elements -> [2](tag: chart); ErrMsg: chart spec is invalid; ErrorValue: - (root): Must validate at least one schema (anyOf)\n- axes: Invalid type. Expected: array, given: null\n; ",  
  "error": {  
    "log_id": "202409131613579778D691D6E05516DE2D",  
    "troubleshooter": "æ’æŸ¥å»ºè®®æŸ¥çœ‹ï¼ˆTroubleshooting suggestionsï¼‰ï¼š https://open.feishu.cn/search?from=openapi&log_id=202409131613579778D691D6E05516DE2D&code=230099&method_id=6921911482032898068"  
  }  
}  
```  
ErrPath ç¤ºä¾‹è¯´æ˜: ROOT -> elements -> [2](tag: chart)  
![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/681343346e74ffe259928e72915fb0df_cG2saHQakQ.jpeg?height=1706&lazyload=true&maxWidth=450&width=998)
200861 | Failed to create card content, ext=ErrCode: 200861; ErrPath: ROOT -> body -> elements -> %v; ErrMsg: cards of schema V2 no longer support this capability; ErrorValue: unsupported tag %v | å¡ç‰‡ä¸­ä½¿ç”¨äº†schema 1 æ”¯æŒä½† schema 2 ä¸å†æ”¯æŒçš„ç»„ä»¶ã€‚è¯·æ£€æŸ¥å¡ç‰‡å†…å®¹ï¼Œç§»é™¤æˆ–æ›¿æ¢ä¸æ”¯æŒçš„æ ‡ç­¾ï¼Œå‚è€ƒ [åºŸå¼ƒç»„ä»¶è¯´æ˜æ–‡æ¡£](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-json-v2-breaking-changes-release-notes#47cd6626)ã€‚
200570 | Failed to create card content, ext=ErrCode: 200570; ErrMsg: card contains invalid image keys; ErrorValue: image key %v | å¡ç‰‡ä¸­çš„å›¾ç‰‡èµ„æºæ— æ•ˆã€‚è¯·æ£€æŸ¥å¡ç‰‡ä¸­æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„  img_keyï¼Œä½ å¯ä»¥è°ƒç”¨[ä¸Šä¼ å›¾ç‰‡](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/image/create)æ¥å£æˆ–åœ¨æ­å»ºå·¥å…·ä¸­ä¸Šä¼ å›¾ç‰‡ï¼Œè·å–å›¾ç‰‡çš„ keyã€‚
200914 | table rows is invalid | è¡¨æ ¼è¡Œæ— æ•ˆã€‚å¯èƒ½åŸå› ä¸æ’æŸ¥æ–¹æ¡ˆï¼š  
- è¡¨æ ¼çš„ rows éƒ¨åˆ†ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„ JSONï¼Œç¤ºä¾‹å‚è€ƒ[è¡¨æ ¼ JSON ç»“æ„](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-components/content-components/table#51c332ce)ã€‚  
- å•å…ƒæ ¼æ•°æ®ç±»å‹è§£æé”™è¯¯ã€‚ä¾‹å¦‚ï¼ŒæŸåˆ—çš„å•å…ƒæ ¼ç±»å‹æ˜¯å¯Œæ–‡æœ¬ï¼Œä½†è¯¥åˆ—è¯¥è¡Œçš„æ•°æ®æŒ‰å¯Œæ–‡æœ¬è§£æå¤±è´¥ã€‚è¯¥åœºæ™¯ä¸‹å¯æ ¹æ®è¿”å›çš„å•å…ƒæ ¼è¡Œåˆ—ç´¢å¼•ï¼ˆä» 0 å¼€å§‹è®¡æ•°ï¼‰ï¼Œå®šä½é—®é¢˜å•å…ƒæ ¼ï¼Œç„¶åå‚è€ƒ[è¡¨æ ¼](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-components/content-components/table)ä¸­çš„ **data_type å­—æ®µè¯´æ˜**ï¼Œæ£€æŸ¥æ˜¯å¦é…ç½®æœ‰è¯¯ã€‚

æ›´å¤šé”™è¯¯ç ä¿¡æ¯ï¼Œå‚è§[é€šç”¨é”™è¯¯ç ](https://open.feishu.cn/document/ukTMukTMukTM/ugjM14COyUjL4ITN)ã€‚
