---
title: "wx.qy.updateCorpGroupChat"
doc_id: 29849
category_id: 94427
source_url: https://developer.work.weixin.qq.com/document/path/94427
---
最后更新：2022/09/23

变更[企业互联](#24909)/[上下游](#35931)群成员接口

**示例代码**
```
wx.qy.updateCorpGroupChat({
 chatId: "CHATID", //通过企业微信创建群聊接口返回的chatId
 userIdsToAdd: ["lisi","lisi2"], //新增的企业成员列表，仅自建应用使用，第三方应用会忽略该字段
  openUserIdsToAdd: ["wabc3","wbcde"],// 新增的企业成员列表，仅第三方应用使用，自建应用会忽略该字段
 corpGroupUserIdsToAdd: [ // 新增的企业互联/上下游成员列表
 {
 corpId:"ww3333",         // 企业CORPID
       userId:"userid123",         // 成员ID，仅自建应用使用
       openUserId:"wx1111"         // 成员OPEN_USERID，仅第三方应用使用
 },
     {
 corpId:"ww4444",        // 企业CORPID
       userId:"userid123",         // 成员ID，仅自建应用使用
       openUserId:"wx1111"         // 成员OPEN_USERID，仅第三方应用使用
 }
 ],
 success: (res) => {
 console.log(JSON.stringify(res))
 },
 fail: (res) => {
 console.log(JSON.stringify(res))
 }
})
```
>此接口仅在企业微信3.1.8及以后版本支持
>调用前提：必须先调用过wx.qy.login，且session_key未过期，开发者可调用checkSession 检查当前登录态
>当前成员必须在应用的可见范围，且必须在该群内
>仅支持往群里添加企业内部成员/企业互联/上下游成员
>仅限企业互联/上下游企业可调用
>当前成员为下游企业成员时，上下游空间中的"允许外部单位之间互相查看"需要打开才可以往群里添加其他下游企业成员

**请求参数**
**Object object**

| 属性 | 类型 |是否必填 | 说明 | 
| -------- | ------ | ---- | -------------|----- | 
| chatId | String | 是 | 指定的群会话id | 
| userIdsToAdd | Array | 否 | 新增的企业成员列表，仅自建应用使用，第三方应用会忽略该字段 | 
| openUserIdsToAdd | Array | 否 |新增的企业成员列表，仅第三方应用使用，自建应用会忽略该字段 | 
| corpGroupUserIdsToAdd | Array | 否（userIds和corpGroupUserIds至少填一个） | 参与会话的企业互联/上下游成员列表 |
| corpGroupUserIdsToAdd.corpId | String | 是 |企业互联/上下游企业corpId |
| corpGroupUserIdsToAdd.userId | String | 否（userId和openUserId至少填一个）|企业互联/上下游企业成员userId, 仅自建应用返回 |
| corpGroupUserIdsToAdd.openUserId | String | 否（userId和openUserId至少填一个）| 企业互联/上下游企业成员openUserId，仅第三方应用使用返回 |
| success | function | 否 | 接口调用成功的回调函数 | 
| fail | function | 否 | 接口调用失败的回调函数 | 

## 错误列表

|res.errMsg|说明|
|:-----------|:------------|
|updateCorpGroupChat:ok |执行成功|
|updateCorpGroupChat:fail no session or expired |没有调用 wx.qy.login，或者 session_key 已过期|
|updateCorpGroupChat:fail exceed user id list size |超过人数上限|
|updateCorpGroupChat:fail invalid parameter |参数不合法|
|updateCorpGroupChat:fail unsupported chat|不支持群类型，目前仅支持企业互联/上下游群|
