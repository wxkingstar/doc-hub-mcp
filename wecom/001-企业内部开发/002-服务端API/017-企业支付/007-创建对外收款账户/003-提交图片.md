---
title: "提交图片"
doc_id: 47982
category_id: 98972
source_url: https://developer.work.weixin.qq.com/document/path/98972
---
最后更新：2023/11/30

> 上传图片得到图片ID，该ID30天后过期
> 返回的图片ID用于[提交创建对外收款账户的申请单](#47983/提交创建对外收款账户的申请单)中填写图片相关字段
> 图片按应用隔离，无法使用其他应用提交的图片ID
> 只支持JPG/JPEG、PNG、BMP格式的图片
> 请注意，对于从本接口上传的图片，当所有用到这张图片的申请单全部完成流程后，这张图片的图片id将会立即失效

**请求方式：**POST(**HTTPS**)
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/miniapppay/upload_image?access_token=ACCESS_TOKEN

使用multipart/form-data POST上传文件。

**权限说明：**
调用的应用需要满足如下的权限

| 应用类型 | 权限要求 |
| -------- | ---- | 
|自建应用|配置到「[对外收款- 可调用接口的应用](#24952/配置可调用接口的应用)」中 |
|代开发应用|暂不支持| 
|第三方应用|暂不支持|

 *注：* 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 [查看详情](https://developer.work.weixin.qq.com/document/51165)

**参数说明：**

|参数|必须|说明|
|----|----|----|
|access_token|是|调用接口凭证|

POST的请求包中，form-data中媒体文件标识，应包含有filename、content-type等信息

**请求示例：**
```
---------------------------acebdf13572468
Content-Disposition: form-data; name="fieldNameHere"; filename="20180103195745.png"
Content-Type: image/png
Content-Length: 220

<@INCLUDE *C:\Users\abelzhu\Pictures\企业微信截图_20180103195745.png*@>
---------------------------acebdf13572468--

```

**返回数据：**

```
{
 "errcode": 0,
 "errmsg": ""，
 "open_wx_pay_media_id" : "NF_LnvqOch94lvxMB5fUWw8fbKvYrF_EcH239fgIjIkG_q4Q5kyzEGpJtddhyfZY"
}

```
**参数说明：**

|参数|说明|
|----|----|
|errcode|返回码|
|errmsg|对返回码的文本描述内容|
|open_wx_pay_media_id|上传后得到的图片id，30天后过期|

##**上传的图片大小限制**
图片文件大小应在 5B ~ 2MB 之间

##**上传图片的类型限制**
图片文件名后缀应为JPG/JPEG、PNG、BMP之一

##**图片ID的失效条件**
> 以下条件满足其一，则图片ID失效

1、距离上传超过30天
2、图片ID已经被用于提交申请单成功，且所有相关的申请单均已经走完流程
