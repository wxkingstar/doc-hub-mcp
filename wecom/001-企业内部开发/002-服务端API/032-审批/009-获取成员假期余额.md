---
title: "获取成员假期余额"
doc_id: 25691
category_id: 93376
source_url: https://developer.work.weixin.qq.com/document/path/93376
---
最后更新：2023/12/01

通过本接口可获取应用可见范围内各个员工的假期余额数据。

**请求方式：**POST(**HTTPS**)

**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/oa/vacation/getuservacationquota?access_token=ACCESS_TOKEN

**请求示例**

```json
{
 "userid": "ZhangSan"
}
```

**参数说明：**

|参数|必须|类型|说明|
|:-----------|:---|:-------|:------------|
| access_token | 是 | string | 调用接口凭证。必须使用第三方应用accesstoken获取，获取方式参考：[文档-获取access_token](https://work.weixin.qq.com/api/doc/90001/90143/90605) |
|userid|是|string|需要获取假期余额的成员的userid|

**权限说明：** 
| 应用类型 | 权限要求 |
| -------- | ---- | 
|自建应用|配置到「[审批 - 可调用接口的应用](#17893/配置可调用接口的应用)」中 |
|代开发应用|具有「审批」权限| 
|第三方应用|具有「审批」权限|
> 1.第三方应用可以获取第三方应用添加的模板详情。
> 2.自建应用的Secret可获取企业自建模板的模板详情。
> 3.接口调用频率限制为600次/分钟。

*注：* 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 [查看详情](https://developer.work.weixin.qq.com/document/51165)

**返回结果：**

```json
{
 "errcode": 0,
 "errmsg": "ok",
 "lists": [
 {
 "id": 1,
 "assignduration": 0,
 "usedduration": 0,
 "leftduration": 604800,
 "vacationname": "年假",
      "real_assignduration": 0
 },
 {
 "id": 2,
 "assignduration": 1296000,
 "usedduration": 0,
 "leftduration": 1296000,
 "vacationname": "事假",
      "real_assignduration": 1296000
 },
 {
 "id": 3,
 "assignduration": 1296000,
 "usedduration": 0,
 "leftduration": 1296000,
 "vacationname": "病假",
      "real_assignduration": 86400
 }
 ]
}
```

**参数说明：**

|参数|类型|说明|
|:-----------|:-------------|:----------|
|errcode|int32|错误码，详情见错误码说明|
|errmsg|string|错误码对应的错误信息提示|
|lists|obj[]|假期列表|
|lists.id|int32|假期id|
|lists.assignduration|uint32|发放时长，单位为秒|
|lists.usedduration|uint32|使用时长，单位为秒|
|lists.leftduration|uint32|剩余时长，单位为秒|
|lists.vacationname|string|假期名称|
|lists.real_assignduration|uint32|假期的实际发放时长，通常在设置了按照实际工作时间发放假期后进行计算|
> 接口频率限制 600次/分钟
> 注：余额的时长单位都为秒，如果假期时间刻度为“按天”，需要除以86400，得到真实假期余额天数；如果假期时间刻度为“按小时”，需要除以3600得到真实假期余额小时数。

**错误说明：**

|错误码|说明|
|:-----------|:-------------|
|301062|没有假勤权限|
|301063|参数错误|
|301064|内部错误|
