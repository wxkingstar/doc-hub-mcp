---
title: "添加会议高级布局"
doc_id: 47359
category_id: 98861
source_url: https://developer.work.weixin.qq.com/document/path/98861
---
最后更新：2023/05/31

对当前会议添加高级布局，支持批量添加。
用户座次设置需设置参会成员。
单个会议最多允许添加20个高级布局。

>高级布局目前仅支持 H.323/SIP 会议室终端。

**请求方式：** POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/meeting/advanced_layout/add?access_token=ACCESS_TOKEN
 
**请求包体：**
```
{
  "meetingid": "MEETINGID",
  "layout_list": [{
 "layout_name": "testmictest",
 "page_list": [{
 "layout_template_id": "3",
 "enable_polling": true,
 "polling_setting": {
 "polling_interval_unit": 1,
 "polling_interval": 10,
 "ignore_user_novideo": false,
 "ignore_user_absence": false
 },
 "user_seat_list": [{
 "grid_id": "1",
 "grid_type": 1,
 "video_type": 3,
 "user_list": [{
          "userid": "USERID",
 "tmp_openid": "TMPOPENID1",
          "nick_name": "bmlja25hbWUK"
 }]
 }]
 }]
 }]
}
```

**参数说明：**
|参数 |必须 |类型|说明 |
|:--|
|access_token |是 |string|调用接口凭证。获取方法查看“[获取access_token](https://work.weixin.qq.com/api/doc/90001/90143/90605)” |
|meetingid|是|string|会议 ID |
|layout_list|是|object[]|布局对象列表，详见**LayoutRequest**|

**LayoutRequest 说明**
|参数 |必须 |类型|说明 |
|:--|
|layout_name |否|string|布局名称|
|page_list |是|object[]|布局单页对象列表，详见**LayoutPageRequest**|

**LayoutPageRequest 说明**
|参数 |必须 |类型|说明 |
|:--|
|layout_template_id |是|string|布局模板 ID|
|enable_polling| 否|bool|开启或关闭轮询，默认关闭|
|polling_setting| 否|object|轮询参数设置对象，详见**PollingSettingRequest**|
|user_seat_list |是|object[]|用户座次对象列表，详见**UserSeatRequest**|

**PollingSettingRequest 说明**
|参数 |必须 |类型|说明 |
|:--|
|polling_interval_unit |是|uint32|轮询开启后设置参数。轮询间隔时间类型： <br>1：秒<br>2：分钟|
|polling_interval |是|uin32|轮询开启后设置参数 轮询间隔时长，允许取值范围1～999999|
|ignore_user_novideo |是|bool|轮询开启后设置参数，设置是否忽略没开启视频成员|
|ignore_user_absence |是|bool|轮询开启后设置参数，设置是否忽略未入会成员|

**UserSeatRequest 说明**
|参数 |必须 |类型|说明 |
|:--|
|grid_id |是|string|宫格 ID|
|grid_type |是|uint32|宫格类型：<br>1. 视频画面<br>2. 共享画面|
|video_type |否|uint32|视频画面来源：<br>1：演讲者<br>2：自动填充<br>3：指定人员。根据 user_list 的定义显示视频内容。|
|user_list |否|object[]|宫格中的用户列表：轮询关闭，只有一个用户；轮询开启后，可以包含多个用户。详见**GridUser**|

**GridUser 说明**
|参数 |必须 |类型|说明 |
|:--|
|userid| 否|string|本场会议企业成员的userid。userid与tmp_openid必填其一|
|tmp_openid |否|string|用户当前会议临时身份 ID，单场会议唯一|
|nick_name|否| string|video_type为3时必填，用于视频画面展示，为base64编码。|

**返回结果：**
```
{
  "errcode": 0,
  "errmsg": "ok",
  "layout_list": [{
 "layout_id": "LAYOUTID1",
 "layout_name": "testmictest",
 "page_list": [{
 "layout_template_id": "3",
 "enable_polling": true,
 "polling_setting": {
 "polling_interval_unit": 1,
 "polling_interval": 10,
 "ignore_user_absence": false,
 "ignore_user_novideo": false
 },
 "user_seat_list": [{
 "grid_id": "1",
 "grid_type": 1,
 "video_type": 3,
 "user_list": [{
         "userid": "USERID",
 "tmp_openid": "TMPOPENID1",
          "nick_name": "bmlja25hbWUK"
 }]
 }]
 }]
 }]
}
```

**参数说明：**
|参数 |类型|说明 |
|:--|
|errcode |int32|返回码 |
|errmsg |string|对返回码的文本描述内容 |
|layout_list |object[]|布局对象列表，详见**LayoutResponse**|

**LayoutResponse 说明**
|参数 |类型 |说明 |
|:--|
|layout_name |string|布局名称|
|page_list |object[]|布局单页对象列表，详见**LayoutPageResponse**|
|layout_id |string|布局 ID|

**LayoutPageResponse 说明**
|参数 |类型 |说明 |
|:--|
|layout_template_id |string|布局模板 ID|
|enable_polling| bool|开启或关闭轮询，默认关闭|
|polling_setting| object|轮询参数设置对象，详见**PollingSettingResponse**|
|user_seat_list |object[]|用户座次对象列表，详见**UserSeatResponse**|

**PollingSettingResponse 说明**
|参数 |类型 |说明 |
|:--|
|polling_interval_unit |uint32|轮询开启后设置参数。轮询间隔时间类型： <br>1：秒<br>2：分钟|
|polling_interval |uint32|轮询开启后设置参数 轮询间隔时长，允许取值范围1～999999|
|ignore_user_novideo |bool|轮询开启后设置参数，设置是否忽略没开启视频成员|
|ignore_user_absence |bool|轮询开启后设置参数，设置是否忽略未入会成员|

**UserSeatResponse 说明**
|参数 |类型 |说明 |
|:--|
|grid_id |string|宫格 ID|
|grid_type |uint32|宫格类型：<br>1. 视频画面<br>2. 共享画面|
|video_type |uint32|视频画面来源：<br>1：演讲者<br>2：自动填充<br>3：指定人员。根据 user_list 的定义显示视频内容。|
|user_list |object[]|宫格中的用户列表：轮询关闭，只有一个用户；轮询开启后，可以包含多个用户。详见**GridUser**|

**GridUser 说明**
|参数 |类型 |说明 |
|:--|
|userid| string|本场会议企业成员的userid|
|tmp_openid |string|用户当前会议临时身份 ID，单场会议唯一|
|nick_name|string| video_type为3时用于视频画面展示，为base64编码。|
