---
title: "获取客户详情"
doc_id: 13878
category_id: 92114
source_url: https://developer.work.weixin.qq.com/document/path/92114
---
最后更新：2025/12/19

企业可通过此接口，根据外部联系人的userid（[如何获取?](#15445)），拉取客户详情。

**请求方式：**GET（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/externalcontact/get?access_token=ACCESS_TOKEN&external_userid=EXTERNAL_USERID&cursor=CURSOR

**参数说明：**

| 参数 | 必须 | 说明 |
| :----------- | :--- | :----------------- |
| access_token | 是 | 调用接口凭证 |
| external_userid | 是 | 外部联系人的``userid``，注意不是企业成员的账号 |
| cursor |否|上次请求返回的```next_cursor```|

**权限说明:**
调用接口的应用需要满足如下的权限：
| 应用类型 | 权限要求 |
| -------- | ---- | 
|自建应用|配置到「[客户联系 可调用接口的应用](#13473/配置可调用接口的应用)」中 |
|代开发应用|具有「!!#ff0000 客户基础信息!!」权限| 
|第三方应用|具有「!!#ff0000 客户基础信息!!」权限<br>营销获客类应用具有「!!#ff0000 建联客户信息!!」权限|
应用只能获取到可见范围内的成员。
「营销获客」应用只能获取到该应用带来的客户，同时跟进人在应用可见范围或客户可建联的成员范围。
当客户在企业内的跟进人超过500人时需要使用cursor参数进行分页获取。

 *注：* 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 [查看详情](https://developer.work.weixin.qq.com/document/51165)

**返回结果：**

```
{
 "errcode": 0,
 "errmsg": "ok",
 "external_contact":
 {
 "external_userid":"woAJ2GCAAAXtWyujaWJHDDGi0mACHAAA",
 "name":"李四",
 "position":"Manager",
 "avatar":"https://p.qlogo.cn/bizmail/IcsdgagqefergqerhewSdage/0",
 "corp_name":"腾讯",
 "corp_full_name":"腾讯科技有限公司",
 "type":2,
 "gender":1,
 "unionid":"ozynqsulJFCZ2z1aYeS8h-nuasdAAA",
 "external_profile":
 {
 "external_attr":
 [
 {
 "type":0,
 "name":"文本名称",
 "text":
 {
 "value":"文本"
 }
 },
 {
 "type":1,
 "name":"网页名称",
 "web":
 {
 "url":"https://www.test.com",
 "title":"标题"
 }
 },
 {
 "type":2,
 "name":"测试app",
 "miniprogram":
 {
 "appid": "wx8bd80126147df384",
 "pagepath": "/index",
 "title": "my miniprogram"
 }
 }
 ]
 }
 },
 "follow_user":
 [
 {
 "userid":"rocky",
 "remark":"李部长",
 "description":"对接采购事务",
 "createtime":1525779812,
 "tags":
 [
 {
 "group_name":"标签分组名称",
 "tag_name":"标签名称",
 "tag_id":"etAJ2GCAAAXtWyujaWJHDDGi0mACHAAA",
 "type":1
 },
 {
 "group_name":"标签分组名称",
 "tag_name":"标签名称",
 "type":2
       },
       {
         "group_name":"标签分组名称",
 "tag_name":"标签名称",
         "tag_id":"stAJ2GCAAAXtWyujaWJHDDGi0mACHAAA",
 "type":3
       }
 ],
 "remark_corp_name":"腾讯科技",
 "remark_mobiles":
 [
 "13800000001",
 "13000000002"
 ],
 "oper_userid":"rocky",
 "add_way":10,
     "wechat_channels": {
     "nickname": "视频号名称",
       "source": 1
     }
 },
 {
 "userid":"tommy",
 "remark":"李总",
 "description":"采购问题咨询",
 "createtime":1525881637,
 "state":"外联二维码1",
 "oper_userid":"woAJ2GCAAAXtWyujaWJHDDGi0mACHAAA",
 "add_way":3
 }
 ],
   "next_cursor":"NEXT_CURSOR"
}
```
**参数说明：**

| 参数 | 说明 |
| :------- | :---------- |
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
| external_userid | 外部联系人的userid |
| name | 外部联系人的名称<sup>[注1]</sup> |
| avatar | 外部联系人头像。**第三方应用和代开发应用均不可获取**，上游企业不可获取下游企业客户该字段 |
| type | 外部联系人的类型，1表示该外部联系人是微信用户，2表示该外部联系人是企业微信用户 |
|gender|外部联系人性别 0-未知 1-男性 2-女性。**第三方应用和代开发应用均不可获取**，统一返回0。上游企业不可获取下游企业客户该字段，返回值为0，表示未定义|
|unionid|外部联系人在微信开放平台的唯一身份标识（微信unionid），通过此字段企业可将外部联系人与公众号/小程序用户关联起来。<font color=#DC143C >仅当联系人类型是微信用户，且企业绑定了微信开发者ID有此字段</font>。[查看绑定方法](#如何绑定微信开发者id)。**第三方应用和代开发应用均不可获取**，上游企业不可获取下游企业客户的unionid字段
|position|外部联系人的职位，如果外部企业或用户选择隐藏职位，则不返回，<font color=#DC143C >仅当联系人类型是企业微信用户时有此字段</font>|
|corp_name|外部联系人所在企业的简称，<font color=#DC143C >仅当联系人类型是企业微信用户时有此字段</font>|
|corp_full_name|外部联系人所在企业的主体名称，<font color=#DC143C >仅当联系人类型是企业微信用户时有此字段。</font>仅企业自建应用可获取；第三方应用、代开发应用、上下游应用不可获取，返回内容为企业名称，即corp_name。|
|external_profile|外部联系人的自定义展示信息，可以有多个字段和多种类型，包括文本，网页和小程序，<font color=#DC143C >仅当联系人类型是企业微信用户时有此字段</font>，字段详情见[对外属性](#13450)；|
|follow_user.userid|添加了此外部联系人的企业成员userid|
|follow_user.remark|该成员对此外部联系人的备注|
|follow_user.description|该成员对此外部联系人的描述|
|follow_user.createtime|该成员添加此外部联系人的时间|
|follow_user.tags.group_name|该成员添加此外部联系人所打标签的分组名称（标签功能需要企业微信升级到2.7.5及以上版本）|
|follow_user.tags.tag_name|该成员添加此外部联系人所打标签名称|
|follow_user.tags.type|该成员添加此外部联系人所打标签类型, 1-企业设置，2-用户自定义，3-规则组标签|
|follow_user.tags.tag_id|该成员添加此外部联系人所打**企业标签**的id，**用户自定义类型标签（type=2）不返回**|
|follow_user.remark_corp_name|该成员对此微信客户备注的企业名称（仅微信客户有该字段）|
|follow_user.remark_mobiles|该成员对此客户备注的手机号码，**第三方应用和代开发应用均不可获取**，上游企业不可获取下游企业客户该字段|
|follow_user.add_way|该成员添加此客户的来源，具体含义详见[来源定义](#来源定义)|
|follow_user.wechat_channels |该成员添加此客户的来源add_way为10时，对应的视频号信息|
|follow_user.wechat_channels.nickname |视频号名称|
|follow_user.wechat_channels.source |视频号添加场景，0-未知 1-视频号主页 2-视频号直播间 3-视频号留资服务（微信版本要求：iOS ≥ 8.0.20，Android ≥ 8.0.21，且添加时间不早于2022年4月21日。否则添加场景值为0）|
|follow_user.oper_userid|发起添加的userid，如果成员主动添加，为成员的userid；如果是客户主动添加，则为客户的外部联系人userid；如果是内部成员共享/管理员分配，则为对应的成员/管理员userid|
|follow_user.state|企业自定义的state参数，用于区分客户具体是通过哪个「联系我」或获客链接添加；由企业通过[创建「联系我」](#15645/配置客户联系「联系我」方式)或在[获客链接中添加customer_channel参数](#42923)进行指定|
|next_cursor| 分页的cursor，当跟进人多于500人时返回|

**注1：如果是微信用户，则返回其微信昵称。如果是企业微信联系人，则返回其设置对外展示的别名或实名**

##如何绑定微信开发者ID
1. 登录企业的管理后台-客户联系-客户-api（注：若企业管理端没有客户联系的入口，而是家校沟通的入口，则通过 家校沟通-家校沟通-api ），点击绑定去到微信公众平台进行授权，支持绑定公众号和小程序（需要同时绑定微信开放平台）；绑定的公众号或小程序主体需与企业微信主体一致，暂且支持绑定一个
- ![](https://wework.qpic.cn/wwpic3az/93466_2xfwJ7ecS9ukZK-_1723016212/0)
2. 绑定完成，即可通过接口获取微信联系人所对应的微信unionid

##来源定义
add_way表示添加客户的**来源**，有固定的值，而state表示此客户的**渠道**，可以由企业进行自定义的配置，请注意二者的不同。

| 值 | 含义 |
| :------- | :---------- |
|0| 未知来源|
|1|扫描二维码|
|2|搜索手机号|
|3|名片分享|
|4|群聊|
|5|手机通讯录|
|6|微信联系人|
|8|安装第三方应用时自动添加的客服人员|
|9|搜索邮箱|
|10|视频号添加|
|11|通过日程参与人添加|
|12|通过会议参与人添加|
|13|添加微信好友对应的企业微信|
|14|通过智慧硬件专属客服添加|
|15|通过上门服务客服添加|
|16|通过获客链接添加|
|17|通过定制开发添加|
|18|通过需求回复添加|
|21|通过第三方售前客服添加|
|22|通过可能的商务伙伴添加|
|24|通过接受微信账号收到的好友申请添加|
|201|内部成员共享|
|202|管理员/负责人分配|
