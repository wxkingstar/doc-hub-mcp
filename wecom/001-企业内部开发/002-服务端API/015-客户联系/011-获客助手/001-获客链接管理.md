---
title: "获客链接管理"
doc_id: 42921
category_id: 97297
source_url: https://developer.work.weixin.qq.com/document/path/97297
---
最后更新：2025/09/18

[[toc]]

##获取获客链接列表

企业可通过此接口获取当前仍然有效且是当前应用创建的获客链接。

**请求方式**: **POST(HTTP)**

**请求地址:**https://qyapi.weixin.qq.com/cgi-bin/externalcontact/customer_acquisition/list_link?access_token=ACCESS_TOKEN

**请求示例**

```
{
 "limit":100,
 "cursor":"CURSOR"
}
```

**参数说明**:

|参数|必须|说明|
|:-----------|:---|:-----------------|
|access_token | 是 | 调用接口凭证 |
|limit|否|返回的最大记录数，整型，最大值100|
|cursor|否|用于分页查询的游标，字符串类型，由上一次调用返回，首次调用可不填|

**权限说明**:
- 企业需要使用配置到“[可调用应用](#13473/开始开发)”列表中的自建应用secret所获取的accesstoken来调用（[accesstoken如何获取？](#10013/第三步：获取access_token)）。
- 第三方或代开发应用需具有“企业客户权限->获客助手”权限
- 不支持客户联系系统应用调用

**返回结果**:

```
{
 "errcode": 0,
 "errmsg": "ok",
  "link_id_list":
  [
    "LINK_ID_AAA",
    "LINK_ID_BBB",
    "LINK_ID_CCC"
  ],
  "next_cursor":"CURSOR"
}
```

**参数说明**:

|参数|说明|
|:-----------|:-----------------|
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
|link_id_list|link_id列表|
|next_cursor|分页游标，在下次请求时填写以获取之后分页的记录|

##获取获客链接详情

企业可通过此接口根据获客链接id获取链接配置详情。

**请求方式**: **POST(HTTP)**

**请求地址:**https://qyapi.weixin.qq.com/cgi-bin/externalcontact/customer_acquisition/get?access_token=ACCESS_TOKEN

**请求示例**

```
{
 "link_id":"LINK_ID_AAA"
}
```

**参数说明**:

|参数|必须|说明|
|:-----------|:---|:-----------------|
|access_token | 是 | 调用接口凭证 |
|link_id|是|获客链接id。需要是当前应用创建|

**权限说明**:
- 企业需要使用配置到“[可调用应用](#13473/开始开发)”列表中的自建应用secret所获取的accesstoken来调用（[accesstoken如何获取？](#10013/第三步：获取access_token)）。
- 第三方或代开发应用需具有“企业客户权限->获客助手”权限
- 不支持客户联系系统应用调用

**返回结果**:

```
{
 "errcode": 0,
 "errmsg": "ok",
 "link":
  {
    "link_name":"LINK_NAME",
    "url":"https://work.weixin.qq.com/ca/xxxxxx",
    "create_time":1672502400,
    "skip_verify":true
  },
  "range":
  {
    "user_list":["rocky","sam"],
    "department_list":[1]
  },
  "priority_option":
  {
    "priority_type":2,
    "priority_userid_list":["tom","lisi"]
  }

}
```

**参数说明**:

|参数|说明|
|:-----------|:-----------------|
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
|link.link_name|获客链接的名称|
|link.url|获客链接实际的url|
|link.create_time|创建时间|
|link.skip_verify|是否无需验证，默认为true|
|range.user_list|该获客链接使用范围成员列表|
|range.department_list|该获客链接使用范围的部门列表|
|priority_option.priority_type|优先分配类型，1-全企业范围内优先分配给有好友关系的；2-指定范围内优先分配有好友关系的|
|priority_option.priority_userid_list|priority_type为2时的指定成员列表|

##创建获客链接

企业可通过此接口创建新的获客链接。

**请求方式**: **POST(HTTP)**

**请求地址:**https://qyapi.weixin.qq.com/cgi-bin/externalcontact/customer_acquisition/create_link?access_token=ACCESS_TOKEN

**请求示例**

```
{
 "link_name":"获客链接1号",
 "range":
 {
     "user_list":["zhangsan","lisi"],
    "department_list":[2,3]
 },
 "skip_verify":true,
 "priority_option":
  {
    "priority_type":2,
    "priority_userid_list":["tom","lisi"]
  }
}
```

**参数说明**:

|参数|必须|说明|
|:-----------|:---|:-----------------|
|access_token | 是 | 调用接口凭证 |
|link_name|是|链接名称|
|range.user_list|否|此获客链接关联的userid列表，最多500人|
|range.department_list|否|此获客链接关联的部门id列表，部门覆盖总人数最多500个|
|skip_verify|否|是否无需验证，默认为true|
|priority_option.priority_type|否|客户与成员关系绑定，1-全企业范围内优先分配给有好友关系的成员；2-指定范围内优先分配有好友关系的成员|
|priority_option.priority_userid_list|否|指定成员列表，priority_type为2时必填，最多1000个|

>range.user_list和range.department_list不可同时为空，range覆盖的总用户数不得超过500人。
>priority_option仅部分经营类目企业支持此参数，当前企业是否支持可在「高级功能-获客助手」中查看该类目对应的功能是否包含「客户与成员关系绑定」。

**权限说明**:
- 企业需要使用配置到“[可调用应用](#13473/开始开发)”列表中的自建应用secret所获取的accesstoken来调用（[accesstoken如何获取？](#10013/第三步：获取access_token)）。
- 第三方或代开发应用需具有“企业客户权限->获客助手”权限
- 不支持客户联系系统应用调用

**返回结果**:

```
{
 "errcode": 0,
 "errmsg": "ok",
  "link":{
    "link_id":"LINK_ID",
    "link_name":"获客链接1号",
    "url":"URL",
    "create_time":1667232000
  }
}
```

**参数说明**:

|参数|说明|
|:-----------|:-----------------|
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
|link.link_id|获客链接的id|
|link.link_name|获客链接名称|
|link.url|获客链接|
|create_time|获客链接创建时间|

> 如为获取更好的跳转体验，也可将获客链接的url调整为scheme使用，方法如下：
>     **scheme = weixin://biz/ww/profile/{urlencode(LINK_URL?customer_channel=STATE)}**
>     
> 示例，如果创建的获客链接为https://work.weixin.qq.com/ca/caXXXXX，
> 希望配置的customer_channel参数为WORK，则生成的scheme为:
>          **weixin://biz/ww/profile/https%3A%2F%2Fwork.weixin.qq.com%2Fca%2FcaXXXXX%3Fcustomer_channel%3DWORK**

##编辑获客链接

企业可通过此接口编辑获客链接，修改获客链接的关联范围或修改获客链接的名称。

**请求方式**: **POST(HTTP)**

**请求地址:**https://qyapi.weixin.qq.com/cgi-bin/externalcontact/customer_acquisition/update_link?access_token=ACCESS_TOKEN

**请求示例**

```
{
 "link_id":"LINK_ID",
 "link_name":"获客链接1号",
 "range":
 {
     "user_list":["zhangsan","lisi"],
    "department_list":[2,3]
 },
 "skip_verify":true,
 "priority_option":
  {
    "priority_type":2,
    "priority_userid_list":["tom","lisi"]
  }
}
```

**参数说明**:

|参数|必须|说明|
|:-----------|:---|:-----------------|
|access_token | 是 | 调用接口凭证 |
|link_id|是|获客链接的id。需要是当前应用创建|
|link_name|否|更新的链接名称|
|range.user_list|否|此获客链接关联的userid列表，最多可关联500个|
|range.department_list|否|此获客链接关联的部门id列表，部门覆盖总人数最多500个|
|skip_verify|否|是否无需验证，默认为true|
|priority_option.priority_type|否|客户与成员关系绑定，1-全企业范围内优先分配给有好友关系的成员；2-指定范围内优先分配有好友关系的成员|
|priority_option.priority_userid_list|否|priority_type为2时的指定成员列表，最多1000个|

>range为覆盖更新，覆盖的总人数不能超过500人。
>priority_option为覆盖更新，仅部分经营类目企业支持此参数，当前企业是否支持可在「高级功能-获客助手」中查看该类目对应的功能是否包含「客户与成员关系绑定」。

**权限说明**:
- 企业需要使用配置到“[可调用应用](#13473/开始开发)”列表中的自建应用secret所获取的accesstoken来调用（[accesstoken如何获取？](#10013/第三步：获取access_token)）。
- 第三方或代开发应用需具有“企业客户权限->获客助手”权限
- 不支持客户联系系统应用调用

**返回结果**:

```
{
 "errcode": 0,
 "errmsg": "ok"
}
```

**参数说明**:

|参数|说明|
|:-----------|:-----------------|
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |

##删除获客链接

企业可通过此接口删除获客链接，删除后的获客链接将无法继续使用。

**请求方式**: **POST(HTTP)**

**请求地址:**https://qyapi.weixin.qq.com/cgi-bin/externalcontact/customer_acquisition/delete_link?access_token=ACCESS_TOKEN

**请求示例**

```
{
 "link_id":"LINK_ID"
}
```

**参数说明**:

|参数|必须|说明|
|:-----------|:---|:-----------------|
|access_token | 是 | 调用接口凭证 |
|link_id|是|获客链接的id。需要是当前应用创建|

**权限说明**:
- 企业需要使用配置到“[可调用应用](#13473/开始开发)”列表中的自建应用secret所获取的accesstoken来调用（[accesstoken如何获取？](#10013/第三步：获取access_token)）。
- 第三方或代开发应用需具有“企业客户权限->获客助手”权限
- 不支持客户联系系统应用调用

**返回结果**:

```
{
 "errcode": 0,
 "errmsg": "ok"
}
```

**参数说明**:

|参数|说明|
|:-----------|:-----------------|
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
