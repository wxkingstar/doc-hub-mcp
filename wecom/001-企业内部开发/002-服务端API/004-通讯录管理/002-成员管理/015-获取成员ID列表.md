---
title: "获取成员ID列表"
doc_id: 40856
category_id: 96067
source_url: https://developer.work.weixin.qq.com/document/path/96067
---
最后更新：2024/07/23

获取企业成员的userid与对应的部门ID列表，预计于2022年8月8号发布。若需要获取其他字段，参见「[适配建议](#适配建议：)」。

**请求方式：**POST（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/user/list_id?access_token=ACCESS_TOKEN

**请求示例**
```json
{
  "cursor": "xxxxxxx",
  "limit": 10000
}
```

**参数说明：**

| 参数 | 必须 | 说明 |
| ------------ | ------------ | ------------ |
| access_token | 是 | 调用接口凭证 |
| cursor | 否 | 用于分页查询的游标，字符串类型，由上一次调用返回，首次调用不填 |
|limit| 否| 分页，预期请求的数据量，取值范围 1 ~ 10000|

**权限说明：**

仅支持通过“通讯录同步secret”调用。

**返回结果：**

```
{
  "errcode": 0,
  "errmsg": "ok",
  "next_cursor": "aaaaaaaaa",
  "dept_user": [
    {
      "userid": "zhangsan",
      "department": 1
    },
    {
      "userid": "zhangsan",
      "department": 2
    },
    {
      "userid": "lisi",
      "department": 2
    }
  ]
}

```
**参数说明：**

| 参数 | 说明 |
| ------------ | ------------ |
| errcode | 返回码 |
| errmsg | 对返回码的文本描述内容 |
| next_cursor | 分页游标，下次请求时填写以获取之后分页的记录。如果该字段返回空则表示已没有更多数据|
| dept_user | 用户-部门关系列表 |
|userid| 用户userid，当用户在多个部门下时会有多条记录|
|department|用户所属部门|

####**适配建议：**
为保障企业数据安全，应用应当尽量减少通过服务端接口获取通讯录信息，尤其是成员的敏感字段。

若需要获取员工基本信息（姓名、部门名）
- 企业：企业自建应用可通过「[读取成员](#10019)」等通讯录接口获取。
- 服务商：代开发应用经企业管理员授权后可通过「[读取成员](#10019)」等通讯录接口获取。第三方应用不可直接获取姓名和部门名，可以通过“[通讯录展示组件](#17172)”在页面内展示姓名和部门名，完成应用功能。
</br>

若需要获取员工敏感信息（手机号、邮箱）
- 企业：
企业在6月20日前创建的自建应用可通过「[读取成员](#10019)」等通讯录接口获取。
企业在6月20日后创建的自建应用经员工[自主授权敏感信息](#15232)后获取。
</br>
- 服务商：代开发应用经企业管理员授权且[员工自主授权敏感信息](#15232)后可获取。第三方应用不可获取员工的手机号和邮箱。
