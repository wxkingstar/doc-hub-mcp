---
title: "聊天工具栏接口"
doc_id: 31437
category_id: 94765
source_url: https://developer.work.weixin.qq.com/document/path/94765
---
最后更新：2025/03/17

[TOC]

## 概述

企业可将应用页面配置到客服工具栏，方便接待人员在与微信用户的客服聊天中查看和使用，提高服务效率。
从客服工具栏打开的页面，除了一般的jsapi之外，可以使用有会话属性的jsapi，例如：获取当前客户userid、分享消息到当前会话。

- [获取当前联系人userid](#45926)
- [获取上下游互联群ID](#45927)
- [分享消息到当前会话](#29574)

调用前，开发者首先需要调用getContext接口获取当前入口entry值，以此判断是否从客服工具栏进入页面。

## 入口说明
getContext接口使用说明详见“[ww.getContext](#21950)”，在微信客服的工具栏里返回的`entry`值是`single_kf_tools`具体如下：

返回结果 **entry** 说明

| 值 | 说明 | 支持的最低版本 |
| -------- | ---- | ----- |
| single_kf_tools | 从微信客服的工具栏进入 | 3.1.10 |

## 分享微信小店消息
对于 [分享消息到当前会话](#29574)接口，微信客服工具栏额外支持`msgmenu`和`channels_shop_product`的消息类型，具体如下：

 `msgmenu`移动端ios/android从 3.1.12 版本开始支持；桌面端win从 3.1.20 版本开始支持，mac暂不支持

`channels_shop_product`从 4.1.6 版本开始支持，四端均支持，参数可通过[获取商品接口](https://developers.weixin.qq.com/doc/channels/API/product/get)和[获取店铺基本信息接口](https://developers.weixin.qq.com/doc/channels/API/basics/getbasicinfo)获取
