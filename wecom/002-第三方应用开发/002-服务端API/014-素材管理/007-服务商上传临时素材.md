---
title: "服务商上传临时素材"
doc_id: 18022
category_id: 99310
source_url: https://developer.work.weixin.qq.com/document/path/99310
---
最后更新：2023/07/10

> 素材上传得到media_id，该media_id仅三天内有效
> media_id在同一企业内应用之间可以共享

**请求方式：**POST（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/service/media/upload?provider_access_token=ACCESS_TOKEN&amp;type=TYPE&attachment_type=3

使用multipart/form-data POST上传文件， 文件标识名为"media"
**参数说明：**

|参数|必须|说明|
|----|----|----|
|provider_access_token|是|服务商provider_access_token，获取方法参见[服务商的凭证](#11791/服务商的token)|
|type|是|媒体文件类型，分别有图片（image）、语音（voice）、视频（video），普通文件（file）|
|attachment_type|否|附件类型，不同的附件类型用于不同的场景。普通场景下不指定该参数，特定场景下必填。目前支持的特定场景有：</br>3 - 收银台|

POST的请求包中，form-data中媒体文件标识，应包含有 **filename**、filelength、content-type等信息
> filename标识文件展示的名称，需要满足以下规则：
>1. 不能以正斜线（/）开始
>2. 不能包含反斜线（\）和冒号（:）

**调用示例**
curl -F media=@test.csv "https://qyapi.weixin.qq.com/cgi-bin/service/media/upload?provider_access_token=ACCESS_TOKEN&amp;type=TYPE"

**请求示例：**
```
POST https://qyapi.weixin.qq.com/cgi-bin/service/media/upload?provider_access_token=accesstoken001&type=file HTTP/1.1
Content-Type: multipart/form-data; boundary=-------------------------acebdf13572468
Content-Length: 220

---------------------------acebdf13572468
Content-Disposition: form-data; name="media";filename="wework.txt"; filelength=6
Content-Type: application/octet-stream

mytext
---------------------------acebdf13572468--

```

**返回数据：**

```
{
 "errcode": 0,
 "errmsg": ""，
 "type": "image",
 "media_id": "1G6nrLmr5EC3MMb_-zK1dDdzmd0p7cNliYu9V5w7o8K0",
 "created_at": "1380000000"
}

```
**参数说明：**

|参数|说明|
|----|----|
|type|媒体文件类型，分别有图片（image）、语音（voice）、视频（video），普通文件(file)|
|media_id|媒体文件上传后获取的唯一标识，3天内有效|
|created_at|媒体文件上传时间戳|

##**上传的媒体文件限制**
所有文件size必须大于5个字节
* 图片（image）：2MB，支持JPG,PNG格式
* 语音（voice） ：2MB，播放长度不超过60s，**仅支持**AMR格式
* 视频（video） ：10MB，支持MP4格式
* 普通文件（file）：20MB
