---
title: "记录变更事件"
doc_id: 58863
category_id: 101017
source_url: https://developer.work.weixin.qq.com/document/path/101017
---
最后更新：2025/05/29

当成员在API创建的智能表格上修改了记录后，触发该事件。RecordId一次最多回调1000个，超过会分批回调
## 新增记录事件
**示例**
xml请求示例：
```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[fromUser]]></FromUserName> 
 <CreateTime>1348831860</CreateTime>
 <MsgType><
- ![CDATA[event]]></MsgType>
 <Event><
- ![CDATA[smart_sheet_change]]></Event>
 <ChangeType><
- ![CDATA[add_record]]></ChangeType>
 <DocId><
- ![CDATA[dcjgewCwAAqeJcPI1d8Pwbjt7nttzAAA]]></DocId>
 <SheetId><
- ![CDATA[SheetId]]></SheetId>
 <RecordId><
- ![CDATA[RecordId1]]></RecordId>
 <RecordId><
- ![CDATA[RecordId2]]></RecordId>
</xml>
```

**说明**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 本企业成员为userid，非本企业成员为tmp_external_userid |
 | CreateTime | 消息创建时间，unix时间戳|
 | MsgType | 消息类型，此时固定为：```event``` |
 | Event | 事件类型，此时固定为：```smart_sheet_change``` |
 | ChangeType | 事件类型，此时固定为：```add_record``` |
 | DocId | 文档ID |
 | SheetId | 子表ID |
 | RecordId | 记录ID列表 |
 ## 更新记录事件
 **示例**
xml请求示例：
```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[fromUser]]></FromUserName> 
 <CreateTime>1348831860</CreateTime>
 <MsgType><
- ![CDATA[event]]></MsgType>
 <Event><
- ![CDATA[smart_sheet_change]]></Event>
 <ChangeType><
- ![CDATA[update_record]]></ChangeType>
 <DocId><
- ![CDATA[dcjgewCwAAqeJcPI1d8Pwbjt7nttzAAA]]></DocId>
 <SheetId><
- ![CDATA[SheetId]]></SheetId>
 <RecordId><
- ![CDATA[RecordId1]]></RecordId>
 <RecordId><
- ![CDATA[RecordId2]]></RecordId>
</xml>
```

**说明**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 本企业成员为userid，非本企业成员为tmp_external_userid |
 | CreateTime | 消息创建时间，unix时间戳|
 | MsgType | 消息类型，此时固定为：```event``` |
 | Event | 事件类型，此时固定为：```smart_sheet_change``` |
 | ChangeType | 事件类型，此时固定为：```update_record``` |
 | DocId | 文档ID |
 | SheetId | 子表ID |
 | RecordId | 记录ID列表 |
 ## 删除记录事件
 **示例**
xml请求示例：
```
<xml>
 <ToUserName><
- ![CDATA[toUser]]></ToUserName>
 <FromUserName><
- ![CDATA[fromUser]]></FromUserName> 
 <CreateTime>1348831860</CreateTime>
 <MsgType><
- ![CDATA[event]]></MsgType>
 <Event><
- ![CDATA[smart_sheet_change]]></Event>
 <ChangeType><
- ![CDATA[delete_record]]></ChangeType>
 <DocId><
- ![CDATA[dcjgewCwAAqeJcPI1d8Pwbjt7nttzAAA]]></DocId>
 <SheetId><
- ![CDATA[SheetId]]></SheetId>
 <RecordId><
- ![CDATA[RecordId1]]></RecordId>
 <RecordId><
- ![CDATA[RecordId2]]></RecordId>
</xml>
```

**说明**

 | 参数 | 说明 |
 |---- | ----- |
 | ToUserName | 企业微信CorpID |
 | FromUserName | 本企业成员为userid，非本企业成员为tmp_external_userid |
 | CreateTime | 消息创建时间，unix时间戳|
 | MsgType | 消息类型，此时固定为：```event``` |
 | Event | 事件类型，此时固定为：```smart_sheet_change``` |
 | ChangeType | 事件类型，此时固定为：```delete_record``` |
 | DocId | 文档ID |
 | SheetId | 子表ID |
 | RecordId | 记录ID列表 |
