---
title: "获取打印文件"
doc_id: 42205
category_id: 96408
source_url: https://developer.work.weixin.qq.com/document/path/96408
---
最后更新：2022/12/05

获取打印文件地址。目前暂定文件最大为20M。

**请求方式：**POST（**HTTPS**）
**请求地址：** https://qyapi.weixin.qq.com/cgi-bin/openhw/device/get_printer_job_download_url?device_access_token=DEVICE_ACCESS_TOKEN

**请求包体：**
```
{
    "jobid": "JOBID"
}
```

**参数说明：**
 
| 参数名 | 是否必须 | 类型 | 描述 |
| ---------------- | ---- | ---------- | ---------------------------------------- |
| device_access_token | 是 | string | device_access_token ,获取方式见[获取设备调用凭证](#40436) |
| jobid| 是| String | 下载任务的id|

**返回结果：**
```
{
  "errcode": 0,
  "errmsg": "ok"
  "download_url": "xxxxxx",
  "encoding_aeskey":"xxxxx"
}
```

**参数说明：** 

| 参数名 | 描述 |
| ------------ | ----------- |
| errcode | 错误码 |
| errmsg | 错误码描述 |
| download_url     | 下载链接 |
| encoding_aeskey | Base64编码后的加密密钥。长度固定为43，从a-z, A-Z, 0-9共62个字符中选取，是AESKey的Base64编码。解码后即为32字节长的AESKey。加密方式采用AES-256-CBC方式，数据采用PKCS#7填充至32字节的倍数；IV初始向量大小为16字节，取AESKey前16字节，详见：[https://datatracker.ietf.org/doc/html/rfc2315](https://datatracker.ietf.org/doc/html/rfc2315 "https://datatracker.ietf.org/doc/html/rfc2315")|

> 注： 
> 下载链接10分钟内有效，过期后需要重新调用本接口获取新的下载链接
> 下载链接支持分页下载，使用http Range参数控制。
> AESKey=Base64_Decode(encoding_aeskey + “=”)
