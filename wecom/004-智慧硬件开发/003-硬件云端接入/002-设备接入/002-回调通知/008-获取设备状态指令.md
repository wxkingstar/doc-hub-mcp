---
title: "获取设备状态指令"
doc_id: 42388
category_id: 97079
source_url: https://developer.work.weixin.qq.com/document/path/97079
---
最后更新：2022/09/27

企业微信云端主动推送命令到设备云，设备云根据推送的命令做出相应事件响应。
当设备接收到该指令时，需要马上调用一次 [更新设备状态](#40186)接口上报一次在线状态。如无该指令，仍保持半小时上报一次即可。

**请求方式：**POST（**HTTPS**）
**请求地址：**https://127.0.0.1/suite/receive?msg_signature=3a7b08bb8e6dbce3c9671d6fdb69d15066227608&amp;timestamp=1403610513&amp;nonce=380320359
**请求包体：**

```
{
 "msg_type":"command",
 "base_info":{
 "req_id":"xxx",
 "device_sn":"xxx",
 "createtime":1658332800,
 "model_id":"xxx",
 "auth_corpid":"xxx",
 "service_corpid":"xxx"
 },
 "command":{
 "command_type":"fetch_device_status"
 }
}
```

**参数说明：**
 
| 参数名 | 类型 | 描述 |
| ------ | ------ | ---------------- |
| msg_type | string | 用于表示本消息是 事件event 还是指令 command，此处固定为command , 对应command节点数据有效 |
| command | 结构体 | 指令数据 |
| command_type | string |指令类型|
| base_info | 结构体 | 固定字段基础数据 |
| req_id | string | 请求req_id，可以用于排重 |
| device_sn | string | 设备序列号，在第三方管理端登记的SN |
| createtime | uint32 | 事件触发时间戳（unix 时间戳 单位：秒）|
| model_id | string | 设备型号modelid |
| auth_corpid | string | 绑定设备企业的corpid |
| service_corpid | string | 硬件提供商企业corpid |

> 服务商的响应必须在1000ms内完成

**command指令说明：**
| command | 硬件云接收到指令后的动作 |
| -- | -- |
| fetch_device_status | [更新设备状态](#40186) |
