---
title: "获取设备管理二维码"
doc_id: 44935
category_id: 98023
source_url: https://developer.work.weixin.qq.com/document/path/98023
---
最后更新：2024/03/26

获取设备管理二维码，设备管理二维码用于企业用户扫码进入设备管理菜单。url格式如下：
**静态管理二维码：**
https://open.work.weixin.qq.com/connect/hardware?type=static_login&login_code=qqq&state=xxx

**请求方式：**POST（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/openhw/device/gen_login_qrcode?device_access_token=DEVICE_ACCESS_TOKEN
**请求包体：**
```
{
 "state":"xxx1",
 "type":0
}
```
**参数说明：**
 
| 参数名 | 类型 | 描述 |
| ------ | ------ | ---------------- |
| state | string | 扫码后下发[扫码事件](#43754)透传给设备的state值 |
| type | uint32 | 二维码类型，0 静态二维码 1 动态二维码|

**回包**
```
{
 "errcode":0,
 "errmsg":"ok",
 "qrcode_content":"https://open.work.weixin.qq.com/connect/hardware?type=static_login&login_code=qqq&state=xxx1"
}
```

**参数说明：**
 
| 参数名 | 类型 | 描述 |
| ------ | ------ | ---------------- |
| errcode | uint32 | 错误报错码 |
| errmsg | string | 错误报错信息 |
| qrcode_content | string | 静态设备管理二维码url。请将url生成二维码, 扫码使用 |
> 注意
> 静态二维码调用频率限制为针对设备sn级别 1次/min

**动态管理二维码：**
https://open.work.weixin.qq.com/connect/hardware?sn=xx&timestamp=1672381950&signature=xxxxxxxxx&type=dynamic_login&state=xxx

**请求方式：**POST（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/openhw/device/gen_login_qrcode?device_access_token=DEVICE_ACCESS_TOKEN
**请求包体：**
```
{
 "state":"xxx2",
 "type":1
}
```
**参数说明：**
 
| 参数名 | 类型 | 描述 |
| ------ | ------ | ---------------- |
| state | string | 扫码后下发[扫码事件](#43754)透传给设备的state值 |
| type | uint32 | 二维码类型，0 静态二维码 1 动态二维码|

**回包**
```
{
 "errcode":0,
 "errmsg":"ok",
 "qrcode_content":"https://open.work.weixin.qq.com/connect/hardware?sn=xx&timestamp=1672390043&signature=xxxxxx&type=dynamic_login&state=xxx2",
 "expires_in":300
}
```

**参数说明：**
 
| 参数名 | 类型 | 描述 |
| ------ | ------ | ---------------- |
| errcode | uint32 | 错误报错码 |
| errmsg | string | 错误报错信息 |
| qrcode_content | string | 动态设备管理二维码url。请将url生成二维码, 扫码使用 |
| expires_in | uint32 | 二维码有效时间，这里固定5min 300s ，5min后动态二维码过期|

> 动态二维码调用频率限制为针对设备sn级别 1次/min，与[获取身份识别二维码](#44936)共享同一调用频率限制
> 频率调用限制静态二维码与动态二维码互不影响
