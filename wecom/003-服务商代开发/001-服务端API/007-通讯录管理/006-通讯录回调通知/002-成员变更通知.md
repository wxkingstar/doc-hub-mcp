---
title: "成员变更通知"
doc_id: 15004
category_id: 96302
source_url: https://developer.work.weixin.qq.com/document/path/96302
---
最后更新：2023/11/01

[TOC]
#### 新增成员事件
该事件会回调给通讯录同步助手，代开发自建应用以及上游企业共享的应用

**!!#ff0000 【重要】!!**对于2022年8月15号后通讯录助手新配置或修改的回调url，成员属性只回调UserID/Department两个字段

请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_contact]]></Event>
  <ChangeType>create_user</ChangeType>
  <UserID><
- ![CDATA[zhangsan]]></UserID>
  <Name><
- ![CDATA[张三]]></Name>
  <Department><
- ![CDATA[1,2,3]]></Department>
  <MainDepartment>1</MainDepartment>
  <IsLeaderInDept><
- ![CDATA[1,0,0]]></IsLeaderInDept>
  <DirectLeader><
- ![CDATA[lisi,wangwu]]></DirectLeader>
  <Position><
- ![CDATA[产品经理]]></Position>
  <Mobile>13800000000</Mobile>
  <Gender>1</Gender>
  <Email><
- ![CDATA[zhangsan@gzdev.com]]></Email>
  <BizMail><
- ![CDATA[zhangsan@qyycs2.wecom.work]]></BizMail>
  <Status>1</Status>
  <Avatar><
- ![CDATA[http://wx.qlogo.cn/mmopen/ajNVdqHZLLA3WJ6DSZUfiakYe37PKnQhBIeOQBO4czqrnZDS79FH5Wm5m4X69TBicnHFlhiafvDwklOpZeXYQQ2icg/0]]></Avatar>
  <Alias><
- ![CDATA[zhangsan]]></Alias>
  <Telephone><
- ![CDATA[020-123456]]></Telephone>
  <Address><
- ![CDATA[广州市]]></Address>
  <ExtAttr>
    <Item>
    <Name><
- ![CDATA[爱好]]></Name>
    <Type>0</Type>
    <Text>
      <Value><
- ![CDATA[旅游]]></Value>
    </Text>
    </Item>
    <Item>
    <Name><
- ![CDATA[卡号]]></Name>
    <Type>1</Type>
    <Web>
      <Title><
- ![CDATA[企业微信]]></Title>
      <Url><
- ![CDATA[https://work.weixin.qq.com]]></Url>
    </Web>
    </Item>
  </ExtAttr>
</xml>
```
参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_contact |
 |ChangeType|此时固定为create_user |
 |UserID|成员UserID |
 |Name|成员名称;代开发自建应用需要管理员授权才返回|
 |Department|成员部门列表，仅返回该应用有查看权限的部门id |
 |MainDepartment|主部门|
 |IsLeaderInDept|表示所在部门是否为部门负责人，0-否，1-是，顺序与Department字段的部门逐一对应。第三方通讯录应用或者授权了“组织架构信息-应用可获取企业的部门组织架构信息-部门负责人”权限的第三方应用和代开发应用可获取；对于非第三方创建的成员，第三方通讯录应用不可获取；上游企业不可获取下游企业成员该字段|
 |DirectLeader|直属上级UserID，最多1个。第三方通讯录应用或者授权了“组织架构信息-应用可获取可见范围内成员组织架构信息-直属上级”权限的第三方应用和代开发应用可获取；对于非第三方创建的成员，第三方通讯录应用不可获取；上游企业不可获取下游企业成员该字段|
 |Mobile|手机号码，代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段 |
 |Position|职位信息。长度为0~64个字节;代开发自建应用需要管理员授权才返回。上游共享的应用不返回该字段|
 |Gender|性别。0表示未定义，1表示男性，2表示女性。代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段。注：不可获取指返回值0 |
 |Email|邮箱，代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段 |
 |BizMail|企业邮箱，代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段 |
 |Status|激活状态：1=已激活 2=已禁用 4=未激活 已激活代表已激活企业微信或已关注微信插件（原企业号）5=成员退出|
 |Avatar|头像url。 注：如果要获取小图将url最后的”/0”改成”/100”即可。代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段|
 |Alias|成员别名。上游共享的应用不返回该字段|
 |Telephone|座机;代开发自建应用需要管理员授权才返回。上游共享的应用不返回该字段|
 |Address|地址。代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段|
 |ExtAttr|扩展属性;代开发自建应用需要管理员授权才返回。上游共享的应用不返回该字段 |
 |Type|扩展属性类型: 0-本文 1-网页 |
 |Text|文本属性类型，扩展属性类型为0时填写|
 |Value|文本属性内容|
 |Web|网页类型属性，扩展属性类型为1时填写|
 |Title|网页的展示标题|
 |Url|网页的url|

**说明：** 由通讯录同步助手通过api发起的新增成员触发的事件不回调给通讯录同步助手应用。
#### 更新成员事件
该事件会回调给通讯录同步助手，代开发自建应用以及上游企业共享的应用

**!!#ff0000 【重要】对于2022年8月15号后通讯录助手新配置或修改的回调url，该事件只会在成员所属部门变更或UserId变更的情况下触发，并且成员属性只回调UserId/Department/NewUserId三个字段!!**

请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_contact]]></Event>
  <ChangeType>update_user</ChangeType>
  <UserID><
- ![CDATA[zhangsan]]></UserID>
  <NewUserID><
- ![CDATA[zhangsan001]]></NewUserID>
  <Name><
- ![CDATA[张三]]></Name>
  <Department><
- ![CDATA[1,2,3]]></Department>
  <MainDepartment>1</MainDepartment>
  <IsLeaderInDept><
- ![CDATA[1,0,0]]></IsLeaderInDept>
  <Position><
- ![CDATA[产品经理]]></Position>
  <Mobile>13800000000</Mobile>
  <Gender>1</Gender>
  <Email><
- ![CDATA[zhangsan@gzdev.com]]></Email>
  <Status>1</Status>
  <Avatar><
- ![CDATA[http://wx.qlogo.cn/mmopen/ajNVdqHZLLA3WJ6DSZUfiakYe37PKnQhBIeOQBO4czqrnZDS79FH5Wm5m4X69TBicnHFlhiafvDwklOpZeXYQQ2icg/0]]></Avatar>
  <Alias><
- ![CDATA[zhangsan]]></Alias>
  <Telephone><
- ![CDATA[020-123456]]></Telephone>
  <Address><
- ![CDATA[广州市]]></Address>
  <ExtAttr>
    <Item>
    <Name><
- ![CDATA[爱好]]></Name>
    <Type>0</Type>
    <Text>
      <Value><
- ![CDATA[旅游]]></Value>
    </Text>
    </Item>
    <Item>
    <Name><
- ![CDATA[卡号]]></Name>
    <Type>1</Type>
    <Web>
      <Title><
- ![CDATA[企业微信]]></Title>
      <Url><
- ![CDATA[https://work.weixin.qq.com]]></Url>
    </Web>
    </Item>
  </ExtAttr>
</xml>
```
参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_contact |
 |ChangeType|此时固定为update_user |
 |UserID|变更信息的成员UserID |
 |NewUserID|新的UserID，变更时推送（userid由系统生成时可更改一次） |
 |Name|成员名称，变更时推送;代开发自建应用需要管理员授权才返回 |
 |Department|成员部门列表，变更时推送，仅返回该应用有查看权限的部门id|
 |MainDepartment|主部门|
 |IsLeaderInDept|表示所在部门是否为部门负责人，0-否，1-是，顺序与Department字段的部门逐一对应。上游共享的应用不返回该字段|
 |DirectLeader|直属上级UserID，最多5个。代开发的自建应用和上游共享的应用不返回该字段|
 |Mobile|手机号码，变更时推送。代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段 |
 |Position|职位信息。长度为0~64个字节，变更时推送;代开发自建应用需要管理员授权才返回。上游共享的应用不返回该字段 |
 |Gender|性别，变更时推送。0表示未定义，1表示男性，2表示女性。代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段。注：不可获取指返回值0 |
 |Email|邮箱，变更时推送;代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段 |
 |BizMail|企业邮箱，变更时推送;代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段 |
 |Status|激活状态：1=激活或关注， 2=禁用， 4=未激活（重新启用未激活用户或者退出企业并且取消关注时触发），5=成员退出|
 |Avatar|头像url。注：如果要获取小图将url最后的”/0”改成”/100”即可。变更时推送。代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段|
 |Alias|成员别名，变更时推送。上游共享的应用不返回该字段|
 |Telephone|座机，变更时推送;代开发自建应用需要管理员授权才返回。上游共享的应用不返回该字段|
 |Address| 地址;代开发自建应用需要[管理员授权且成员oauth2授权](#应用获取敏感字段的说明)获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段|
 |ExtAttr|扩展属性，变更时推送;代开发自建应用需要管理员授权才返回。上游共享的应用不返回该字段 |
 |Type|扩展属性类型: 0-本文 1-网页 |
 |Text|文本属性类型，扩展属性类型为0时填写|
 |Value|文本属性内容|
 |Web|网页类型属性，扩展属性类型为1时填写|
 |Title|网页的展示标题|
 |Url|网页的url|
 
 **说明：** 由通讯录同步助手通过api发起的更新成员触发的事件不回调给通讯录同步助手应用。
#### 删除成员事件
该事件会回调给通讯录同步助手，代开发自建应用以及上游企业共享的应用。

请求示例：

```
<xml>
  <ToUserName><
- ![CDATA[toUser]]></ToUserName>
  <FromUserName><
- ![CDATA[sys]]></FromUserName> 
  <CreateTime>1403610513</CreateTime>
  <MsgType><
- ![CDATA[event]]></MsgType>
  <Event><
- ![CDATA[change_contact]]></Event>
  <ChangeType>delete_user</ChangeType>
  <UserID><
- ![CDATA[zhangsan]]></UserID>
</xml>
```
参数说明：

 | 参数 | 说明 |
 |----|---- |
 |ToUserName|企业微信CorpID |
 |FromUserName|此事件该值固定为sys，表示该消息由系统生成 |
 |CreateTime|消息创建时间 （整型） |
 |MsgType|消息的类型，此时固定为event |
 |Event|事件的类型，此时固定为change_contact |
 |ChangeType|此时固定为delete_user |
 |UserID|变更信息的成员UserID |
 
 **说明：** 由通讯录同步助手通过api发起的删除成员触发的事件不回调给通讯录同步助手应用。
 
 ###应用获取敏感字段的说明
为保护企业数据与用户隐私，从6月20号20点开始，除通讯录助手以外的基础应用（如客户联系、微信客服、会话存档、日程等），以及新创建的自建应用与代开发应用，调用该接口时，不再返回以下字段：头像、性别、手机、邮箱、企业邮箱、员工个人二维码、地址，应用需要通过[oauth2手工授权](#15232)的方式获取管理员与员工本人授权的字段。
