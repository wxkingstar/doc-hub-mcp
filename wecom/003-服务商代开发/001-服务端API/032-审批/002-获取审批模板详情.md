---
title: "获取审批模板详情"
doc_id: 18596
category_id: 96506
source_url: https://developer.work.weixin.qq.com/document/path/96506
---
最后更新：2024/01/16

[TOC]

**请求方式：**POST（**HTTPS**）
**请求地址：**https://qyapi.weixin.qq.com/cgi-bin/oa/gettemplatedetail?access_token=ACCESS_TOKEN

**请求示例：**

```json
{
 "template_id" : "ZLqk8pcsAoXZ1eYa6vpAgfX28MPdYU3ayMaSPHaaa"
}
```
> 较早时间创建的模板，id为类似“1910324946027731_1688852032423522_1808577376_15111111111”的数字串。

**参数说明：**

| 参数 | 必须 | 说明 |
| ------------ | ------------ |
| access_token | 是 | 调用接口凭证 |
| template_id | 是 | 模板的唯一标识id。可在“获取审批单据详情”、“审批状态变化回调通知”中获得，也可在审批模板的模板编辑页面浏览器Url链接中获得。 |

| 应用类型 | 权限要求 |
| -------- | ---- | 
|自建应用|配置到「[审批 - 可调用接口的应用](#17893/配置可调用接口的应用)」中 |
|代开发应用|具有「审批」权限| 
|第三方应用|具有「审批」权限|
> 1.第三方应用可以获取第三方应用添加的模板详情。
> 2.自建应用的Secret可获取企业自建模板的模板详情。
> 3.接口调用频率限制为600次/分钟。

*注：* 从2023年12月1日0点起，不再支持通过系统应用secret调用接口，存量企业暂不受影响 [查看详情](https://developer.work.weixin.qq.com/document/51165)
 
------------

**返回结果 ：**

```json
{
 "errcode": 0,
 "errmsg": "ok",
 "template_names": [
 {
 "text": "全字段",
 "lang": "zh_CN"
 }
 ],
 "template_content": {
 "controls": [
 {
 "property": {
 "control": "Selector",
 "id": "Selector-15111111111",
 "title": [
 {
 "text": "单选控件",
 "lang": "zh_CN"
 }
 ],
 "placeholder": [
 {
 "text": "这是单选控件的说明",
 "lang": "zh_CN"
 }
 ],
 "require": 0,
 "un_print": 0
 },
 "config": {
 "selector": {
 "type": "single",
 "exp_type": 0,
 "options": [
 {
 "key": "option-15111111111",
 "value": [
 {
 "text": "选项1",
 "lang": "zh_CN"
 }
 ]
 },
 {
 "key": "option-15222222222",
 "value": [
 {
 "text": "选项2",
 "lang": "zh_CN"
 }
 ]
 }
 ]
 }
 }
 }
 ]
 }
}
```

**参数说明：**

| 参数 | 说明 |
| ------------ | ------------ |
| template_names | 模板名称，若配置了多语言则会包含中英文的模板名称，默认为zh_CN中文 |
| template_content | 模板控件信息 |
| └ controls | 模板控件数组。模板详情由多个不同类型的控件组成，控件类型详细说明见附录。 |
| └ └ property | 模板控件属性，包含了模板内控件的各种属性信息 |
| └ └ └ control | 控件类型：Text-文本；Textarea-多行文本；Number-数字；Money-金额；Date-日期/日期+时间；Selector-单选/多选；Contact-成员/部门；Tips-说明文字；File-附件；Table-明细；Attendance-假勤控件；Vacation-请假控件；Location-位置；RelatedApproval-关联审批单；Formula-公式；DateRange-时长；BankAccount-收款账户 |
| └ └ └ id | 控件id |
| └ └ └ title | 控件名称，若配置了多语言则会包含中英文的控件名称，默认为zh_CN中文 |
| └ └ └ placeholder | 控件说明，向申请者展示的控件填写说明，若配置了多语言则会包含中英文的控件说明，默认为zh_CN中文 |
| └ └ └ require | 是否必填：1-必填；0-非必填 |
| └ └ └ un_print | 是否参与打印：1-不参与打印；0-参与打印 |
| └ └ config | 模板控件配置，包含了部分控件类型的附加类型、属性，详见附录说明。目前有配置信息的控件类型有：Date-日期/日期+时间；Selector-单选/多选；Contact-成员/部门；Table-明细；Attendance-假勤组件（请假、外出、出差、加班） |

---
### **附录**

#### **附1：Date控件（日期/日期+时间控件）config说明：**
```json
{
 "date": {
 "type": "day"
 }
}
```

| 参数 | 说明 |
| ------------ | ------------ |
| date | 类型标志，日期/日期+时间控件的config中会包含此参数 |
| └ type | 时间展示类型：day-日期；hour-日期+时间 |

#### **附2：Selector控件（单选/多选控件）config说明：**

```json
{
 "selector": {
 "type": "single",
 "options": [
 {
 "key": "option-15111111111",
 "value": [
 {
 "text": "选项1",
 "lang": "zh_CN"
 }
 ]
 },
 {
 "key": "option-15222222222",
 "value": [
 {
 "text": "选项2",
 "lang": "zh_CN"
 }
 ]
 }
 ]
 }
}
```
| 参数 | 说明 |
| ------------ | ------------ |
| selector | 类型标志，单选/多选控件的config中会包含此参数 |
| └ type | 选择类型：single-单选；multi-多选 |
| └ options | 选项，包含单选/多选控件中的所有选项，可能有多个 |
| └ └ key | 选项key，选项的唯一id，可用于发起审批申请，为单选/多选控件赋值|
| └ └ value | 选项值，若配置了多语言则会包含中英文的选项值，默认为zh_CN中文|
| └ op_relations |如果设置了控件关联，则会有此项 |
| └ └ key | 关联的选项key|
| └ └ relation_list | 关联的控件信息|
| └ └ └ related_control_id | 关联的控件id|
| └ └ └ action | 关联的动作 1:关联控件显示隐藏状态|

#### **附3：Contact控件（成员/部门控件）config说明：**
```json
{
 "contact": {
 "type": "multi",
 "mode": "department"
 }
}
```
| 参数 | 说明 |
| ------------ | ------------ |
| contact | 类型标志，单选/多选控件的config中会包含此参数 |
| └ type | 选择方式：single-单选；multi-多选 |
| └ mode | 选择对象：user-成员；department-部门 |

#### **附4：Table（明细控件）config说明：**
```json
{
 "table": {
 "children": [
 {
 "property": {
 "control": "Text",
 "id": "Text-15111111111",
 "title": [
 {
 "text": "明细内文本控件",
 "lang": "zh_CN"
 }
 ],
 "placeholder": [
 {
 "text": "这是明细内文本控件的说明",
 "lang": "zh_CN"
 }
 ],
 "require": 0,
 "un_print": 0
 }
 }
 ],
 "stat_field": []
 }
}
```
| 参数 | 说明 |
| ------------ | ------------ |
| table | 类型标志，明细控件的config中会包含此参数 |
| └ children | 明细内的子控件，内部结构同controls |

#### **附5：Attendance控件（假勤控件）config说明：**
说明:【出差】【加班】【外出】模板特有的控件
```json
{
  "attendance": {
    "date_range": {
      "type": "hour"
    },
    "type": 3
  }
}
```

| 参数 | 说明 |
| ------------ | ------------ |
| attendance | 类型标志，假勤控件的config中会包含此参数 |
| └ date_range | 假期控件属性|
| └└ type | 时间刻度：hour-精确到分钟, halfday—上午/下午|
| └ type | 假勤控件类型：1-请假，3-出差，4-外出，5-加班 |

#### **附6：Vacation控件（假勤控件）说明：**
说明:【请假】模板特有控件, 请假类型强关联审批应用中的假期管理。
```json
{
  "vacation_list": {
    "item": [{
      "id": 1,
      "name": [{
        "text": "年假",
        "lang": "zh_CN"
      }]
    }, {
      "id": 2,
      "name": [{
        "text": "事假",
        "lang": "zh_CN"
      }]
    }
    ...//省略 
    ]
  }
}
```

| 参数 | 说明 |
| ------------ | ------------ |
| vacation_list | 假期类型数组|
| └ item| 单个假期类型属性|
| └└ id | 假期类型标识id|
| └└ name | 假期类型名称，默认zh_CN中文名称|

#### **附7：Tips控件（说明文字控件）config说明：**
```json
{
 "tips": {
 "tips_content": [
 {
 "text": {
 "sub_text": [
 {
 "type": 1,
 "content": {
 "plain_text": {
 "content": "说明文字"
 }
 }
 },
 {
 "type": 2,
 "content": {
 "link": {
 "title": "这是一个链接",
 "url": "https://work.weixin.qq.com"
 }
 }
 }
 ]
 },
 "lang": "zh_CN"
 },
 {
 "text": {
 "sub_text": [
 {
 "type": 1,
 "content": {
 "plain_text": {
 "content": "tips"
 }
 }
 },
 {
 "type": 2,
 "content": {
 "link": {
 "title": "this is a link",
 "url": "https://work.weixin.qq.com"
 }
 }
 }
 ]
 },
 "lang": "en"
 }
 ]
 }
}
```
| 参数 | 说明 |
| ------------ | ------------ |
| tips_content  | 说明文字数组，元素为不同语言的富文本说明文字| 
| └ text  | 某个语言的富文本说明文字数组，元素为不同文本类型的说明文字分段| 
| └lang  | 语言类型| 
| └└ sub_text  | 说明文字分段| 
| └└└ type  | 文本类型 1:纯文本 2:链接，每个说明文字中只支持包含一个链接| 
| └└└ content  | 内容| 
| └└└└plain_text  | 纯文本类型的内容| 
| └└└└└content  | 纯文本文字| 
| └└└└link  | 链接类型的内容| 
| └└└└└title  | 链接标题| 
| └└└└└url  | 链接url| 

---
### **错误说明**
| 错误码 | 说明 |
| ------------ | ------------ |
| 301025 |参数错误，请求template_id非法|
|301026|通用错误码，拉取审批模板内部接口失败|
