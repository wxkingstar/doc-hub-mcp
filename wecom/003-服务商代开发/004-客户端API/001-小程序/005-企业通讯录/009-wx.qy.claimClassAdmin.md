---
title: "wx.qy.claimClassAdmin"
doc_id: 29902
category_id: 96982
source_url: https://developer.work.weixin.qq.com/document/path/96982
---
最后更新：2021/05/24

跳转到认领班级的界面

#### 示例代码：

```js

wx.qy.claimClassAdmin({
 success: function(res) {
 // 回调成功
   var departmentIds = res.departmentIds; //数组类型
   for (var i = 0; i < departmentIds.length; i++)
 {
      var departmentId = departmentIds[i];
 }
 },
 fail: function(res) {
 // 失败处理
   console.log(res)
 }
});

```

> 此接口仅在企业微信3.1.8及以后版本支持 
> 必须先调用过wx.qy.login，且session_key未过期，开发者可调用checkSession 检查当前登录态

#### 请求参数
##### Object object

| 参数名 | 类型 | 必填 | 说明 |
| --------------- | -------- | ------------------------------- | ---------------------------------------- |
| success | Function | 否 | 接口调用成功的回调函数 |
| fail | Function | 否 | 接口调用失败的回调函数 |

#### 返回结果

##### Object object

| 参数名 | 类型 | 必填 | 说明 |
| --------------- | -------- | ------------------------------- | ---------------------------------------- |
| departmentIds | Array | 是 | 认领的班级部门id列表 |

## 错误列表

|res.err_msg|说明|
|:-----------|:------------|
|claimClassAdmin:ok |执行成功|
|claimClassAdmin:fail no permission |必须先成功调用agentConfig|
|claimClassAdmin:fail user not in allow list |当前成员不在应用可见范围|
